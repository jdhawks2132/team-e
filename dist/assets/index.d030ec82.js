const E2=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};E2();function S2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),I2=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),b2=Symbol.for("react.strict_mode"),k2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),C2=Symbol.for("react.context"),A2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),x2=Symbol.for("react.memo"),P2=Symbol.for("react.lazy"),KS=Symbol.iterator;function D2(e){return e===null||typeof e!="object"?null:(e=KS&&e[KS]||e["@@iterator"],typeof e=="function"?e:null)}var Ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jb=Object.assign,Vb={};function Ou(e,t,n){this.props=e,this.context=t,this.refs=Vb,this.updater=n||Ub}Ou.prototype.isReactComponent={};Ou.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ou.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $b(){}$b.prototype=Ou.prototype;function $y(e,t,n){this.props=e,this.context=t,this.refs=Vb,this.updater=n||Ub}var By=$y.prototype=new $b;By.constructor=$y;jb(By,Ou.prototype);By.isPureReactComponent=!0;var GS=Array.isArray,Bb=Object.prototype.hasOwnProperty,qy={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function zb(e,t,n){var r,o={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Bb.call(t,r)&&!qb.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),d=0;d<c;d++)f[d]=arguments[d+2];o.children=f}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:jl,type:e,key:s,ref:a,props:o,_owner:qy.current}}function O2(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zy(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function L2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var WS=/\/+/g;function bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L2(""+e.key):t.toString(36)}function Vf(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case jl:case I2:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+bm(a,0):r,GS(o)?(n="",e!=null&&(n=e.replace(WS,"$&/")+"/"),Vf(o,t,n,"",function(d){return d})):o!=null&&(zy(o)&&(o=O2(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(WS,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",GS(e))for(var c=0;c<e.length;c++){s=e[c];var f=r+bm(s,c);a+=Vf(s,t,n,f,o)}else if(f=D2(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=r+bm(s,c++),a+=Vf(s,t,n,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cf(e,t,n){if(e==null)return e;var r=[],o=0;return Vf(e,r,"","",function(s){return t.call(n,s,o++)}),r}function M2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},$f={transition:null},F2={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:$f,ReactCurrentOwner:qy};he.Children={map:cf,forEach:function(e,t,n){cf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cf(e,function(){t++}),t},toArray:function(e){return cf(e,function(t){return t})||[]},only:function(e){if(!zy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Ou;he.Fragment=T2;he.Profiler=k2;he.PureComponent=$y;he.StrictMode=b2;he.Suspense=R2;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jb({},e.props),o=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=qy.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)Bb.call(t,f)&&!qb.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){c=Array(f);for(var d=0;d<f;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:jl,type:e.type,key:o,ref:s,props:r,_owner:a}};he.createContext=function(e){return e={$$typeof:C2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:N2,_context:e},e.Consumer=e};he.createElement=zb;he.createFactory=function(e){var t=zb.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:A2,render:e}};he.isValidElement=zy;he.lazy=function(e){return{$$typeof:P2,_payload:{_status:-1,_result:e},_init:M2}};he.memo=function(e,t){return{$$typeof:x2,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=$f.transition;$f.transition={};try{e()}finally{$f.transition=t}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(e,t){return zt.current.useCallback(e,t)};he.useContext=function(e){return zt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};he.useEffect=function(e,t){return zt.current.useEffect(e,t)};he.useId=function(){return zt.current.useId()};he.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return zt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};he.useRef=function(e){return zt.current.useRef(e)};he.useState=function(e){return zt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return zt.current.useTransition()};he.version="18.2.0";(function(e){e.exports=he})(fe);const U2=S2(fe.exports);var vg={},Hb={exports:{}},bn={},Kb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,re){var ie=q.length;q.push(re);e:for(;0<ie;){var Ce=ie-1>>>1,Ke=q[Ce];if(0<o(Ke,re))q[Ce]=re,q[ie]=Ke,ie=Ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],ie=q.pop();if(ie!==re){q[0]=ie;e:for(var Ce=0,Ke=q.length,Yi=Ke>>>1;Ce<Yi;){var ur=2*(Ce+1)-1,Ku=q[ur],Bn=ur+1,Ji=q[Bn];if(0>o(Ku,ie))Bn<Ke&&0>o(Ji,Ku)?(q[Ce]=Ji,q[Bn]=ie,Ce=Bn):(q[Ce]=Ku,q[ur]=ie,Ce=ur);else if(Bn<Ke&&0>o(Ji,ie))q[Ce]=Ji,q[Bn]=ie,Ce=Bn;else break e}}return re}function o(q,re){var ie=q.sortIndex-re.sortIndex;return ie!==0?ie:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var f=[],d=[],v=1,y=null,g=3,_=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=q)r(d),re.sortIndex=re.expirationTime,t(f,re);else break;re=n(d)}}function A(q){if(T=!1,k(q),!S)if(n(f)!==null)S=!0,Cr(L);else{var re=n(d);re!==null&&ss(A,re.startTime-q)}}function L(q,re){S=!1,T&&(T=!1,I(P),P=-1),_=!0;var ie=g;try{for(k(re),y=n(f);y!==null&&(!(y.expirationTime>re)||q&&!_e());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,g=y.priorityLevel;var Ke=Ce(y.expirationTime<=re);re=e.unstable_now(),typeof Ke=="function"?y.callback=Ke:y===n(f)&&r(f),k(re)}else r(f);y=n(f)}if(y!==null)var Yi=!0;else{var ur=n(d);ur!==null&&ss(A,ur.startTime-re),Yi=!1}return Yi}finally{y=null,g=ie,_=!1}}var R=!1,O=null,P=-1,Q=5,N=-1;function _e(){return!(e.unstable_now()-N<Q)}function ct(){if(O!==null){var q=e.unstable_now();N=q;var re=!0;try{re=O(!0,q)}finally{re?Vn():(R=!1,O=null)}}else R=!1}var Vn;if(typeof E=="function")Vn=function(){E(ct)};else if(typeof MessageChannel<"u"){var $n=new MessageChannel,Jr=$n.port2;$n.port1.onmessage=ct,Vn=function(){Jr.postMessage(null)}}else Vn=function(){C(ct,0)};function Cr(q){O=q,R||(R=!0,Vn())}function ss(q,re){P=C(function(){q(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,Cr(L))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(q){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ie=g;g=re;try{return q()}finally{g=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=g;g=q;try{return re()}finally{g=ie}},e.unstable_scheduleCallback=function(q,re,ie){var Ce=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ce+ie:Ce):ie=Ce,q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ie+Ke,q={id:v++,callback:re,priorityLevel:q,startTime:ie,expirationTime:Ke,sortIndex:-1},ie>Ce?(q.sortIndex=ie,t(d,q),n(f)===null&&q===n(d)&&(T?(I(P),P=-1):T=!0,ss(A,ie-Ce))):(q.sortIndex=Ke,t(f,q),S||_||(S=!0,Cr(L))),q},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(q){var re=g;return function(){var ie=g;g=re;try{return q.apply(this,arguments)}finally{g=ie}}}})(Gb);(function(e){e.exports=Gb})(Kb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=fe.exports,En=Kb.exports;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qb=new Set,il={};function Yo(e,t){cu(e,t),cu(e+"Capture",t)}function cu(e,t){for(il[e]=t,e=0;e<t.length;e++)Qb.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mg=Object.prototype.hasOwnProperty,j2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QS={},XS={};function V2(e){return mg.call(XS,e)?!0:mg.call(QS,e)?!1:j2.test(e)?XS[e]=!0:(QS[e]=!0,!1)}function $2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B2(e,t,n,r){if(t===null||typeof t>"u"||$2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,n,r,o,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hy=/[\-:]([a-z])/g;function Ky(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hy,Ky);_t[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hy,Ky);_t[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hy,Ky);_t[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gy(e,t,n,r){var o=_t.hasOwnProperty(t)?_t[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B2(t,n,o,r)&&(n=null),r||o===null?V2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qr=Wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ff=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Wy=Symbol.for("react.strict_mode"),gg=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),Qy=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),Jb=Symbol.for("react.offscreen"),YS=Symbol.iterator;function Aa(e){return e===null||typeof e!="object"?null:(e=YS&&e[YS]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,km;function ja(e){if(km===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);km=t&&t[1]||""}return`
`+km+e}var Nm=!1;function Cm(e,t){if(!e||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=r.stack.split(`
`),a=o.length-1,c=s.length-1;1<=a&&0<=c&&o[a]!==s[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==s[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==s[c]){var f=`
`+o[a].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=a&&0<=c);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ja(e):""}function q2(e){switch(e.tag){case 5:return ja(e.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return e=Cm(e.type,!1),e;case 11:return e=Cm(e.type.render,!1),e;case 1:return e=Cm(e.type,!0),e;default:return""}}function _g(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case $s:return"Portal";case gg:return"Profiler";case Wy:return"StrictMode";case yg:return"Suspense";case wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yb:return(e.displayName||"Context")+".Consumer";case Xb:return(e._context.displayName||"Context")+".Provider";case Qy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xy:return t=e.displayName||null,t!==null?t:_g(e.type)||"Memo";case di:t=e._payload,e=e._init;try{return _g(e(t))}catch{}}return null}function z2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _g(t);case 8:return t===Wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H2(e){var t=Zb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hf(e){e._valueTracker||(e._valueTracker=H2(e))}function ek(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eg(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function JS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Li(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tk(e,t){t=t.checked,t!=null&&Gy(e,"checked",t,!1)}function Sg(e,t){tk(e,t);var n=Li(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ig(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ig(e,t.type,Li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ZS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ig(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Va=Array.isArray;function tu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Li(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Tg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Va(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Li(n)}}function nk(e,t){var n=Li(t.value),r=Li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var df,ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K2=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){K2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function ok(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function sk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ok(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var G2=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(e,t){if(t){if(G2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Ng(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=null;function Yy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ag=null,nu=null,ru=null;function nI(e){if(e=Bl(e)){if(typeof Ag!="function")throw Error($(280));var t=e.stateNode;t&&(t=sd(t),Ag(e.stateNode,e.type,t))}}function uk(e){nu?ru?ru.push(e):ru=[e]:nu=e}function ak(){if(nu){var e=nu,t=ru;if(ru=nu=null,nI(e),t)for(e=0;e<t.length;e++)nI(t[e])}}function lk(e,t){return e(t)}function ck(){}var Am=!1;function fk(e,t,n){if(Am)return e(t,n);Am=!0;try{return lk(e,t,n)}finally{Am=!1,(nu!==null||ru!==null)&&(ck(),ak())}}function sl(e,t){var n=e.stateNode;if(n===null)return null;var r=sd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var Rg=!1;if(zr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Rg=!1}function W2(e,t,n,r,o,s,a,c,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var Ka=!1,oh=null,sh=!1,xg=null,Q2={onError:function(e){Ka=!0,oh=e}};function X2(e,t,n,r,o,s,a,c,f){Ka=!1,oh=null,W2.apply(Q2,arguments)}function Y2(e,t,n,r,o,s,a,c,f){if(X2.apply(this,arguments),Ka){if(Ka){var d=oh;Ka=!1,oh=null}else throw Error($(198));sh||(sh=!0,xg=d)}}function Jo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rI(e){if(Jo(e)!==e)throw Error($(188))}function J2(e){var t=e.alternate;if(!t){if(t=Jo(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return rI(o),e;if(s===r)return rI(o),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function dk(e){return e=J2(e),e!==null?pk(e):null}function pk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pk(e);if(t!==null)return t;e=e.sibling}return null}var vk=En.unstable_scheduleCallback,iI=En.unstable_cancelCallback,Z2=En.unstable_shouldYield,eL=En.unstable_requestPaint,Xe=En.unstable_now,tL=En.unstable_getCurrentPriorityLevel,Jy=En.unstable_ImmediatePriority,mk=En.unstable_UserBlockingPriority,uh=En.unstable_NormalPriority,nL=En.unstable_LowPriority,gk=En.unstable_IdlePriority,nd=null,Er=null;function rL(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(nd,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:sL,iL=Math.log,oL=Math.LN2;function sL(e){return e>>>=0,e===0?32:31-(iL(e)/oL|0)|0}var pf=64,vf=4194304;function $a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ah(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?r=$a(c):(s&=a,s!==0&&(r=$a(s)))}else a=n&~o,a!==0?r=$a(a):s!==0&&(r=$a(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tr(t),o=1<<n,r|=e[n],t&=~o;return r}function uL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-tr(s),c=1<<a,f=o[a];f===-1?((c&n)===0||(c&r)!==0)&&(o[a]=uL(c,t)):f<=t&&(e.expiredLanes|=c),s&=~c}}function Pg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yk(){var e=pf;return pf<<=1,(pf&4194240)===0&&(pf=64),e}function Rm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=n}function lL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tr(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Zy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Se=0;function wk(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _k,e0,Ek,Sk,Ik,Dg=!1,mf=[],bi=null,ki=null,Ni=null,ul=new Map,al=new Map,mi=[],cL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oI(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function xa(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Bl(t),t!==null&&e0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fL(e,t,n,r,o){switch(t){case"focusin":return bi=xa(bi,e,t,n,r,o),!0;case"dragenter":return ki=xa(ki,e,t,n,r,o),!0;case"mouseover":return Ni=xa(Ni,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return ul.set(s,xa(ul.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,al.set(s,xa(al.get(s)||null,e,t,n,r,o)),!0}return!1}function Tk(e){var t=bo(e.target);if(t!==null){var n=Jo(t);if(n!==null){if(t=n.tag,t===13){if(t=hk(n),t!==null){e.blockedOn=t,Ik(e.priority,function(){Ek(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Og(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cg=r,n.target.dispatchEvent(r),Cg=null}else return t=Bl(n),t!==null&&e0(t),e.blockedOn=n,!1;t.shift()}return!0}function sI(e,t,n){Bf(e)&&n.delete(t)}function hL(){Dg=!1,bi!==null&&Bf(bi)&&(bi=null),ki!==null&&Bf(ki)&&(ki=null),Ni!==null&&Bf(Ni)&&(Ni=null),ul.forEach(sI),al.forEach(sI)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Dg||(Dg=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,hL)))}function ll(e){function t(o){return Pa(o,e)}if(0<mf.length){Pa(mf[0],e);for(var n=1;n<mf.length;n++){var r=mf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bi!==null&&Pa(bi,e),ki!==null&&Pa(ki,e),Ni!==null&&Pa(Ni,e),ul.forEach(t),al.forEach(t),n=0;n<mi.length;n++)r=mi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)Tk(n),n.blockedOn===null&&mi.shift()}var iu=Qr.ReactCurrentBatchConfig,lh=!0;function dL(e,t,n,r){var o=Se,s=iu.transition;iu.transition=null;try{Se=1,t0(e,t,n,r)}finally{Se=o,iu.transition=s}}function pL(e,t,n,r){var o=Se,s=iu.transition;iu.transition=null;try{Se=4,t0(e,t,n,r)}finally{Se=o,iu.transition=s}}function t0(e,t,n,r){if(lh){var o=Og(e,t,n,r);if(o===null)Vm(e,t,r,ch,n),oI(e,r);else if(fL(o,e,t,n,r))r.stopPropagation();else if(oI(e,r),t&4&&-1<cL.indexOf(e)){for(;o!==null;){var s=Bl(o);if(s!==null&&_k(s),s=Og(e,t,n,r),s===null&&Vm(e,t,r,ch,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Vm(e,t,r,null,n)}}var ch=null;function Og(e,t,n,r){if(ch=null,e=Yy(r),e=bo(e),e!==null)if(t=Jo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ch=e,null}function bk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tL()){case Jy:return 1;case mk:return 4;case uh:case nL:return 16;case gk:return 536870912;default:return 16}default:return 16}}var Si=null,n0=null,qf=null;function kk(){if(qf)return qf;var e,t=n0,n=t.length,r,o="value"in Si?Si.value:Si.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[s-r];r++);return qf=o.slice(e,1<r?1-r:void 0)}function zf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gf(){return!0}function uI(){return!1}function kn(e){function t(n,r,o,s,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gf:uI,this.isPropagationStopped=uI,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),t}var Lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=kn(Lu),$l=Be({},Lu,{view:0,detail:0}),vL=kn($l),xm,Pm,Da,rd=Be({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&e.type==="mousemove"?(xm=e.screenX-Da.screenX,Pm=e.screenY-Da.screenY):Pm=xm=0,Da=e),xm)},movementY:function(e){return"movementY"in e?e.movementY:Pm}}),aI=kn(rd),mL=Be({},rd,{dataTransfer:0}),gL=kn(mL),yL=Be({},$l,{relatedTarget:0}),Dm=kn(yL),wL=Be({},Lu,{animationName:0,elapsedTime:0,pseudoElement:0}),_L=kn(wL),EL=Be({},Lu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SL=kn(EL),IL=Be({},Lu,{data:0}),lI=kn(IL),TL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kL[e])?!!t[e]:!1}function i0(){return NL}var CL=Be({},$l,{key:function(e){if(e.key){var t=TL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(e){return e.type==="keypress"?zf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AL=kn(CL),RL=Be({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cI=kn(RL),xL=Be({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),PL=kn(xL),DL=Be({},Lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),OL=kn(DL),LL=Be({},rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ML=kn(LL),FL=[9,13,27,32],o0=zr&&"CompositionEvent"in window,Ga=null;zr&&"documentMode"in document&&(Ga=document.documentMode);var UL=zr&&"TextEvent"in window&&!Ga,Nk=zr&&(!o0||Ga&&8<Ga&&11>=Ga),fI=String.fromCharCode(32),hI=!1;function Ck(e,t){switch(e){case"keyup":return FL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ak(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function jL(e,t){switch(e){case"compositionend":return Ak(t);case"keypress":return t.which!==32?null:(hI=!0,fI);case"textInput":return e=t.data,e===fI&&hI?null:e;default:return null}}function VL(e,t){if(qs)return e==="compositionend"||!o0&&Ck(e,t)?(e=kk(),qf=n0=Si=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nk&&t.locale!=="ko"?null:t.data;default:return null}}var $L={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$L[e.type]:t==="textarea"}function Rk(e,t,n,r){uk(r),t=fh(t,"onChange"),0<t.length&&(n=new r0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wa=null,cl=null;function BL(e){$k(e,0)}function id(e){var t=Ks(e);if(ek(t))return e}function qL(e,t){if(e==="change")return t}var xk=!1;if(zr){var Om;if(zr){var Lm="oninput"in document;if(!Lm){var pI=document.createElement("div");pI.setAttribute("oninput","return;"),Lm=typeof pI.oninput=="function"}Om=Lm}else Om=!1;xk=Om&&(!document.documentMode||9<document.documentMode)}function vI(){Wa&&(Wa.detachEvent("onpropertychange",Pk),cl=Wa=null)}function Pk(e){if(e.propertyName==="value"&&id(cl)){var t=[];Rk(t,cl,e,Yy(e)),fk(BL,t)}}function zL(e,t,n){e==="focusin"?(vI(),Wa=t,cl=n,Wa.attachEvent("onpropertychange",Pk)):e==="focusout"&&vI()}function HL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return id(cl)}function KL(e,t){if(e==="click")return id(t)}function GL(e,t){if(e==="input"||e==="change")return id(t)}function WL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sr=typeof Object.is=="function"?Object.is:WL;function fl(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!mg.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function mI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gI(e,t){var n=mI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mI(n)}}function Dk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ok(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QL(e){var t=Ok(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dk(n.ownerDocument.documentElement,n)){if(r!==null&&s0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=gI(n,s);var a=gI(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XL=zr&&"documentMode"in document&&11>=document.documentMode,zs=null,Lg=null,Qa=null,Mg=!1;function yI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mg||zs==null||zs!==ih(r)||(r=zs,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&fl(Qa,r)||(Qa=r,r=fh(Lg,"onSelect"),0<r.length&&(t=new r0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zs)))}function yf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hs={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},Mm={},Lk={};zr&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function od(e){if(Mm[e])return Mm[e];if(!Hs[e])return e;var t=Hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lk)return Mm[e]=t[n];return e}var Mk=od("animationend"),Fk=od("animationiteration"),Uk=od("animationstart"),jk=od("transitionend"),Vk=new Map,wI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(e,t){Vk.set(e,t),Yo(t,[e])}for(var Fm=0;Fm<wI.length;Fm++){var Um=wI[Fm],YL=Um.toLowerCase(),JL=Um[0].toUpperCase()+Um.slice(1);Bi(YL,"on"+JL)}Bi(Mk,"onAnimationEnd");Bi(Fk,"onAnimationIteration");Bi(Uk,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(jk,"onTransitionEnd");cu("onMouseEnter",["mouseout","mouseover"]);cu("onMouseLeave",["mouseout","mouseover"]);cu("onPointerEnter",["pointerout","pointerover"]);cu("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function _I(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Y2(r,t,void 0,e),e.currentTarget=null}function $k(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],f=c.instance,d=c.currentTarget;if(c=c.listener,f!==s&&o.isPropagationStopped())break e;_I(o,c,d),s=f}else for(a=0;a<r.length;a++){if(c=r[a],f=c.instance,d=c.currentTarget,c=c.listener,f!==s&&o.isPropagationStopped())break e;_I(o,c,d),s=f}}}if(sh)throw e=xg,sh=!1,xg=null,e}function Ae(e,t){var n=t[$g];n===void 0&&(n=t[$g]=new Set);var r=e+"__bubble";n.has(r)||(Bk(t,e,2,!1),n.add(r))}function jm(e,t,n){var r=0;t&&(r|=4),Bk(n,e,r,t)}var wf="_reactListening"+Math.random().toString(36).slice(2);function hl(e){if(!e[wf]){e[wf]=!0,Qb.forEach(function(n){n!=="selectionchange"&&(ZL.has(n)||jm(n,!1,e),jm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wf]||(t[wf]=!0,jm("selectionchange",!1,t))}}function Bk(e,t,n,r){switch(bk(t)){case 1:var o=dL;break;case 4:o=pL;break;default:o=t0}n=o.bind(null,t,n,e),o=void 0,!Rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vm(e,t,n,r,o){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;a=a.return}for(;c!==null;){if(a=bo(c),a===null)return;if(f=a.tag,f===5||f===6){r=s=a;continue e}c=c.parentNode}}r=r.return}fk(function(){var d=s,v=Yy(n),y=[];e:{var g=Vk.get(e);if(g!==void 0){var _=r0,S=e;switch(e){case"keypress":if(zf(n)===0)break e;case"keydown":case"keyup":_=AL;break;case"focusin":S="focus",_=Dm;break;case"focusout":S="blur",_=Dm;break;case"beforeblur":case"afterblur":_=Dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=aI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=gL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=PL;break;case Mk:case Fk:case Uk:_=_L;break;case jk:_=OL;break;case"scroll":_=vL;break;case"wheel":_=ML;break;case"copy":case"cut":case"paste":_=SL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=cI}var T=(t&4)!==0,C=!T&&e==="scroll",I=T?g!==null?g+"Capture":null:g;T=[];for(var E=d,k;E!==null;){k=E;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,I!==null&&(A=sl(E,I),A!=null&&T.push(dl(E,A,k)))),C)break;E=E.return}0<T.length&&(g=new _(g,S,null,n,v),y.push({event:g,listeners:T}))}}if((t&7)===0){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&n!==Cg&&(S=n.relatedTarget||n.fromElement)&&(bo(S)||S[Hr]))break e;if((_||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=d,S=S?bo(S):null,S!==null&&(C=Jo(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=d),_!==S)){if(T=aI,A="onMouseLeave",I="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(T=cI,A="onPointerLeave",I="onPointerEnter",E="pointer"),C=_==null?g:Ks(_),k=S==null?g:Ks(S),g=new T(A,E+"leave",_,n,v),g.target=C,g.relatedTarget=k,A=null,bo(v)===d&&(T=new T(I,E+"enter",S,n,v),T.target=k,T.relatedTarget=C,A=T),C=A,_&&S)t:{for(T=_,I=S,E=0,k=T;k;k=Ps(k))E++;for(k=0,A=I;A;A=Ps(A))k++;for(;0<E-k;)T=Ps(T),E--;for(;0<k-E;)I=Ps(I),k--;for(;E--;){if(T===I||I!==null&&T===I.alternate)break t;T=Ps(T),I=Ps(I)}T=null}else T=null;_!==null&&EI(y,g,_,T,!1),S!==null&&C!==null&&EI(y,C,S,T,!0)}}e:{if(g=d?Ks(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var L=qL;else if(dI(g))if(xk)L=GL;else{L=HL;var R=zL}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=KL);if(L&&(L=L(e,d))){Rk(y,L,n,v);break e}R&&R(e,g,d),e==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&Ig(g,"number",g.value)}switch(R=d?Ks(d):window,e){case"focusin":(dI(R)||R.contentEditable==="true")&&(zs=R,Lg=d,Qa=null);break;case"focusout":Qa=Lg=zs=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,yI(y,n,v);break;case"selectionchange":if(XL)break;case"keydown":case"keyup":yI(y,n,v)}var O;if(o0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qs?Ck(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Nk&&n.locale!=="ko"&&(qs||P!=="onCompositionStart"?P==="onCompositionEnd"&&qs&&(O=kk()):(Si=v,n0="value"in Si?Si.value:Si.textContent,qs=!0)),R=fh(d,P),0<R.length&&(P=new lI(P,e,null,n,v),y.push({event:P,listeners:R}),O?P.data=O:(O=Ak(n),O!==null&&(P.data=O)))),(O=UL?jL(e,n):VL(e,n))&&(d=fh(d,"onBeforeInput"),0<d.length&&(v=new lI("onBeforeInput","beforeinput",null,n,v),y.push({event:v,listeners:d}),v.data=O))}$k(y,t)})}function dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fh(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=sl(e,n),s!=null&&r.unshift(dl(e,s,o)),s=sl(e,t),s!=null&&r.push(dl(e,s,o))),e=e.return}return r}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function EI(e,t,n,r,o){for(var s=t._reactName,a=[];n!==null&&n!==r;){var c=n,f=c.alternate,d=c.stateNode;if(f!==null&&f===r)break;c.tag===5&&d!==null&&(c=d,o?(f=sl(n,s),f!=null&&a.unshift(dl(n,f,c))):o||(f=sl(n,s),f!=null&&a.push(dl(n,f,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function SI(e){return(typeof e=="string"?e:""+e).replace(eM,`
`).replace(tM,"")}function _f(e,t,n){if(t=SI(t),SI(e)!==t&&n)throw Error($(425))}function hh(){}var Fg=null,Ug=null;function jg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vg=typeof setTimeout=="function"?setTimeout:void 0,nM=typeof clearTimeout=="function"?clearTimeout:void 0,II=typeof Promise=="function"?Promise:void 0,rM=typeof queueMicrotask=="function"?queueMicrotask:typeof II<"u"?function(e){return II.resolve(null).then(e).catch(iM)}:Vg;function iM(e){setTimeout(function(){throw e})}function $m(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ll(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ll(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function TI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mu=Math.random().toString(36).slice(2),wr="__reactFiber$"+Mu,pl="__reactProps$"+Mu,Hr="__reactContainer$"+Mu,$g="__reactEvents$"+Mu,oM="__reactListeners$"+Mu,sM="__reactHandles$"+Mu;function bo(e){var t=e[wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hr]||n[wr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=TI(e);e!==null;){if(n=e[wr])return n;e=TI(e)}return t}e=n,n=e.parentNode}return null}function Bl(e){return e=e[wr]||e[Hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function sd(e){return e[pl]||null}var Bg=[],Gs=-1;function qi(e){return{current:e}}function xe(e){0>Gs||(e.current=Bg[Gs],Bg[Gs]=null,Gs--)}function ke(e,t){Gs++,Bg[Gs]=e.current,e.current=t}var Mi={},Rt=qi(Mi),nn=qi(!1),jo=Mi;function fu(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function rn(e){return e=e.childContextTypes,e!=null}function dh(){xe(nn),xe(Rt)}function bI(e,t,n){if(Rt.current!==Mi)throw Error($(168));ke(Rt,t),ke(nn,n)}function qk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,z2(e)||"Unknown",o));return Be({},n,r)}function ph(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,jo=Rt.current,ke(Rt,e),ke(nn,nn.current),!0}function kI(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=qk(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,xe(nn),xe(Rt),ke(Rt,e)):xe(nn),ke(nn,n)}var Mr=null,ud=!1,Bm=!1;function zk(e){Mr===null?Mr=[e]:Mr.push(e)}function uM(e){ud=!0,zk(e)}function zi(){if(!Bm&&Mr!==null){Bm=!0;var e=0,t=Se;try{var n=Mr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mr=null,ud=!1}catch(o){throw Mr!==null&&(Mr=Mr.slice(e+1)),vk(Jy,zi),o}finally{Se=t,Bm=!1}}return null}var Ws=[],Qs=0,vh=null,mh=0,xn=[],Pn=0,Vo=null,Fr=1,Ur="";function So(e,t){Ws[Qs++]=mh,Ws[Qs++]=vh,vh=e,mh=t}function Hk(e,t,n){xn[Pn++]=Fr,xn[Pn++]=Ur,xn[Pn++]=Vo,Vo=e;var r=Fr;e=Ur;var o=32-tr(r)-1;r&=~(1<<o),n+=1;var s=32-tr(t)+o;if(30<s){var a=o-o%5;s=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Fr=1<<32-tr(t)+o|n<<o|r,Ur=s+e}else Fr=1<<s|n<<o|r,Ur=e}function u0(e){e.return!==null&&(So(e,1),Hk(e,1,0))}function a0(e){for(;e===vh;)vh=Ws[--Qs],Ws[Qs]=null,mh=Ws[--Qs],Ws[Qs]=null;for(;e===Vo;)Vo=xn[--Pn],xn[Pn]=null,Ur=xn[--Pn],xn[Pn]=null,Fr=xn[--Pn],xn[Pn]=null}var wn=null,mn=null,Le=!1,er=null;function Kk(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function NI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,mn=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vo!==null?{id:Fr,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,mn=null,!0):!1;default:return!1}}function qg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zg(e){if(Le){var t=mn;if(t){var n=t;if(!NI(e,t)){if(qg(e))throw Error($(418));t=Ci(n.nextSibling);var r=wn;t&&NI(e,t)?Kk(r,n):(e.flags=e.flags&-4097|2,Le=!1,wn=e)}}else{if(qg(e))throw Error($(418));e.flags=e.flags&-4097|2,Le=!1,wn=e}}}function CI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Ef(e){if(e!==wn)return!1;if(!Le)return CI(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jg(e.type,e.memoizedProps)),t&&(t=mn)){if(qg(e))throw Gk(),Error($(418));for(;t;)Kk(e,t),t=Ci(t.nextSibling)}if(CI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mn=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=wn?Ci(e.stateNode.nextSibling):null;return!0}function Gk(){for(var e=mn;e;)e=Ci(e.nextSibling)}function hu(){mn=wn=null,Le=!1}function l0(e){er===null?er=[e]:er.push(e)}var aM=Qr.ReactCurrentBatchConfig;function Jn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var gh=qi(null),yh=null,Xs=null,c0=null;function f0(){c0=Xs=yh=null}function h0(e){var t=gh.current;xe(gh),e._currentValue=t}function Hg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ou(e,t){yh=e,c0=Xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(en=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(c0!==e)if(e={context:e,memoizedValue:t,next:null},Xs===null){if(yh===null)throw Error($(308));Xs=e,yh.dependencies={lanes:0,firstContext:e}}else Xs=Xs.next=e;return t}var ko=null;function d0(e){ko===null?ko=[e]:ko.push(e)}function Wk(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,d0(t)):(n.next=o.next,o.next=n),t.interleaved=n,Kr(e,r)}function Kr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pi=!1;function p0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ve&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Kr(e,n)}return o=r.interleaved,o===null?(t.next=t,d0(r)):(t.next=o.next,o.next=t),r.interleaved=t,Kr(e,n)}function Hf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zy(e,n)}}function AI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wh(e,t,n,r){var o=e.updateQueue;pi=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,d=f.next;f.next=null,a===null?s=d:a.next=d,a=f;var v=e.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==a&&(c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=f))}if(s!==null){var y=o.baseState;a=0,v=d=f=null,c=s;do{var g=c.lane,_=c.eventTime;if((r&g)===g){v!==null&&(v=v.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=e,T=c;switch(g=t,_=n,T.tag){case 1:if(S=T.payload,typeof S=="function"){y=S.call(_,y,g);break e}y=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,g=typeof S=="function"?S.call(_,y,g):S,g==null)break e;y=Be({},y,g);break e;case 2:pi=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[c]:g.push(c))}else _={eventTime:_,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(d=v=_,f=y):v=v.next=_,a|=g;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;g=c,c=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(1);if(v===null&&(f=y),o.baseState=f,o.firstBaseUpdate=d,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Bo|=a,e.lanes=a,e.memoizedState=y}}function RI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var Xk=new Wb.Component().refs;function Kg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ad={isMounted:function(e){return(e=e._reactInternals)?Jo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qt(),o=xi(e),s=Vr(r,o);s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,o),t!==null&&(nr(t,e,o,r),Hf(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qt(),o=xi(e),s=Vr(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ai(e,s,o),t!==null&&(nr(t,e,o,r),Hf(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),r=xi(e),o=Vr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ai(e,o,r),t!==null&&(nr(t,e,r,n),Hf(t,e,r))}};function xI(e,t,n,r,o,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!fl(n,r)||!fl(o,s):!0}function Yk(e,t,n){var r=!1,o=Mi,s=t.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(o=rn(t)?jo:Rt.current,r=t.contextTypes,s=(r=r!=null)?fu(e,o):Mi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ad,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function PI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ad.enqueueReplaceState(t,t.state,null)}function Gg(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Xk,p0(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Fn(s):(s=rn(t)?jo:Rt.current,o.context=fu(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Kg(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ad.enqueueReplaceState(o,o.state,null),wh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Oa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var c=o.refs;c===Xk&&(c=o.refs={}),a===null?delete c[s]:c[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Sf(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function DI(e){var t=e._init;return t(e._payload)}function Jk(e){function t(I,E){if(e){var k=I.deletions;k===null?(I.deletions=[E],I.flags|=16):k.push(E)}}function n(I,E){if(!e)return null;for(;E!==null;)t(I,E),E=E.sibling;return null}function r(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function o(I,E){return I=Pi(I,E),I.index=0,I.sibling=null,I}function s(I,E,k){return I.index=k,e?(k=I.alternate,k!==null?(k=k.index,k<E?(I.flags|=2,E):k):(I.flags|=2,E)):(I.flags|=1048576,E)}function a(I){return e&&I.alternate===null&&(I.flags|=2),I}function c(I,E,k,A){return E===null||E.tag!==6?(E=Qm(k,I.mode,A),E.return=I,E):(E=o(E,k),E.return=I,E)}function f(I,E,k,A){var L=k.type;return L===Bs?v(I,E,k.props.children,A,k.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===di&&DI(L)===E.type)?(A=o(E,k.props),A.ref=Oa(I,E,k),A.return=I,A):(A=Yf(k.type,k.key,k.props,null,I.mode,A),A.ref=Oa(I,E,k),A.return=I,A)}function d(I,E,k,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Xm(k,I.mode,A),E.return=I,E):(E=o(E,k.children||[]),E.return=I,E)}function v(I,E,k,A,L){return E===null||E.tag!==7?(E=Do(k,I.mode,A,L),E.return=I,E):(E=o(E,k),E.return=I,E)}function y(I,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Qm(""+E,I.mode,k),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ff:return k=Yf(E.type,E.key,E.props,null,I.mode,k),k.ref=Oa(I,null,E),k.return=I,k;case $s:return E=Xm(E,I.mode,k),E.return=I,E;case di:var A=E._init;return y(I,A(E._payload),k)}if(Va(E)||Aa(E))return E=Do(E,I.mode,k,null),E.return=I,E;Sf(I,E)}return null}function g(I,E,k,A){var L=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return L!==null?null:c(I,E,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ff:return k.key===L?f(I,E,k,A):null;case $s:return k.key===L?d(I,E,k,A):null;case di:return L=k._init,g(I,E,L(k._payload),A)}if(Va(k)||Aa(k))return L!==null?null:v(I,E,k,A,null);Sf(I,k)}return null}function _(I,E,k,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return I=I.get(k)||null,c(E,I,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ff:return I=I.get(A.key===null?k:A.key)||null,f(E,I,A,L);case $s:return I=I.get(A.key===null?k:A.key)||null,d(E,I,A,L);case di:var R=A._init;return _(I,E,k,R(A._payload),L)}if(Va(A)||Aa(A))return I=I.get(k)||null,v(E,I,A,L,null);Sf(E,A)}return null}function S(I,E,k,A){for(var L=null,R=null,O=E,P=E=0,Q=null;O!==null&&P<k.length;P++){O.index>P?(Q=O,O=null):Q=O.sibling;var N=g(I,O,k[P],A);if(N===null){O===null&&(O=Q);break}e&&O&&N.alternate===null&&t(I,O),E=s(N,E,P),R===null?L=N:R.sibling=N,R=N,O=Q}if(P===k.length)return n(I,O),Le&&So(I,P),L;if(O===null){for(;P<k.length;P++)O=y(I,k[P],A),O!==null&&(E=s(O,E,P),R===null?L=O:R.sibling=O,R=O);return Le&&So(I,P),L}for(O=r(I,O);P<k.length;P++)Q=_(O,I,P,k[P],A),Q!==null&&(e&&Q.alternate!==null&&O.delete(Q.key===null?P:Q.key),E=s(Q,E,P),R===null?L=Q:R.sibling=Q,R=Q);return e&&O.forEach(function(_e){return t(I,_e)}),Le&&So(I,P),L}function T(I,E,k,A){var L=Aa(k);if(typeof L!="function")throw Error($(150));if(k=L.call(k),k==null)throw Error($(151));for(var R=L=null,O=E,P=E=0,Q=null,N=k.next();O!==null&&!N.done;P++,N=k.next()){O.index>P?(Q=O,O=null):Q=O.sibling;var _e=g(I,O,N.value,A);if(_e===null){O===null&&(O=Q);break}e&&O&&_e.alternate===null&&t(I,O),E=s(_e,E,P),R===null?L=_e:R.sibling=_e,R=_e,O=Q}if(N.done)return n(I,O),Le&&So(I,P),L;if(O===null){for(;!N.done;P++,N=k.next())N=y(I,N.value,A),N!==null&&(E=s(N,E,P),R===null?L=N:R.sibling=N,R=N);return Le&&So(I,P),L}for(O=r(I,O);!N.done;P++,N=k.next())N=_(O,I,P,N.value,A),N!==null&&(e&&N.alternate!==null&&O.delete(N.key===null?P:N.key),E=s(N,E,P),R===null?L=N:R.sibling=N,R=N);return e&&O.forEach(function(ct){return t(I,ct)}),Le&&So(I,P),L}function C(I,E,k,A){if(typeof k=="object"&&k!==null&&k.type===Bs&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ff:e:{for(var L=k.key,R=E;R!==null;){if(R.key===L){if(L=k.type,L===Bs){if(R.tag===7){n(I,R.sibling),E=o(R,k.props.children),E.return=I,I=E;break e}}else if(R.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===di&&DI(L)===R.type){n(I,R.sibling),E=o(R,k.props),E.ref=Oa(I,R,k),E.return=I,I=E;break e}n(I,R);break}else t(I,R);R=R.sibling}k.type===Bs?(E=Do(k.props.children,I.mode,A,k.key),E.return=I,I=E):(A=Yf(k.type,k.key,k.props,null,I.mode,A),A.ref=Oa(I,E,k),A.return=I,I=A)}return a(I);case $s:e:{for(R=k.key;E!==null;){if(E.key===R)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){n(I,E.sibling),E=o(E,k.children||[]),E.return=I,I=E;break e}else{n(I,E);break}else t(I,E);E=E.sibling}E=Xm(k,I.mode,A),E.return=I,I=E}return a(I);case di:return R=k._init,C(I,E,R(k._payload),A)}if(Va(k))return S(I,E,k,A);if(Aa(k))return T(I,E,k,A);Sf(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(n(I,E.sibling),E=o(E,k),E.return=I,I=E):(n(I,E),E=Qm(k,I.mode,A),E.return=I,I=E),a(I)):n(I,E)}return C}var du=Jk(!0),Zk=Jk(!1),ql={},Sr=qi(ql),vl=qi(ql),ml=qi(ql);function No(e){if(e===ql)throw Error($(174));return e}function v0(e,t){switch(ke(ml,t),ke(vl,e),ke(Sr,ql),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bg(t,e)}xe(Sr),ke(Sr,t)}function pu(){xe(Sr),xe(vl),xe(ml)}function eN(e){No(ml.current);var t=No(Sr.current),n=bg(t,e.type);t!==n&&(ke(vl,e),ke(Sr,n))}function m0(e){vl.current===e&&(xe(Sr),xe(vl))}var je=qi(0);function _h(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function g0(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var Kf=Qr.ReactCurrentDispatcher,zm=Qr.ReactCurrentBatchConfig,$o=0,$e=null,ot=null,dt=null,Eh=!1,Xa=!1,gl=0,lM=0;function Et(){throw Error($(321))}function y0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function w0(e,t,n,r,o,s){if($o=s,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kf.current=e===null||e.memoizedState===null?dM:pM,e=n(r,o),Xa){s=0;do{if(Xa=!1,gl=0,25<=s)throw Error($(301));s+=1,dt=ot=null,t.updateQueue=null,Kf.current=vM,e=n(r,o)}while(Xa)}if(Kf.current=Sh,t=ot!==null&&ot.next!==null,$o=0,dt=ot=$e=null,Eh=!1,t)throw Error($(300));return e}function _0(){var e=gl!==0;return gl=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?$e.memoizedState=dt=e:dt=dt.next=e,dt}function Un(){if(ot===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?$e.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error($(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?$e.memoizedState=dt=e:dt=dt.next=e}return dt}function yl(e,t){return typeof t=="function"?t(e):t}function Hm(e){var t=Un(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=ot,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var c=a=null,f=null,d=s;do{var v=d.lane;if(($o&v)===v)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var y={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(c=f=y,a=r):f=f.next=y,$e.lanes|=v,Bo|=v}d=d.next}while(d!==null&&d!==s);f===null?a=r:f.next=c,sr(r,t.memoizedState)||(en=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,$e.lanes|=s,Bo|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Km(e){var t=Un(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do s=e(s,a.action),a=a.next;while(a!==o);sr(s,t.memoizedState)||(en=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function tN(){}function nN(e,t){var n=$e,r=Un(),o=t(),s=!sr(r.memoizedState,o);if(s&&(r.memoizedState=o,en=!0),r=r.queue,E0(oN.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,wl(9,iN.bind(null,n,r,o,t),void 0,null),pt===null)throw Error($(349));($o&30)!==0||rN(n,t,o)}return o}function rN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iN(e,t,n,r){t.value=n,t.getSnapshot=r,sN(t)&&uN(e)}function oN(e,t,n){return n(function(){sN(t)&&uN(e)})}function sN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch{return!0}}function uN(e){var t=Kr(e,1);t!==null&&nr(t,e,1,-1)}function OI(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=hM.bind(null,$e,e),[t.memoizedState,e]}function wl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aN(){return Un().memoizedState}function Gf(e,t,n,r){var o=gr();$e.flags|=e,o.memoizedState=wl(1|t,n,void 0,r===void 0?null:r)}function ld(e,t,n,r){var o=Un();r=r===void 0?null:r;var s=void 0;if(ot!==null){var a=ot.memoizedState;if(s=a.destroy,r!==null&&y0(r,a.deps)){o.memoizedState=wl(t,n,s,r);return}}$e.flags|=e,o.memoizedState=wl(1|t,n,s,r)}function LI(e,t){return Gf(8390656,8,e,t)}function E0(e,t){return ld(2048,8,e,t)}function lN(e,t){return ld(4,2,e,t)}function cN(e,t){return ld(4,4,e,t)}function fN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hN(e,t,n){return n=n!=null?n.concat([e]):null,ld(4,4,fN.bind(null,t,e),n)}function S0(){}function dN(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&y0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pN(e,t){var n=Un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&y0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vN(e,t,n){return($o&21)===0?(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=n):(sr(n,t)||(n=yk(),$e.lanes|=n,Bo|=n,e.baseState=!0),t)}function cM(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=zm.transition;zm.transition={};try{e(!1),t()}finally{Se=n,zm.transition=r}}function mN(){return Un().memoizedState}function fM(e,t,n){var r=xi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gN(e))yN(t,n);else if(n=Wk(e,t,n,r),n!==null){var o=qt();nr(n,e,r,o),wN(n,t,r)}}function hM(e,t,n){var r=xi(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gN(e))yN(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,c=s(a,n);if(o.hasEagerState=!0,o.eagerState=c,sr(c,a)){var f=t.interleaved;f===null?(o.next=o,d0(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=Wk(e,t,o,r),n!==null&&(o=qt(),nr(n,e,r,o),wN(n,t,r))}}function gN(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function yN(e,t){Xa=Eh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wN(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zy(e,n)}}var Sh={readContext:Fn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},dM={readContext:Fn,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:LI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gf(4194308,4,fN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gf(4,2,e,t)},useMemo:function(e,t){var n=gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fM.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:OI,useDebugValue:S0,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=OI(!1),t=e[0];return e=cM.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,o=gr();if(Le){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),pt===null)throw Error($(349));($o&30)!==0||rN(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,LI(oN.bind(null,r,s,e),[e]),r.flags|=2048,wl(9,iN.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=gr(),t=pt.identifierPrefix;if(Le){var n=Ur,r=Fr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pM={readContext:Fn,useCallback:dN,useContext:Fn,useEffect:E0,useImperativeHandle:hN,useInsertionEffect:lN,useLayoutEffect:cN,useMemo:pN,useReducer:Hm,useRef:aN,useState:function(){return Hm(yl)},useDebugValue:S0,useDeferredValue:function(e){var t=Un();return vN(t,ot.memoizedState,e)},useTransition:function(){var e=Hm(yl)[0],t=Un().memoizedState;return[e,t]},useMutableSource:tN,useSyncExternalStore:nN,useId:mN,unstable_isNewReconciler:!1},vM={readContext:Fn,useCallback:dN,useContext:Fn,useEffect:E0,useImperativeHandle:hN,useInsertionEffect:lN,useLayoutEffect:cN,useMemo:pN,useReducer:Km,useRef:aN,useState:function(){return Km(yl)},useDebugValue:S0,useDeferredValue:function(e){var t=Un();return ot===null?t.memoizedState=e:vN(t,ot.memoizedState,e)},useTransition:function(){var e=Km(yl)[0],t=Un().memoizedState;return[e,t]},useMutableSource:tN,useSyncExternalStore:nN,useId:mN,unstable_isNewReconciler:!1};function vu(e,t){try{var n="",r=t;do n+=q2(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Gm(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Wg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mM=typeof WeakMap=="function"?WeakMap:Map;function _N(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Th||(Th=!0,iy=r),Wg(e,t)},n}function EN(e,t,n){n=Vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Wg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wg(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function MI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mM;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=RM.bind(null,e,t,n),t.then(e,e))}function FI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UI(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Ai(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var gM=Qr.ReactCurrentOwner,en=!1;function Mt(e,t,n,r){t.child=e===null?Zk(t,null,n,r):du(t,e.child,n,r)}function jI(e,t,n,r,o){n=n.render;var s=t.ref;return ou(t,o),r=w0(e,t,n,r,s,o),n=_0(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gr(e,t,o)):(Le&&n&&u0(t),t.flags|=1,Mt(e,t,r,o),t.child)}function VI(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!R0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,SN(e,t,s,r,o)):(e=Yf(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&o)===0){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(a,r)&&e.ref===t.ref)return Gr(e,t,o)}return t.flags|=1,e=Pi(s,r),e.ref=t.ref,e.return=t,t.child=e}function SN(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(fl(s,r)&&e.ref===t.ref)if(en=!1,t.pendingProps=r=s,(e.lanes&o)!==0)(e.flags&131072)!==0&&(en=!0);else return t.lanes=e.lanes,Gr(e,t,o)}return Qg(e,t,n,r,o)}function IN(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Js,hn),hn|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Js,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Js,hn),hn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ke(Js,hn),hn|=r;return Mt(e,t,o,n),t.child}function TN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qg(e,t,n,r,o){var s=rn(n)?jo:Rt.current;return s=fu(t,s),ou(t,o),n=w0(e,t,n,r,s,o),r=_0(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gr(e,t,o)):(Le&&r&&u0(t),t.flags|=1,Mt(e,t,n,o),t.child)}function $I(e,t,n,r,o){if(rn(n)){var s=!0;ph(t)}else s=!1;if(ou(t,o),t.stateNode===null)Wf(e,t),Yk(t,n,r),Gg(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var f=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Fn(d):(d=rn(n)?jo:Rt.current,d=fu(t,d));var v=n.getDerivedStateFromProps,y=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||f!==d)&&PI(t,a,r,d),pi=!1;var g=t.memoizedState;a.state=g,wh(t,r,a,o),f=t.memoizedState,c!==r||g!==f||nn.current||pi?(typeof v=="function"&&(Kg(t,n,v,r),f=t.memoizedState),(c=pi||xI(t,n,c,r,g,f,d))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qk(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Jn(t.type,c),a.props=d,y=t.pendingProps,g=a.context,f=n.contextType,typeof f=="object"&&f!==null?f=Fn(f):(f=rn(n)?jo:Rt.current,f=fu(t,f));var _=n.getDerivedStateFromProps;(v=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==y||g!==f)&&PI(t,a,r,f),pi=!1,g=t.memoizedState,a.state=g,wh(t,r,a,o);var S=t.memoizedState;c!==y||g!==S||nn.current||pi?(typeof _=="function"&&(Kg(t,n,_,r),S=t.memoizedState),(d=pi||xI(t,n,d,r,g,S,f)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=f,r=d):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Xg(e,t,n,r,s,o)}function Xg(e,t,n,r,o,s){TN(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&kI(t,n,!1),Gr(e,t,s);r=t.stateNode,gM.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=du(t,e.child,null,s),t.child=du(t,null,c,s)):Mt(e,t,c,s),t.memoizedState=r.state,o&&kI(t,n,!0),t.child}function bN(e){var t=e.stateNode;t.pendingContext?bI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bI(e,t.context,!1),v0(e,t.containerInfo)}function BI(e,t,n,r,o){return hu(),l0(o),t.flags|=256,Mt(e,t,n,r),t.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Jg(e){return{baseLanes:e,cachePool:null,transitions:null}}function kN(e,t,n){var r=t.pendingProps,o=je.current,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ke(je,o&1),e===null)return zg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hd(a,r,0,null),e=Do(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Jg(n),t.memoizedState=Yg,e):I0(t,a));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return yM(e,t,a,r,c,o,n);if(s){s=r.fallback,a=t.mode,o=e.child,c=o.sibling;var f={mode:"hidden",children:r.children};return(a&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Pi(o,f),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?s=Pi(c,s):(s=Do(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Jg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Yg,r}return s=e.child,e=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function I0(e,t){return t=hd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function If(e,t,n,r){return r!==null&&l0(r),du(t,e.child,null,n),e=I0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yM(e,t,n,r,o,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Gm(Error($(422))),If(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=hd({mode:"visible",children:r.children},o,0,null),s=Do(s,o,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&du(t,e.child,null,a),t.child.memoizedState=Jg(a),t.memoizedState=Yg,s);if((t.mode&1)===0)return If(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error($(419)),r=Gm(s,r,void 0),If(e,t,a,r)}if(c=(a&e.childLanes)!==0,en||c){if(r=pt,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|a))!==0?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Kr(e,o),nr(r,e,o,-1))}return A0(),r=Gm(Error($(421))),If(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xM.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,mn=Ci(o.nextSibling),wn=t,Le=!0,er=null,e!==null&&(xn[Pn++]=Fr,xn[Pn++]=Ur,xn[Pn++]=Vo,Fr=e.id,Ur=e.overflow,Vo=t),t=I0(t,r.children),t.flags|=4096,t)}function qI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hg(e.return,t,n)}function Wm(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function NN(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Mt(e,t,r.children,n),r=je.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qI(e,n,t);else if(e.tag===19)qI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(je,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&_h(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Wm(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_h(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Wm(t,!0,n,null,s);break;case"together":Wm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wf(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wM(e,t,n){switch(t.tag){case 3:bN(t),hu();break;case 5:eN(t);break;case 1:rn(t.type)&&ph(t);break;case 4:v0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ke(gh,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(je,je.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?kN(e,t,n):(ke(je,je.current&1),e=Gr(e,t,n),e!==null?e.sibling:null);ke(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return NN(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,IN(e,t,n)}return Gr(e,t,n)}var CN,Zg,AN,RN;CN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zg=function(){};AN=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Sr.current);var s=null;switch(n){case"input":o=Eg(e,o),r=Eg(e,r),s=[];break;case"select":o=Be({},o,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":o=Tg(e,o),r=Tg(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hh)}kg(n,r);var a;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(il.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var f=r[d];if(c=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&f!==c&&(f!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in f)f.hasOwnProperty(a)&&c[a]!==f[a]&&(n||(n={}),n[a]=f[a])}else n||(s||(s=[]),s.push(d,n)),n=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(s=s||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(il.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&Ae("scroll",e),s||c===f||(s=[])):(s=s||[]).push(d,f))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};RN=function(e,t,n,r){n!==r&&(t.flags|=4)};function La(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _M(e,t,n){var r=t.pendingProps;switch(a0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return rn(t.type)&&dh(),St(t),null;case 3:return r=t.stateNode,pu(),xe(nn),xe(Rt),g0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ef(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,er!==null&&(uy(er),er=null))),Zg(e,t),St(t),null;case 5:m0(t);var o=No(ml.current);if(n=t.type,e!==null&&t.stateNode!=null)AN(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return St(t),null}if(e=No(Sr.current),Ef(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wr]=t,r[pl]=s,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(o=0;o<Ba.length;o++)Ae(Ba[o],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":JS(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":eI(r,s),Ae("invalid",r)}kg(n,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&_f(r.textContent,c,e),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&_f(r.textContent,c,e),o=["children",""+c]):il.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ae("scroll",r)}switch(n){case"input":hf(r),ZS(r,s,!0);break;case"textarea":hf(r),tI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hh)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wr]=t,e[pl]=r,CN(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ng(n,r),n){case"dialog":Ae("cancel",e),Ae("close",e),o=r;break;case"iframe":case"object":case"embed":Ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ba.length;o++)Ae(Ba[o],e);o=r;break;case"source":Ae("error",e),o=r;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),o=r;break;case"details":Ae("toggle",e),o=r;break;case"input":JS(e,r),o=Eg(e,r),Ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Be({},r,{value:void 0}),Ae("invalid",e);break;case"textarea":eI(e,r),o=Tg(e,r),Ae("invalid",e);break;default:o=r}kg(n,o),c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];s==="style"?sk(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&ik(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&ol(e,f):typeof f=="number"&&ol(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?f!=null&&s==="onScroll"&&Ae("scroll",e):f!=null&&Gy(e,s,f,a))}switch(n){case"input":hf(e),ZS(e,r,!1);break;case"textarea":hf(e),tI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Li(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?tu(e,!!r.multiple,s,!1):r.defaultValue!=null&&tu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)RN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=No(ml.current),No(Sr.current),Ef(t)){if(r=t.stateNode,n=t.memoizedProps,r[wr]=t,(s=r.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:_f(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_f(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=t,t.stateNode=r}return St(t),null;case 13:if(xe(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&mn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Gk(),hu(),t.flags|=98560,s=!1;else if(s=Ef(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[wr]=t}else hu(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),s=!1}else er!==null&&(uy(er),er=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(je.current&1)!==0?ut===0&&(ut=3):A0())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return pu(),Zg(e,t),e===null&&hl(t.stateNode.containerInfo),St(t),null;case 10:return h0(t.type._context),St(t),null;case 17:return rn(t.type)&&dh(),St(t),null;case 19:if(xe(je),s=t.memoizedState,s===null)return St(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)La(s,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(a=_h(e),a!==null){for(t.flags|=128,La(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(je,je.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xe()>mu&&(t.flags|=128,r=!0,La(s,!1),t.lanes=4194304)}else{if(!r)if(e=_h(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),La(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Le)return St(t),null}else 2*Xe()-s.renderingStartTime>mu&&n!==1073741824&&(t.flags|=128,r=!0,La(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=je.current,ke(je,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return C0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(hn&1073741824)!==0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function EM(e,t){switch(a0(t),t.tag){case 1:return rn(t.type)&&dh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pu(),xe(nn),xe(Rt),g0(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return m0(t),null;case 13:if(xe(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));hu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(je),null;case 4:return pu(),null;case 10:return h0(t.type._context),null;case 22:case 23:return C0(),null;case 24:return null;default:return null}}var Tf=!1,Tt=!1,SM=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ys(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function ey(e,t,n){try{n()}catch(r){ze(e,t,r)}}var zI=!1;function IM(e,t){if(Fg=lh,e=Ok(),s0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,c=-1,f=-1,d=0,v=0,y=e,g=null;t:for(;;){for(var _;y!==n||o!==0&&y.nodeType!==3||(c=a+o),y!==s||r!==0&&y.nodeType!==3||(f=a+r),y.nodeType===3&&(a+=y.nodeValue.length),(_=y.firstChild)!==null;)g=y,y=_;for(;;){if(y===e)break t;if(g===n&&++d===o&&(c=a),g===s&&++v===r&&(f=a),(_=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=_}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ug={focusedElem:e,selectionRange:n},lh=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var S=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,C=S.memoizedState,I=t.stateNode,E=I.getSnapshotBeforeUpdate(t.elementType===t.type?T:Jn(t.type,T),C);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){ze(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return S=zI,zI=!1,S}function Ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ey(t,n,s)}o=o.next}while(o!==r)}}function cd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ty(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xN(e){var t=e.alternate;t!==null&&(e.alternate=null,xN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wr],delete t[pl],delete t[$g],delete t[oM],delete t[sM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PN(e){return e.tag===5||e.tag===3||e.tag===4}function HI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ny(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hh));else if(r!==4&&(e=e.child,e!==null))for(ny(e,t,n),e=e.sibling;e!==null;)ny(e,t,n),e=e.sibling}function ry(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ry(e,t,n),e=e.sibling;e!==null;)ry(e,t,n),e=e.sibling}var mt=null,Zn=!1;function ai(e,t,n){for(n=n.child;n!==null;)DN(e,t,n),n=n.sibling}function DN(e,t,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:Tt||Ys(n,t);case 6:var r=mt,o=Zn;mt=null,ai(e,t,n),mt=r,Zn=o,mt!==null&&(Zn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Zn?(e=mt,n=n.stateNode,e.nodeType===8?$m(e.parentNode,n):e.nodeType===1&&$m(e,n),ll(e)):$m(mt,n.stateNode));break;case 4:r=mt,o=Zn,mt=n.stateNode.containerInfo,Zn=!0,ai(e,t,n),mt=r,Zn=o;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&((s&2)!==0||(s&4)!==0)&&ey(n,t,a),o=o.next}while(o!==r)}ai(e,t,n);break;case 1:if(!Tt&&(Ys(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ze(n,t,c)}ai(e,t,n);break;case 21:ai(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,ai(e,t,n),Tt=r):ai(e,t,n);break;default:ai(e,t,n)}}function KI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SM),t.forEach(function(r){var o=PM.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:mt=c.stateNode,Zn=!1;break e;case 3:mt=c.stateNode.containerInfo,Zn=!0;break e;case 4:mt=c.stateNode.containerInfo,Zn=!0;break e}c=c.return}if(mt===null)throw Error($(160));DN(s,a,o),mt=null,Zn=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(d){ze(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ON(t,e),t=t.sibling}function ON(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),mr(e),r&4){try{Ya(3,e,e.return),cd(3,e)}catch(T){ze(e,e.return,T)}try{Ya(5,e,e.return)}catch(T){ze(e,e.return,T)}}break;case 1:Xn(t,e),mr(e),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(Xn(t,e),mr(e),r&512&&n!==null&&Ys(n,n.return),e.flags&32){var o=e.stateNode;try{ol(o,"")}catch(T){ze(e,e.return,T)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&tk(o,s),Ng(c,a);var d=Ng(c,s);for(a=0;a<f.length;a+=2){var v=f[a],y=f[a+1];v==="style"?sk(o,y):v==="dangerouslySetInnerHTML"?ik(o,y):v==="children"?ol(o,y):Gy(o,v,y,d)}switch(c){case"input":Sg(o,s);break;case"textarea":nk(o,s);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?tu(o,!!s.multiple,_,!1):g!==!!s.multiple&&(s.defaultValue!=null?tu(o,!!s.multiple,s.defaultValue,!0):tu(o,!!s.multiple,s.multiple?[]:"",!1))}o[pl]=s}catch(T){ze(e,e.return,T)}}break;case 6:if(Xn(t,e),mr(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(T){ze(e,e.return,T)}}break;case 3:if(Xn(t,e),mr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(t.containerInfo)}catch(T){ze(e,e.return,T)}break;case 4:Xn(t,e),mr(e);break;case 13:Xn(t,e),mr(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(k0=Xe())),r&4&&KI(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(d=Tt)||v,Xn(t,e),Tt=d):Xn(t,e),mr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&(e.mode&1)!==0)for(H=e,v=e.child;v!==null;){for(y=H=v;H!==null;){switch(g=H,_=g.child,g.tag){case 0:case 11:case 14:case 15:Ya(4,g,g.return);break;case 1:Ys(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(T){ze(r,n,T)}}break;case 5:Ys(g,g.return);break;case 22:if(g.memoizedState!==null){WI(y);continue}}_!==null?(_.return=g,H=_):WI(y)}v=v.sibling}e:for(v=null,y=e;;){if(y.tag===5){if(v===null){v=y;try{o=y.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=y.stateNode,f=y.memoizedProps.style,a=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=ok("display",a))}catch(T){ze(e,e.return,T)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(T){ze(e,e.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Xn(t,e),mr(e),r&4&&KI(e);break;case 21:break;default:Xn(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(PN(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ol(o,""),r.flags&=-33);var s=HI(e);ry(e,s,o);break;case 3:case 4:var a=r.stateNode.containerInfo,c=HI(e);ny(e,c,a);break;default:throw Error($(161))}}catch(f){ze(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TM(e,t,n){H=e,LN(e)}function LN(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var o=H,s=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Tf;if(!a){var c=o.alternate,f=c!==null&&c.memoizedState!==null||Tt;c=Tf;var d=Tt;if(Tf=a,(Tt=f)&&!d)for(H=o;H!==null;)a=H,f=a.child,a.tag===22&&a.memoizedState!==null?QI(o):f!==null?(f.return=a,H=f):QI(o);for(;s!==null;)H=s,LN(s),s=s.sibling;H=o,Tf=c,Tt=d}GI(e)}else(o.subtreeFlags&8772)!==0&&s!==null?(s.return=o,H=s):GI(e)}}function GI(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Tt||cd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&RI(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}RI(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&ll(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Tt||t.flags&512&&ty(t)}catch(g){ze(t,t.return,g)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function WI(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function QI(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cd(4,t)}catch(f){ze(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(f){ze(t,o,f)}}var s=t.return;try{ty(t)}catch(f){ze(t,s,f)}break;case 5:var a=t.return;try{ty(t)}catch(f){ze(t,a,f)}}}catch(f){ze(t,t.return,f)}if(t===e){H=null;break}var c=t.sibling;if(c!==null){c.return=t.return,H=c;break}H=t.return}}var bM=Math.ceil,Ih=Qr.ReactCurrentDispatcher,T0=Qr.ReactCurrentOwner,Mn=Qr.ReactCurrentBatchConfig,ve=0,pt=null,et=null,yt=0,hn=0,Js=qi(0),ut=0,_l=null,Bo=0,fd=0,b0=0,Ja=null,Jt=null,k0=0,mu=1/0,Lr=null,Th=!1,iy=null,Ri=null,bf=!1,Ii=null,bh=0,Za=0,oy=null,Qf=-1,Xf=0;function qt(){return(ve&6)!==0?Xe():Qf!==-1?Qf:Qf=Xe()}function xi(e){return(e.mode&1)===0?1:(ve&2)!==0&&yt!==0?yt&-yt:aM.transition!==null?(Xf===0&&(Xf=yk()),Xf):(e=Se,e!==0||(e=window.event,e=e===void 0?16:bk(e.type)),e)}function nr(e,t,n,r){if(50<Za)throw Za=0,oy=null,Error($(185));Vl(e,n,r),((ve&2)===0||e!==pt)&&(e===pt&&((ve&2)===0&&(fd|=n),ut===4&&gi(e,yt)),on(e,r),n===1&&ve===0&&(t.mode&1)===0&&(mu=Xe()+500,ud&&zi()))}function on(e,t){var n=e.callbackNode;aL(e,t);var r=ah(e,e===pt?yt:0);if(r===0)n!==null&&iI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iI(n),t===1)e.tag===0?uM(XI.bind(null,e)):zk(XI.bind(null,e)),rM(function(){(ve&6)===0&&zi()}),n=null;else{switch(wk(r)){case 1:n=Jy;break;case 4:n=mk;break;case 16:n=uh;break;case 536870912:n=gk;break;default:n=uh}n=qN(n,MN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function MN(e,t){if(Qf=-1,Xf=0,(ve&6)!==0)throw Error($(327));var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ah(e,e===pt?yt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=kh(e,r);else{t=r;var o=ve;ve|=2;var s=UN();(pt!==e||yt!==t)&&(Lr=null,mu=Xe()+500,Po(e,t));do try{CM();break}catch(c){FN(e,c)}while(1);f0(),Ih.current=s,ve=o,et!==null?t=0:(pt=null,yt=0,t=ut)}if(t!==0){if(t===2&&(o=Pg(e),o!==0&&(r=o,t=sy(e,o))),t===1)throw n=_l,Po(e,0),gi(e,r),on(e,Xe()),n;if(t===6)gi(e,r);else{if(o=e.current.alternate,(r&30)===0&&!kM(o)&&(t=kh(e,r),t===2&&(s=Pg(e),s!==0&&(r=s,t=sy(e,s))),t===1))throw n=_l,Po(e,0),gi(e,r),on(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Io(e,Jt,Lr);break;case 3:if(gi(e,r),(r&130023424)===r&&(t=k0+500-Xe(),10<t)){if(ah(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){qt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Vg(Io.bind(null,e,Jt,Lr),t);break}Io(e,Jt,Lr);break;case 4:if(gi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-tr(r);s=1<<a,a=t[a],a>o&&(o=a),r&=~s}if(r=o,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bM(r/1960))-r,10<r){e.timeoutHandle=Vg(Io.bind(null,e,Jt,Lr),r);break}Io(e,Jt,Lr);break;case 5:Io(e,Jt,Lr);break;default:throw Error($(329))}}}return on(e,Xe()),e.callbackNode===n?MN.bind(null,e):null}function sy(e,t){var n=Ja;return e.current.memoizedState.isDehydrated&&(Po(e,t).flags|=256),e=kh(e,t),e!==2&&(t=Jt,Jt=n,t!==null&&uy(t)),e}function uy(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function kM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!sr(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~b0,t&=~fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function XI(e){if((ve&6)!==0)throw Error($(327));su();var t=ah(e,0);if((t&1)===0)return on(e,Xe()),null;var n=kh(e,t);if(e.tag!==0&&n===2){var r=Pg(e);r!==0&&(t=r,n=sy(e,r))}if(n===1)throw n=_l,Po(e,0),gi(e,t),on(e,Xe()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Io(e,Jt,Lr),on(e,Xe()),null}function N0(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(mu=Xe()+500,ud&&zi())}}function qo(e){Ii!==null&&Ii.tag===0&&(ve&6)===0&&su();var t=ve;ve|=1;var n=Mn.transition,r=Se;try{if(Mn.transition=null,Se=1,e)return e()}finally{Se=r,Mn.transition=n,ve=t,(ve&6)===0&&zi()}}function C0(){hn=Js.current,xe(Js)}function Po(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nM(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(a0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:pu(),xe(nn),xe(Rt),g0();break;case 5:m0(r);break;case 4:pu();break;case 13:xe(je);break;case 19:xe(je);break;case 10:h0(r.type._context);break;case 22:case 23:C0()}n=n.return}if(pt=e,et=e=Pi(e.current,null),yt=hn=t,ut=0,_l=null,b0=fd=Bo=0,Jt=Ja=null,ko!==null){for(t=0;t<ko.length;t++)if(n=ko[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=o,r.next=a}n.pending=r}ko=null}return e}function FN(e,t){do{var n=et;try{if(f0(),Kf.current=Sh,Eh){for(var r=$e.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Eh=!1}if($o=0,dt=ot=$e=null,Xa=!1,gl=0,T0.current=null,n===null||n.return===null){ut=1,_l=t,et=null;break}e:{var s=e,a=n.return,c=n,f=t;if(t=yt,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,v=c,y=v.tag;if((v.mode&1)===0&&(y===0||y===11||y===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var _=FI(a);if(_!==null){_.flags&=-257,UI(_,a,c,s,t),_.mode&1&&MI(s,d,t),t=_,f=d;var S=t.updateQueue;if(S===null){var T=new Set;T.add(f),t.updateQueue=T}else S.add(f);break e}else{if((t&1)===0){MI(s,d,t),A0();break e}f=Error($(426))}}else if(Le&&c.mode&1){var C=FI(a);if(C!==null){(C.flags&65536)===0&&(C.flags|=256),UI(C,a,c,s,t),l0(vu(f,c));break e}}s=f=vu(f,c),ut!==4&&(ut=2),Ja===null?Ja=[s]:Ja.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var I=_N(s,f,t);AI(s,I);break e;case 1:c=f;var E=s.type,k=s.stateNode;if((s.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ri===null||!Ri.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var A=EN(s,c,t);AI(s,A);break e}}s=s.return}while(s!==null)}VN(n)}catch(L){t=L,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function UN(){var e=Ih.current;return Ih.current=Sh,e===null?Sh:e}function A0(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(Bo&268435455)===0&&(fd&268435455)===0||gi(pt,yt)}function kh(e,t){var n=ve;ve|=2;var r=UN();(pt!==e||yt!==t)&&(Lr=null,Po(e,t));do try{NM();break}catch(o){FN(e,o)}while(1);if(f0(),ve=n,Ih.current=r,et!==null)throw Error($(261));return pt=null,yt=0,ut}function NM(){for(;et!==null;)jN(et)}function CM(){for(;et!==null&&!Z2();)jN(et)}function jN(e){var t=BN(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?VN(e):et=t,T0.current=null}function VN(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=_M(n,t,hn),n!==null){et=n;return}}else{if(n=EM(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,et=null;return}}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);ut===0&&(ut=5)}function Io(e,t,n){var r=Se,o=Mn.transition;try{Mn.transition=null,Se=1,AM(e,t,n,r)}finally{Mn.transition=o,Se=r}return null}function AM(e,t,n,r){do su();while(Ii!==null);if((ve&6)!==0)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lL(e,s),e===pt&&(et=pt=null,yt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||bf||(bf=!0,qN(uh,function(){return su(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Mn.transition,Mn.transition=null;var a=Se;Se=1;var c=ve;ve|=4,T0.current=null,IM(e,n),ON(n,e),QL(Ug),lh=!!Fg,Ug=Fg=null,e.current=n,TM(n),eL(),ve=c,Se=a,Mn.transition=s}else e.current=n;if(bf&&(bf=!1,Ii=e,bh=o),s=e.pendingLanes,s===0&&(Ri=null),rL(n.stateNode),on(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Th)throw Th=!1,e=iy,iy=null,e;return(bh&1)!==0&&e.tag!==0&&su(),s=e.pendingLanes,(s&1)!==0?e===oy?Za++:(Za=0,oy=e):Za=0,zi(),null}function su(){if(Ii!==null){var e=wk(bh),t=Mn.transition,n=Se;try{if(Mn.transition=null,Se=16>e?16:e,Ii===null)var r=!1;else{if(e=Ii,Ii=null,bh=0,(ve&6)!==0)throw Error($(331));var o=ve;for(ve|=4,H=e.current;H!==null;){var s=H,a=s.child;if((H.flags&16)!==0){var c=s.deletions;if(c!==null){for(var f=0;f<c.length;f++){var d=c[f];for(H=d;H!==null;){var v=H;switch(v.tag){case 0:case 11:case 15:Ya(8,v,s)}var y=v.child;if(y!==null)y.return=v,H=y;else for(;H!==null;){v=H;var g=v.sibling,_=v.return;if(xN(v),v===d){H=null;break}if(g!==null){g.return=_,H=g;break}H=_}}}var S=s.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var C=T.sibling;T.sibling=null,T=C}while(T!==null)}}H=s}}if((s.subtreeFlags&2064)!==0&&a!==null)a.return=s,H=a;else e:for(;H!==null;){if(s=H,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,H=I;break e}H=s.return}}var E=e.current;for(H=E;H!==null;){a=H;var k=a.child;if((a.subtreeFlags&2064)!==0&&k!==null)k.return=a,H=k;else e:for(a=E;H!==null;){if(c=H,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:cd(9,c)}}catch(L){ze(c,c.return,L)}if(c===a){H=null;break e}var A=c.sibling;if(A!==null){A.return=c.return,H=A;break e}H=c.return}}if(ve=o,zi(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(nd,e)}catch{}r=!0}return r}finally{Se=n,Mn.transition=t}}return!1}function YI(e,t,n){t=vu(n,t),t=_N(e,t,1),e=Ai(e,t,1),t=qt(),e!==null&&(Vl(e,1,t),on(e,t))}function ze(e,t,n){if(e.tag===3)YI(e,e,n);else for(;t!==null;){if(t.tag===3){YI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=vu(n,e),e=EN(t,e,1),t=Ai(t,e,1),e=qt(),t!==null&&(Vl(t,1,e),on(t,e));break}}t=t.return}}function RM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(yt&n)===n&&(ut===4||ut===3&&(yt&130023424)===yt&&500>Xe()-k0?Po(e,0):b0|=n),on(e,t)}function $N(e,t){t===0&&((e.mode&1)===0?t=1:(t=vf,vf<<=1,(vf&130023424)===0&&(vf=4194304)));var n=qt();e=Kr(e,t),e!==null&&(Vl(e,t,n),on(e,n))}function xM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$N(e,n)}function PM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),$N(e,n)}var BN;BN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)en=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return en=!1,wM(e,t,n);en=(e.flags&131072)!==0}else en=!1,Le&&(t.flags&1048576)!==0&&Hk(t,mh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wf(e,t),e=t.pendingProps;var o=fu(t,Rt.current);ou(t,n),o=w0(null,t,r,e,o,n);var s=_0();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(r)?(s=!0,ph(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,p0(t),o.updater=ad,t.stateNode=o,o._reactInternals=t,Gg(t,r,e,n),t=Xg(null,t,r,!0,s,n)):(t.tag=0,Le&&s&&u0(t),Mt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wf(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=OM(r),e=Jn(r,e),o){case 0:t=Qg(null,t,r,e,n);break e;case 1:t=$I(null,t,r,e,n);break e;case 11:t=jI(null,t,r,e,n);break e;case 14:t=VI(null,t,r,Jn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jn(r,o),Qg(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jn(r,o),$I(e,t,r,o,n);case 3:e:{if(bN(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Qk(e,t),wh(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=vu(Error($(423)),t),t=BI(e,t,r,n,o);break e}else if(r!==o){o=vu(Error($(424)),t),t=BI(e,t,r,n,o);break e}else for(mn=Ci(t.stateNode.containerInfo.firstChild),wn=t,Le=!0,er=null,n=Zk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hu(),r===o){t=Gr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return eN(t),e===null&&zg(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,a=o.children,jg(r,o)?a=null:s!==null&&jg(r,s)&&(t.flags|=32),TN(e,t),Mt(e,t,a,n),t.child;case 6:return e===null&&zg(t),null;case 13:return kN(e,t,n);case 4:return v0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=du(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jn(r,o),jI(e,t,r,o,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,ke(gh,r._currentValue),r._currentValue=a,s!==null)if(sr(s.value,a)){if(s.children===o.children&&!nn.current){t=Gr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){a=s.child;for(var f=c.firstContext;f!==null;){if(f.context===r){if(s.tag===1){f=Vr(-1,n&-n),f.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}}s.lanes|=n,f=s.alternate,f!==null&&(f.lanes|=n),Hg(s.return,n,t),c.lanes|=n;break}f=f.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Hg(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ou(t,n),o=Fn(o),r=r(o),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,o=Jn(r,t.pendingProps),o=Jn(r.type,o),VI(e,t,r,o,n);case 15:return SN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Jn(r,o),Wf(e,t),t.tag=1,rn(r)?(e=!0,ph(t)):e=!1,ou(t,n),Yk(t,r,o),Gg(t,r,o,n),Xg(null,t,r,!0,e,n);case 19:return NN(e,t,n);case 22:return IN(e,t,n)}throw Error($(156,t.tag))};function qN(e,t){return vk(e,t)}function DM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new DM(e,t,n,r)}function R0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OM(e){if(typeof e=="function")return R0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qy)return 11;if(e===Xy)return 14}return 2}function Pi(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yf(e,t,n,r,o,s){var a=2;if(r=e,typeof e=="function")R0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Bs:return Do(n.children,o,s,t);case Wy:a=8,o|=8;break;case gg:return e=Dn(12,n,t,o|2),e.elementType=gg,e.lanes=s,e;case yg:return e=Dn(13,n,t,o),e.elementType=yg,e.lanes=s,e;case wg:return e=Dn(19,n,t,o),e.elementType=wg,e.lanes=s,e;case Jb:return hd(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xb:a=10;break e;case Yb:a=9;break e;case Qy:a=11;break e;case Xy:a=14;break e;case di:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Dn(a,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function Do(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function hd(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=Jb,e.lanes=n,e.stateNode={isHidden:!1},e}function Qm(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function Xm(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LM(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function x0(e,t,n,r,o,s,a,c,f){return e=new LM(e,t,n,c,f),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Dn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),e}function MM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zN(e){if(!e)return Mi;e=e._reactInternals;e:{if(Jo(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(rn(n))return qk(e,n,t)}return t}function HN(e,t,n,r,o,s,a,c,f){return e=x0(n,r,!0,e,o,s,a,c,f),e.context=zN(null),n=e.current,r=qt(),o=xi(n),s=Vr(r,o),s.callback=t!=null?t:null,Ai(n,s,o),e.current.lanes=o,Vl(e,o,r),on(e,r),e}function dd(e,t,n,r){var o=t.current,s=qt(),a=xi(o);return n=zN(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ai(o,t,a),e!==null&&(nr(e,o,a,s),Hf(e,o,a)),a}function Nh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function P0(e,t){JI(e,t),(e=e.alternate)&&JI(e,t)}function FM(){return null}var KN=typeof reportError=="function"?reportError:function(e){console.error(e)};function D0(e){this._internalRoot=e}pd.prototype.render=D0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));dd(e,t,null,null)};pd.prototype.unmount=D0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qo(function(){dd(null,e,null,null)}),t[Hr]=null}};function pd(e){this._internalRoot=e}pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mi.length&&t!==0&&t<mi[n].priority;n++);mi.splice(n,0,e),n===0&&Tk(e)}};function O0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ZI(){}function UM(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var d=Nh(a);s.call(d)}}var a=HN(t,r,e,0,null,!1,!1,"",ZI);return e._reactRootContainer=a,e[Hr]=a.current,hl(e.nodeType===8?e.parentNode:e),qo(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var d=Nh(f);c.call(d)}}var f=x0(e,0,!1,null,null,!1,!1,"",ZI);return e._reactRootContainer=f,e[Hr]=f.current,hl(e.nodeType===8?e.parentNode:e),qo(function(){dd(t,f,n,r)}),f}function md(e,t,n,r,o){var s=n._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var c=o;o=function(){var f=Nh(a);c.call(f)}}dd(t,a,e,o)}else a=UM(n,t,e,o,r);return Nh(a)}_k=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$a(t.pendingLanes);n!==0&&(Zy(t,n|1),on(t,Xe()),(ve&6)===0&&(mu=Xe()+500,zi()))}break;case 13:qo(function(){var r=Kr(e,1);if(r!==null){var o=qt();nr(r,e,1,o)}}),P0(e,1)}};e0=function(e){if(e.tag===13){var t=Kr(e,134217728);if(t!==null){var n=qt();nr(t,e,134217728,n)}P0(e,134217728)}};Ek=function(e){if(e.tag===13){var t=xi(e),n=Kr(e,t);if(n!==null){var r=qt();nr(n,e,t,r)}P0(e,t)}};Sk=function(){return Se};Ik=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Ag=function(e,t,n){switch(t){case"input":if(Sg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=sd(r);if(!o)throw Error($(90));ek(r),Sg(r,o)}}}break;case"textarea":nk(e,n);break;case"select":t=n.value,t!=null&&tu(e,!!n.multiple,t,!1)}};lk=N0;ck=qo;var jM={usingClientEntryPoint:!1,Events:[Bl,Ks,sd,uk,ak,N0]},Ma={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VM={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dk(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||FM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{nd=kf.inject(VM),Er=kf}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jM;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(t))throw Error($(200));return MM(e,t,null,n)};bn.createRoot=function(e,t){if(!O0(e))throw Error($(299));var n=!1,r="",o=KN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=x0(e,1,!1,null,null,n,!1,r,o),e[Hr]=t.current,hl(e.nodeType===8?e.parentNode:e),new D0(t)};bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=dk(t),e=e===null?null:e.stateNode,e};bn.flushSync=function(e){return qo(e)};bn.hydrate=function(e,t,n){if(!vd(t))throw Error($(200));return md(null,e,t,!0,n)};bn.hydrateRoot=function(e,t,n){if(!O0(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",a=KN;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=HN(t,null,e,1,n!=null?n:null,o,!1,s,a),e[Hr]=t.current,hl(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new pd(t)};bn.render=function(e,t,n){if(!vd(t))throw Error($(200));return md(null,e,t,!1,n)};bn.unmountComponentAtNode=function(e){if(!vd(e))throw Error($(40));return e._reactRootContainer?(qo(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[Hr]=null})}),!0):!1};bn.unstable_batchedUpdates=N0;bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vd(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return md(e,t,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=bn})(Hb);var eT=Hb.exports;vg.createRoot=eT.createRoot,vg.hydrateRoot=eT.hydrateRoot;function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ch.apply(this,arguments)}var Co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Co||(Co={}));var tT=function(e){return e},nT="beforeunload",$M="popstate";function BM(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function s(){var O=r.location,P=O.pathname,Q=O.search,N=O.hash,_e=o.state||{};return[_e.idx,tT({pathname:P,search:Q,hash:N,state:_e.usr||null,key:_e.key||"default"})]}var a=null;function c(){if(a)_.call(a),a=null;else{var O=Co.Pop,P=s(),Q=P[0],N=P[1];if(_.length){if(Q!=null){var _e=v-Q;_e&&(a={action:O,location:N,retry:function(){L(_e*-1)}},L(_e))}}else E(O)}}r.addEventListener($M,c);var f=Co.Pop,d=s(),v=d[0],y=d[1],g=iT(),_=iT();v==null&&(v=0,o.replaceState(Ch({},o.state,{idx:v}),""));function S(O){return typeof O=="string"?O:zM(O)}function T(O,P){return P===void 0&&(P=null),tT(Ch({pathname:y.pathname,hash:"",search:""},typeof O=="string"?gd(O):O,{state:P,key:qM()}))}function C(O,P){return[{usr:O.state,key:O.key,idx:P},S(O)]}function I(O,P,Q){return!_.length||(_.call({action:O,location:P,retry:Q}),!1)}function E(O){f=O;var P=s();v=P[0],y=P[1],g.call({action:f,location:y})}function k(O,P){var Q=Co.Push,N=T(O,P);function _e(){k(O,P)}if(I(Q,N,_e)){var ct=C(N,v+1),Vn=ct[0],$n=ct[1];try{o.pushState(Vn,"",$n)}catch{r.location.assign($n)}E(Q)}}function A(O,P){var Q=Co.Replace,N=T(O,P);function _e(){A(O,P)}if(I(Q,N,_e)){var ct=C(N,v),Vn=ct[0],$n=ct[1];o.replaceState(Vn,"",$n),E(Q)}}function L(O){o.go(O)}var R={get action(){return f},get location(){return y},createHref:S,push:k,replace:A,go:L,back:function(){L(-1)},forward:function(){L(1)},listen:function(P){return g.push(P)},block:function(P){var Q=_.push(P);return _.length===1&&r.addEventListener(nT,rT),function(){Q(),_.length||r.removeEventListener(nT,rT)}}};return R}function rT(e){e.preventDefault(),e.returnValue=""}function iT(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function qM(){return Math.random().toString(36).substr(2,8)}function zM(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,s=e.hash,a=s===void 0?"":s;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function gd(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const HM=fe.exports.createContext(null),L0=fe.exports.createContext(null),GN=fe.exports.createContext({outlet:null,matches:[]});function Fi(e,t){if(!e)throw new Error(t)}function KM(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?gd(t):t,o=QN(r.pathname||"/",n);if(o==null)return null;let s=WN(e);GM(s);let a=null;for(let c=0;a==null&&c<s.length;++c)a=nF(s[c],o);return a}function WN(e,t,n,r){return t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=""),e.forEach((o,s)=>{let a={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Fi(!1),a.relativePath=a.relativePath.slice(r.length));let c=uu([r,a.relativePath]),f=n.concat(a);o.children&&o.children.length>0&&(o.index===!0&&Fi(!1),WN(o.children,t,f,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:eF(c,o.index),routesMeta:f})}),t}function GM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WM=/^:\w+$/,QM=3,XM=2,YM=1,JM=10,ZM=-2,oT=e=>e==="*";function eF(e,t){let n=e.split("/"),r=n.length;return n.some(oT)&&(r+=ZM),t&&(r+=XM),n.filter(o=>!oT(o)).reduce((o,s)=>o+(WM.test(s)?QM:s===""?YM:JM),r)}function tF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function nF(e,t){let{routesMeta:n}=e,r={},o="/",s=[];for(let a=0;a<n.length;++a){let c=n[a],f=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",v=rF({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d);if(!v)return null;Object.assign(r,v.params);let y=c.route;s.push({params:r,pathname:uu([o,v.pathname]),pathnameBase:XN(uu([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=uu([o,v.pathnameBase]))}return s}function rF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iF(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((d,v,y)=>{if(v==="*"){let g=c[y]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return d[v]=oF(c[y]||""),d},{}),pathname:s,pathnameBase:a,pattern:e}}function iF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(a,c)=>(r.push(c),"([^\\/]+)"));return e.endsWith("*")?(r.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,t?void 0:"i"),r]}function oF(e,t){try{return decodeURIComponent(e)}catch{return e}}function QN(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}const uu=e=>e.join("/").replace(/\/\/+/g,"/"),XN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function M0(){return fe.exports.useContext(L0)!=null}function sF(){return M0()||Fi(!1),fe.exports.useContext(L0).location}function uF(e,t){M0()||Fi(!1);let{matches:n}=fe.exports.useContext(GN),r=n[n.length-1],o=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let a=sF(),c;if(t){var f;let g=typeof t=="string"?gd(t):t;s==="/"||((f=g.pathname)==null?void 0:f.startsWith(s))||Fi(!1),c=g}else c=a;let d=c.pathname||"/",v=s==="/"?d:d.slice(s.length)||"/",y=KM(e,{pathname:v});return aF(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:uu([s,g.pathname]),pathnameBase:g.pathnameBase==="/"?s:uu([s,g.pathnameBase])})),n)}function aF(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((n,r,o)=>fe.exports.createElement(GN.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}}),null)}function Ms(e){Fi(!1)}function lF(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Co.Pop,navigator:s,static:a=!1}=e;M0()&&Fi(!1);let c=XN(t),f=fe.exports.useMemo(()=>({basename:c,navigator:s,static:a}),[c,s,a]);typeof r=="string"&&(r=gd(r));let{pathname:d="/",search:v="",hash:y="",state:g=null,key:_="default"}=r,S=fe.exports.useMemo(()=>{let T=QN(d,c);return T==null?null:{pathname:T,search:v,hash:y,state:g,key:_}},[c,d,v,y,g,_]);return S==null?null:fe.exports.createElement(HM.Provider,{value:f},fe.exports.createElement(L0.Provider,{children:n,value:{location:S,navigationType:o}}))}function cF(e){let{children:t,location:n}=e;return uF(ay(t),n)}function ay(e){let t=[];return fe.exports.Children.forEach(e,n=>{if(!fe.exports.isValidElement(n))return;if(n.type===fe.exports.Fragment){t.push.apply(t,ay(n.props.children));return}n.type!==Ms&&Fi(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=ay(n.props.children)),t.push(r)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fF(e){let{basename:t,children:n,window:r}=e,o=fe.exports.useRef();o.current==null&&(o.current=BM({window:r}));let s=o.current,[a,c]=fe.exports.useState({action:s.action,location:s.location});return fe.exports.useLayoutEffect(()=>s.listen(c),[s]),fe.exports.createElement(lF,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var F0={exports:{}},yd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF=fe.exports,dF=Symbol.for("react.element"),pF=Symbol.for("react.fragment"),vF=Object.prototype.hasOwnProperty,mF=hF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gF={key:!0,ref:!0,__self:!0,__source:!0};function YN(e,t,n){var r,o={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)vF.call(t,r)&&!gF.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:dF,type:e,key:s,ref:a,props:o,_owner:mF.current}}yd.Fragment=pF;yd.jsx=YN;yd.jsxs=YN;(function(e){e.exports=yd})(F0);const pe=F0.exports.jsx,Fs=F0.exports.jsxs,yF=()=>pe("div",{children:"Dashboard"}),wF=()=>pe("div",{children:"Create"}),_F=()=>pe("div",{children:"Login"}),EF=()=>pe("div",{children:"Project"});var ly=function(e,t){return ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ly(e,t)};function Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ly(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var zo=function(){return zo=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zo.apply(this,arguments)};function F(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(v){try{d(r.next(v))}catch(y){a(y)}}function f(v){try{d(r.throw(v))}catch(y){a(y)}}function d(v){v.done?s(v.value):o(v.value).then(c,f)}d((r=r.apply(e,t||[])).next())})}function M(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(v){return f([d,v])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(v){d=[6,v],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ym(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){a={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Oe(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SF=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},IF=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,c=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,v=s>>2,y=(s&3)<<4|c>>4,g=(c&15)<<2|d>>6,_=d&63;f||(_=64,a||(g=64)),r.push(n[v],n[y],n[g],n[_])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(SF(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):IF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,c=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var v=o<e.length,y=v?n[e.charAt(o)]:64;if(++o,s==null||c==null||d==null||y==null)throw Error();var g=s<<2|c>>4;if(r.push(g),d!==64){var _=c<<4&240|d>>2;if(r.push(_),y!==64){var S=d<<6&192|y;r.push(S)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(e){return El(void 0,e)}function El(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!bF(r)||(e[r]=El(e[r],t[r]));return e}function bF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kF=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=zo({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[sT.encodeString(JSON.stringify(n),!1),sT.encodeString(JSON.stringify(a),!1),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ho())}function AF(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RF(){return typeof self=="object"&&self.self===self}function xF(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DF(){return Ho().indexOf("Electron/")>=0}function OF(){var e=Ho();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function LF(){return Ho().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MF="FirebaseError",JN=function(e){Z(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=MF,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,U0.prototype.create),s}return t}(Error),U0=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?FF(a,o):"Error",f=this.serviceName+": "+c+" ("+s+").",d=new JN(s,f,o);return d},e}();function FF(e,t){return e.replace(UF,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var UF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jF(e,t){var n=new VF(e,t);return n.subscribe.bind(n)}var VF=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$F(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Jm),s.error===void 0&&(s.error=Jm),s.complete===void 0&&(s.complete=Jm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function $F(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){return e&&e._delegate?e._delegate:e}var zl=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=hi);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new kF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=zo({identifier:hi,optional:!1},t),r=n.identifier,o=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(zF(t))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}try{for(var o=Ym(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=Nf(s.value,2),c=a[0],f=a[1],d=this.normalizeInstanceIdentifier(c);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(y){n={error:y}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=hi),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Oe(Oe([],Nf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Nf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=hi),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.instanceIdentifier,s=o===void 0?hi:o,a=t.options,c=a===void 0?{}:a,f=this.normalizeInstanceIdentifier(s);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var d=this.getOrInitializeService({instanceIdentifier:f,options:c});try{for(var v=Ym(this.instancesDeferred.entries()),y=v.next();!y.done;y=v.next()){var g=Nf(y.value,2),_=g[0],S=g[1],T=this.normalizeInstanceIdentifier(_);f===T&&S.resolve(d)}}catch(C){n={error:C}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(d,f),d},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o;try{for(var s=Ym(this.onInitCallbacks),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,n)}catch{}}}catch(f){r={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qF(n),options:o}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:hi:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function qF(e){return e===hi?void 0:e}function zF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HF=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new BF(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Yn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,o++)r[o]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo,j0=[],ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));var ZN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},KF=ge.INFO,GF=(Eo={},Eo[ge.DEBUG]="log",Eo[ge.VERBOSE]="log",Eo[ge.INFO]="info",Eo[ge.WARN]="warn",Eo[ge.ERROR]="error",Eo),WF=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=GF[t];if(s)console[s].apply(console,Yn(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},eC=function(){function e(t){this.name=t,this._logLevel=KF,this._logHandler=WF,this._userLogHandler=null,j0.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ge))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?ZN[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yn([this,ge.DEBUG],t)),this._logHandler.apply(this,Yn([this,ge.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yn([this,ge.VERBOSE],t)),this._logHandler.apply(this,Yn([this,ge.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yn([this,ge.INFO],t)),this._logHandler.apply(this,Yn([this,ge.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yn([this,ge.WARN],t)),this._logHandler.apply(this,Yn([this,ge.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yn([this,ge.ERROR],t)),this._logHandler.apply(this,Yn([this,ge.ERROR],t))},e}();function QF(e){j0.forEach(function(t){t.setLogLevel(e)})}function XF(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=ZN[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],y=2;y<arguments.length;y++)v[y-2]=arguments[y];var g=v.map(function(_){if(_==null)return null;if(typeof _=="string")return _;if(typeof _=="number"||typeof _=="boolean")return _.toString();if(_ instanceof Error)return _.message;try{return JSON.stringify(_)}catch{return null}}).filter(function(_){return _}).join(" ");d>=(c!=null?c:f.logLevel)&&e({level:ge[d].toLowerCase(),message:g,args:v,type:f.name})}},r=0,o=j0;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,YF=(li={},li["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",li["bad-app-name"]="Illegal App name: '{$appName}",li["duplicate-app"]="Firebase App named '{$appName}' already exists",li["app-deleted"]="Firebase App named '{$appName}' already deleted",li["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",li["invalid-log-argument"]="First argument to `onLog` must be null or a function.",li),Us=new U0("app","Firebase",YF),tC="@firebase/app",JF="0.6.21",ZF="@firebase/analytics",eU="@firebase/app-check",tU="@firebase/auth",nU="@firebase/database",rU="@firebase/functions",iU="@firebase/installations",oU="@firebase/messaging",sU="@firebase/performance",uU="@firebase/remote-config",aU="@firebase/storage",lU="@firebase/firestore",cU="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Ah="[DEFAULT]",fU=(It={},It[tC]="fire-core",It[ZF]="fire-analytics",It[eU]="fire-app-check",It[tU]="fire-auth",It[nU]="fire-rtdb",It[rU]="fire-fn",It[iU]="fire-iid",It[oU]="fire-fcm",It[sU]="fire-perf",It[uU]="fire-rc",It[aU]="fire-gcs",It[lU]="fire-fst",It["fire-js"]="fire-js",It[cU]="fire-js-all",It);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu=new eC("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=TF(t),this.container=new HF(n.name),this._addComponent(new zl("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Ah),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Ah),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){gu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Us.create("app-deleted",{appName:this.name_})},e}();Jf.prototype.name&&Jf.prototype.options||Jf.prototype.delete||console.log("dc");var hU="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:QF,onLog:v,apps:null,SDK_VERSION:hU,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:y}};r.default=r,Object.defineProperty(r,"apps",{get:c});function o(g){delete t[g]}function s(g){if(g=g||Ah,!uT(t,g))throw Us.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,_){if(_===void 0&&(_={}),typeof _!="object"||_===null){var S=_;_={name:S}}var T=_;T.name===void 0&&(T.name=Ah);var C=T.name;if(typeof C!="string"||!C)throw Us.create("bad-app-name",{appName:String(C)});if(uT(t,C))throw Us.create("duplicate-app",{appName:C});var I=new e(g,T,r);return t[C]=I,I}function c(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var _=g.name;if(n.has(_))return gu.debug("There were multiple attempts to register component "+_+"."),g.type==="PUBLIC"?r[_]:null;if(n.set(_,g),g.type==="PUBLIC"){var S=function(E){if(E===void 0&&(E=s()),typeof E[_]!="function")throw Us.create("invalid-app-argument",{appName:_});return E[_]()};g.serviceProps!==void 0&&El(S,g.serviceProps),r[_]=S,e.prototype[_]=function(){for(var E=[],k=0;k<arguments.length;k++)E[k]=arguments[k];var A=this._getService.bind(this,_);return A.apply(this,g.multipleInstances?E:[])}}for(var T=0,C=Object.keys(t);T<C.length;T++){var I=C[T];t[I]._addComponent(g)}return g.type==="PUBLIC"?r[_]:null}function d(g,_,S){var T,C=(T=fU[g])!==null&&T!==void 0?T:g;S&&(C+="-"+S);var I=C.match(/\s|\//),E=_.match(/\s|\//);if(I||E){var k=['Unable to register library "'+C+'" with version "'+_+'":'];I&&k.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),I&&E&&k.push("and"),E&&k.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),gu.warn(k.join(" "));return}f(new zl(C+"-version",function(){return{library:C,version:_}},"VERSION"))}function v(g,_){if(g!==null&&typeof g!="function")throw Us.create("invalid-log-argument");XF(g,_)}function y(g,_){if(_==="serverAuth")return null;var S=_;return S}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){var e=dU(Jf);e.INTERNAL=zo(zo({},e.INTERNAL),{createFirebaseNamespace:nC,extendNamespace:t,createSubscribe:jF,ErrorFactory:U0,deepExtend:El});function t(n){El(e,n)}return e}var V0=nC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(vU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function vU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e,t){e.INTERNAL.registerComponent(new zl("platform-logger",function(n){return new pU(n)},"PRIVATE")),e.registerVersion(tC,JF,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(RF()&&self.firebase!==void 0){gu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var aT=self.firebase.SDK_VERSION;aT&&aT.indexOf("LITE")>=0&&gu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var gU=V0.initializeApp;V0.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return AF()&&gu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),gU.apply(void 0,e)};var ee=V0;mU(ee);var yU="firebase",wU="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(yU,wU,"app");(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,l){i!=Array.prototype&&i!=Object.prototype&&(i[u]=l.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var l=i[u];if(l&&l.Math==Math)return l}return globalThis}var r=n(this);function o(i,u){if(u){var l=r;i=i.split(".");for(var h=0;h<i.length-1;h++){var p=i[h];p in l||(l[p]={}),l=l[p]}i=i[i.length-1],h=l[i],u=u(h),u!=h&&u!=null&&t(l,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(w){this.b=0,this.c=void 0,this.a=[];var b=this.f();try{w(b.resolve,b.reject)}catch(D){b.reject(D)}}function l(){this.a=null}function h(w){return w instanceof u?w:new u(function(b){b(w)})}if(i)return i;l.prototype.b=function(w){if(this.a==null){this.a=[];var b=this;this.c(function(){b.g()})}this.a.push(w)};var p=r.setTimeout;l.prototype.c=function(w){p(w,0)},l.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var b=0;b<w.length;++b){var D=w[b];w[b]=null;try{D()}catch(U){this.f(U)}}}this.a=null},l.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(U){return function(ne){D||(D=!0,U.call(b,ne))}}var b=this,D=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var b=w!=null;break e;case"function":b=!0;break e;default:b=!1}b?this.v(w):this.h(w)}},u.prototype.v=function(w){var b=void 0;try{b=w.then}catch(D){this.g(D);return}typeof b=="function"?this.u(b,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,b){if(this.b!=0)throw Error("Cannot settle("+w+", "+b+"): Promise already settled in state"+this.b);this.b=w,this.c=b,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)m.b(this.a[w]);this.a=null}};var m=new l;return u.prototype.s=function(w){var b=this.f();w.Qa(b.resolve,b.reject)},u.prototype.u=function(w,b){var D=this.f();try{w.call(b,D.resolve,D.reject)}catch(U){D.reject(U)}},u.prototype.then=function(w,b){function D(me,ft){return typeof me=="function"?function(Or){try{U(me(Or))}catch(Tm){ne(Tm)}}:ft}var U,ne,Ee=new u(function(me,ft){U=me,ne=ft});return this.Qa(D(w,U),D(b,ne)),Ee},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,b){function D(){switch(U.b){case 1:w(U.c);break;case 2:b(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?m.b(D):this.a.push(D)},u.resolve=h,u.reject=function(w){return new u(function(b,D){D(w)})},u.race=function(w){return new u(function(b,D){for(var U=a(w),ne=U.next();!ne.done;ne=U.next())h(ne.value).Qa(b,D)})},u.all=function(w){var b=a(w),D=b.next();return D.done?h([]):new u(function(U,ne){function Ee(Or){return function(Tm){me[Or]=Tm,ft--,ft==0&&U(me)}}var me=[],ft=0;do me.push(void 0),ft++,h(D.value).Qa(Ee(me.length-1),ne),D=b.next();while(!D.done)})},u});var c=c||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function y(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function g(){}function _(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function S(i){var u=_(i);return u=="array"||u=="object"&&typeof i.length=="number"}function T(i){return _(i)=="function"}function C(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function I(i){return Object.prototype.hasOwnProperty.call(i,E)&&i[E]||(i[E]=++k)}var E="closure_uid_"+(1e9*Math.random()>>>0),k=0;function A(i,u,l){return i.call.apply(i.bind,arguments)}function L(i,u,l){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),i.apply(u,p)}}return function(){return i.apply(u,arguments)}}function R(i,u,l){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=A:R=L,R.apply(null,arguments)}function O(i,u){var l=Array.prototype.slice.call(arguments,1);return function(){var h=l.slice();return h.push.apply(h,arguments),i.apply(this,h)}}function P(i,u){function l(){}l.prototype=u.prototype,i.ab=u.prototype,i.prototype=new l,i.prototype.constructor=i}function Q(i){return i}function N(i,u,l){this.code=ct+i,this.message=u||Vn[i]||"",this.a=l||null}P(N,Error),N.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},N.prototype.toJSON=function(){return this.w()};function _e(i){var u=i&&i.code;return u?new N(u.substring(ct.length),i.message,i.serverResponse):null}var ct="auth/",Vn={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},$n={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Jr(i){for(var u in $n)if($n[u].id===i)return i=$n[u],{firebaseEndpoint:i.Ta,secureTokenEndpoint:i.Za,identityPlatformEndpoint:i.Wa};return null}var Cr;Cr=Jr("__EID__")?"__EID__":void 0;function ss(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function q(i){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}P(q,Error),q.prototype.name="CustomError";function re(i,u){i=i.split("%s");for(var l="",h=i.length-1,p=0;p<h;p++)l+=i[p]+(p<u.length?u[p]:"%s");q.call(this,l+i[h])}P(re,q),re.prototype.name="AssertionError";function ie(i,u){throw new re("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Ce(i,u){this.c=i,this.f=u,this.b=0,this.a=null}Ce.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function Ke(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function Yi(){this.b=this.a=null}var ur=new Ce(function(){return new Bn},function(i){i.reset()});Yi.prototype.add=function(i,u){var l=ur.get();l.set(i,u),this.b?this.b.next=l:this.a=l,this.b=l};function Ku(){var i=A1,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function Bn(){this.next=this.b=this.a=null}Bn.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},Bn.prototype.reset=function(){this.next=this.b=this.a=null};var Ji=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var l=0;l<i.length;l++)if(l in i&&i[l]===u)return l;return-1},Fe=Array.prototype.forEach?function(i,u,l){Array.prototype.forEach.call(i,u,l)}:function(i,u,l){for(var h=i.length,p=typeof i=="string"?i.split(""):i,m=0;m<h;m++)m in p&&u.call(l,p[m],m,i)};function yx(i,u){for(var l=typeof i=="string"?i.split(""):i,h=i.length-1;0<=h;--h)h in l&&u.call(void 0,l[h],h,i)}var wx=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var l=i.length,h=[],p=0,m=typeof i=="string"?i.split(""):i,w=0;w<l;w++)if(w in m){var b=m[w];u.call(void 0,b,w,i)&&(h[p++]=b)}return h},ac=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var l=i.length,h=Array(l),p=typeof i=="string"?i.split(""):i,m=0;m<l;m++)m in p&&(h[m]=u.call(void 0,p[m],m,i));return h},_x=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var l=i.length,h=typeof i=="string"?i.split(""):i,p=0;p<l;p++)if(p in h&&u.call(void 0,h[p],p,i))return!0;return!1};function Ex(i){e:{for(var u=eD,l=i.length,h=typeof i=="string"?i.split(""):i,p=0;p<l;p++)if(p in h&&u.call(void 0,h[p],p,i)){u=p;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function Ar(i,u){return 0<=Ji(i,u)}function lc(i,u){u=Ji(i,u);var l;return(l=0<=u)&&Array.prototype.splice.call(i,u,1),l}function qn(i,u){var l=0;yx(i,function(h,p){u.call(void 0,h,p,i)&&Array.prototype.splice.call(i,p,1).length==1&&l++})}function Yd(i){return Array.prototype.concat.apply([],arguments)}function Zi(i){var u=i.length;if(0<u){for(var l=Array(u),h=0;h<u;h++)l[h]=i[h];return l}return[]}var i1=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},Sx=/&/g,Ix=/</g,Tx=/>/g,bx=/"/g,kx=/'/g,Nx=/\x00/g,Cx=/[\x00&<>"']/;function be(i,u){return i.indexOf(u)!=-1}function Jd(i,u){return i<u?-1:i>u?1:0}var us;e:{var o1=f.navigator;if(o1){var s1=o1.userAgent;if(s1){us=s1;break e}}us=""}function rt(i){return be(us,i)}function u1(i,u){for(var l in i)u.call(void 0,i[l],l,i)}function eo(i){for(var u in i)return!1;return!0}function Zr(i){var u={},l;for(l in i)u[l]=i[l];return u}var a1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gt(i,u){for(var l,h,p=1;p<arguments.length;p++){h=arguments[p];for(l in h)i[l]=h[l];for(var m=0;m<a1.length;m++)l=a1[m],Object.prototype.hasOwnProperty.call(h,l)&&(i[l]=h[l])}}function l1(i,u){e:{try{var l=i&&i.ownerDocument,h=l&&(l.defaultView||l.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break e}}catch{}p=null}if(p&&typeof p[u]<"u"&&(!i||!(i instanceof p[u])&&(i instanceof p.Location||i instanceof p.Element))){if(C(i))try{var m=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{m="<object could not be stringified>"}else m=i===void 0?"undefined":i===null?"null":typeof i;ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,m)}}function ar(i,u){this.a=i===cc&&u||"",this.b=c1}ar.prototype.sa=!0,ar.prototype.ra=function(){return this.a},ar.prototype.toString=function(){return"Const{"+this.a+"}"};function Zd(i){return i instanceof ar&&i.constructor===ar&&i.b===c1?i.a:(ie("expected object of type Const, got '"+i+"'"),"type_error:Const")}var c1={},cc={},fc;function f1(){if(fc===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(l){f.console&&f.console.error(l.message)}fc=i}else fc=i}return fc}function as(i,u){this.a=u===d1?i:""}as.prototype.sa=!0,as.prototype.ra=function(){return this.a.toString()},as.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function h1(i){return i instanceof as&&i.constructor===as?i.a:(ie("expected object of type TrustedResourceUrl, got '"+i+"' of type "+_(i)),"type_error:TrustedResourceUrl")}function ep(i,u){var l=Zd(i);if(!Rx.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return i=l.replace(Ax,function(h,p){if(!Object.prototype.hasOwnProperty.call(u,p))throw Error('Found marker, "'+p+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(u));return h=u[p],h instanceof ar?Zd(h):encodeURIComponent(String(h))}),xx(i)}var Ax=/%{(\w+)}/g,Rx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,d1={};function xx(i){var u=f1();return i=u?u.createScriptURL(i):i,new as(i,d1)}function Wt(i,u){this.a=u===Gu?i:""}Wt.prototype.sa=!0,Wt.prototype.ra=function(){return this.a.toString()},Wt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function hc(i){return i instanceof Wt&&i.constructor===Wt?i.a:(ie("expected object of type SafeUrl, got '"+i+"' of type "+_(i)),"type_error:SafeUrl")}var Px=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,p1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function v1(i){if(i instanceof Wt)return i;if(i=typeof i=="object"&&i.sa?i.ra():String(i),p1.test(i))i=new Wt(i,Gu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(Dx);i=u&&Px.test(u[1])?new Wt(i,Gu):null}return i}function m1(i){return i instanceof Wt?i:(i=typeof i=="object"&&i.sa?i.ra():String(i),p1.test(i)||(i="about:invalid#zClosurez"),new Wt(i,Gu))}var Gu={},g1=new Wt("about:invalid#zClosurez",Gu);function ls(i,u,l){this.a=l===y1?i:""}ls.prototype.sa=!0,ls.prototype.ra=function(){return this.a.toString()},ls.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ox(i){return i instanceof ls&&i.constructor===ls?i.a:(ie("expected object of type SafeHtml, got '"+i+"' of type "+_(i)),"type_error:SafeHtml")}var y1={};function Lx(i,u){l1(i,"HTMLScriptElement"),i.src=h1(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=y(u.document):(v===null&&(v=y(f.document)),u=v),u&&i.setAttribute("nonce",u)}function w1(i,u,l,h){return i=i instanceof Wt?i:m1(i),u=u||f,l=l instanceof ar?Zd(l):l||"",u.open(hc(i),l,h,void 0)}function _1(i,u){for(var l=i.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<l.length;)h+=l.shift()+p.shift();return h+l.join("%s")}function tp(i){return Cx.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(Sx,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(Ix,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Tx,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(bx,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(kx,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Nx,"&#0;"))),i}function np(i){return np[" "](i),i}np[" "]=g;function Mx(i,u){var l=Vx;return Object.prototype.hasOwnProperty.call(l,i)?l[i]:l[i]=u(i)}var Fx=rt("Opera"),zn=rt("Trident")||rt("MSIE"),E1=rt("Edge"),Ux=E1||zn,S1=rt("Gecko")&&!(be(us.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),jx=be(us.toLowerCase(),"webkit")&&!rt("Edge");function I1(){var i=f.document;return i?i.documentMode:void 0}var dc;e:{var rp="",ip=function(){var i=us;if(S1)return/rv:([^\);]+)(\)|;)/.exec(i);if(E1)return/Edge\/([\d\.]+)/.exec(i);if(zn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(jx)return/WebKit\/(\S+)/.exec(i);if(Fx)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(ip&&(rp=ip?ip[1]:""),zn){var op=I1();if(op!=null&&op>parseFloat(rp)){dc=String(op);break e}}dc=rp}var Vx={};function T1(i){return Mx(i,function(){for(var u=0,l=i1(String(dc)).split("."),h=i1(String(i)).split("."),p=Math.max(l.length,h.length),m=0;u==0&&m<p;m++){var w=l[m]||"",b=h[m]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],w[0].length==0&&b[0].length==0)break;u=Jd(w[1].length==0?0:parseInt(w[1],10),b[1].length==0?0:parseInt(b[1],10))||Jd(w[2].length==0,b[2].length==0)||Jd(w[2],b[2]),w=w[3],b=b[3]}while(u==0)}return 0<=u})}var sp;if(f.document&&zn){var b1=I1();sp=b1||parseInt(dc,10)||void 0}else sp=void 0;var ei=sp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var $x=!zn||9<=Number(ei);function Wu(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function k1(i,u){u1(u,function(l,h){l&&typeof l=="object"&&l.sa&&(l=l.ra()),h=="style"?i.style.cssText=l:h=="class"?i.className=l:h=="for"?i.htmlFor=l:N1.hasOwnProperty(h)?i.setAttribute(N1[h],l):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?i.setAttribute(h,l):i[h]=l})}var N1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bx(i,u,l){var h=arguments,p=document,m=String(h[0]),w=h[1];if(!$x&&w&&(w.name||w.type)){if(m=["<",m],w.name&&m.push(' name="',tp(w.name),'"'),w.type){m.push(' type="',tp(w.type),'"');var b={};Gt(b,w),delete b.type,w=b}m.push(">"),m=m.join("")}return m=pc(p,m),w&&(typeof w=="string"?m.className=w:Array.isArray(w)?m.className=w.join(" "):k1(m,w)),2<h.length&&qx(p,m,h),m}function qx(i,u,l){function h(b){b&&u.appendChild(typeof b=="string"?i.createTextNode(b):b)}for(var p=2;p<l.length;p++){var m=l[p];if(!S(m)||C(m)&&0<m.nodeType)h(m);else{e:{if(m&&typeof m.length=="number"){if(C(m)){var w=typeof m.item=="function"||typeof m.item=="string";break e}if(T(m)){w=typeof m.item=="function";break e}}w=!1}Fe(w?Zi(m):m,h)}}}function pc(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function C1(i){f.setTimeout(function(){throw i},0)}var up;function zx(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(i=function(){var p=pc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var m=p.contentWindow;p=m.document,p.open(),p.close();var w="callImmediate"+Math.random(),b=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;p=R(function(D){(b=="*"||D.origin==b)&&D.data==w&&this.port1.onmessage()},this),m.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(w,b)}}}),typeof i<"u"&&!rt("Trident")&&!rt("MSIE")){var u=new i,l={},h=l;return u.port1.onmessage=function(){if(l.next!==void 0){l=l.next;var p=l.Gb;l.Gb=null,p()}},function(p){h.next={Gb:p},h=h.next,u.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function vc(i,u){mc||Hx(),ap||(mc(),ap=!0),A1.add(i,u)}var mc;function Hx(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);mc=function(){i.then(R1)}}else mc=function(){var u=R1;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!rt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(up||(up=zx()),up(u)):f.setImmediate(u)}}var ap=!1,A1=new Yi;function R1(){for(var i;i=Ku();){try{i.a.call(i.b)}catch(u){C1(u)}Ke(ur,i)}ap=!1}function ae(i,u){if(this.a=to,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=g)try{var l=this;i.call(u,function(h){no(l,Qu,h)},function(h){if(!(h instanceof cs))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}no(l,Rr,h)})}catch(h){no(this,Rr,h)}}var to=0,Qu=2,Rr=3;function x1(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}x1.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var P1=new Ce(function(){return new x1},function(i){i.reset()});function lp(i,u,l){var h=P1.get();return h.g=i,h.b=u,h.f=l,h}function J(i){if(i instanceof ae)return i;var u=new ae(g);return no(u,Qu,i),u}function Pe(i){return new ae(function(u,l){l(i)})}function D1(i,u,l){F1(i,u,l,null)||vc(O(u,i))}function Kx(i){return new ae(function(u,l){var h=i.length,p=[];if(h)for(var m=function(U,ne){h--,p[U]=ne,h==0&&u(p)},w=function(U){l(U)},b=0,D;b<i.length;b++)D=i[b],D1(D,O(m,b),w);else u(p)})}function O1(i){return new ae(function(u){var l=i.length,h=[];if(l)for(var p=function(b,D,U){l--,h[b]=D?{Pb:!0,value:U}:{Pb:!1,reason:U},l==0&&u(h)},m=0,w;m<i.length;m++)w=i[m],D1(w,O(p,m,!0),O(p,m,!1));else u(h)})}ae.prototype.then=function(i,u,l){return M1(this,T(i)?i:null,T(u)?u:null,l)},ae.prototype.$goog_Thenable=!0,e=ae.prototype,e.oa=function(i,u){return i=lp(i,i,u),i.c=!0,cp(this,i),this},e.o=function(i,u){return M1(this,null,i,u)},e.cancel=function(i){if(this.a==to){var u=new cs(i);vc(function(){L1(this,u)},this)}};function L1(i,u){if(i.a==to)if(i.c){var l=i.c;if(l.b){for(var h=0,p=null,m=null,w=l.b;w&&(w.c||(h++,w.a==i&&(p=w),!(p&&1<h)));w=w.next)p||(m=w);p&&(l.a==to&&h==1?L1(l,u):(m?(h=m,h.next==l.f&&(l.f=h),h.next=h.next.next):j1(l),V1(l,p,Rr,u)))}i.c=null}else no(i,Rr,u)}function cp(i,u){i.b||i.a!=Qu&&i.a!=Rr||U1(i),i.f?i.f.next=u:i.b=u,i.f=u}function M1(i,u,l,h){var p=lp(null,null,null);return p.a=new ae(function(m,w){p.g=u?function(b){try{var D=u.call(h,b);m(D)}catch(U){w(U)}}:m,p.b=l?function(b){try{var D=l.call(h,b);D===void 0&&b instanceof cs?w(b):m(D)}catch(U){w(U)}}:w}),p.a.c=i,cp(i,p),p.a}e.$c=function(i){this.a=to,no(this,Qu,i)},e.ad=function(i){this.a=to,no(this,Rr,i)};function no(i,u,l){i.a==to&&(i===l&&(u=Rr,l=new TypeError("Promise cannot resolve to itself")),i.a=1,F1(l,i.$c,i.ad,i)||(i.i=l,i.a=u,i.c=null,U1(i),u!=Rr||l instanceof cs||Wx(i,l)))}function F1(i,u,l,h){if(i instanceof ae)return cp(i,lp(u||g,l||null,h)),!0;if(ss(i))return i.then(u,l,h),!0;if(C(i))try{var p=i.then;if(T(p))return Gx(i,p,u,l,h),!0}catch(m){return l.call(h,m),!0}return!1}function Gx(i,u,l,h,p){function m(D){b||(b=!0,h.call(p,D))}function w(D){b||(b=!0,l.call(p,D))}var b=!1;try{u.call(i,w,m)}catch(D){m(D)}}function U1(i){i.h||(i.h=!0,vc(i.gc,i))}function j1(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=j1(this);)V1(this,i,this.a,this.i);this.h=!1};function V1(i,u,l,h){if(l==Rr&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,$1(u,l,h);else try{u.c?u.g.call(u.f):$1(u,l,h)}catch(p){B1.call(null,p)}Ke(P1,u)}function $1(i,u,l){u==Qu?i.g.call(i.f,l):i.b&&i.b.call(i.f,l)}function Wx(i,u){i.g=!0,vc(function(){i.g&&B1.call(null,u)})}var B1=C1;function cs(i){q.call(this,i)}P(cs,q),cs.prototype.name="cancel";function gc(){this.xa=this.xa,this.pa=this.pa}var Qx=0;gc.prototype.xa=!1;function q1(i){!i.xa&&(i.xa=!0,i.Da(),Qx!=0)&&I(i)}gc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xx=Object.freeze||function(i){return i},z1=!zn||9<=Number(ei),Yx=zn&&!T1("9"),Jx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",g,u),f.removeEventListener("test",g,u)}catch{}return i}();function Qt(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0};function ro(i,u){if(Qt.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var l=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(S1){e:{try{np(u.nodeName);var p=!0;break e}catch{}p=!1}p||(u=null)}}else l=="mouseover"?u=i.fromElement:l=="mouseout"&&(u=i.toElement);this.relatedTarget=u,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:Zx[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}P(ro,Qt);var Zx=Xx({2:"touch",3:"pen",4:"mouse"});ro.prototype.preventDefault=function(){ro.ab.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,Yx)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},ro.prototype.g=function(){return this.a};var Xu="closure_listenable_"+(1e6*Math.random()|0),eP=0;function tP(i,u,l,h,p){this.listener=i,this.proxy=null,this.src=u,this.type=l,this.capture=!!h,this.Va=p,this.key=++eP,this.va=this.Pa=!1}function yc(i){i.va=!0,i.listener=null,i.proxy=null,i.src=null,i.Va=null}function wc(i){this.src=i,this.a={},this.b=0}wc.prototype.add=function(i,u,l,h,p){var m=i.toString();i=this.a[m],i||(i=this.a[m]=[],this.b++);var w=hp(i,u,h,p);return-1<w?(u=i[w],l||(u.Pa=!1)):(u=new tP(u,this.src,m,!!h,p),u.Pa=l,i.push(u)),u};function fp(i,u){var l=u.type;l in i.a&&lc(i.a[l],u)&&(yc(u),i.a[l].length==0&&(delete i.a[l],i.b--))}function hp(i,u,l,h){for(var p=0;p<i.length;++p){var m=i[p];if(!m.va&&m.listener==u&&m.capture==!!l&&m.Va==h)return p}return-1}var dp="closure_lm_"+(1e6*Math.random()|0),pp={};function Nn(i,u,l,h,p){if(h&&h.once)vp(i,u,l,h,p);else if(Array.isArray(u))for(var m=0;m<u.length;m++)Nn(i,u[m],l,h,p);else l=gp(l),i&&i[Xu]?X1(i,u,l,C(h)?!!h.capture:!!h,p):H1(i,u,l,!1,h,p)}function H1(i,u,l,h,p,m){if(!u)throw Error("Invalid event type");var w=C(p)?!!p.capture:!!p,b=_c(i);if(b||(i[dp]=b=new wc(i)),l=b.add(u,l,h,w,m),!l.proxy)if(h=nP(),l.proxy=h,h.src=i,h.listener=l,i.addEventListener)Jx||(p=w),p===void 0&&(p=!1),i.addEventListener(u.toString(),h,p);else if(i.attachEvent)i.attachEvent(G1(u.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function nP(){var i=rP,u=z1?function(l){return i.call(u.src,u.listener,l)}:function(l){if(l=i.call(u.src,u.listener,l),!l)return l};return u}function vp(i,u,l,h,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)vp(i,u[m],l,h,p);else l=gp(l),i&&i[Xu]?yp(i,u,l,C(h)?!!h.capture:!!h,p):H1(i,u,l,!0,h,p)}function ln(i,u,l,h,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)ln(i,u[m],l,h,p);else h=C(h)?!!h.capture:!!h,l=gp(l),i&&i[Xu]?(i=i.v,u=String(u).toString(),u in i.a&&(m=i.a[u],l=hp(m,l,h,p),-1<l&&(yc(m[l]),Array.prototype.splice.call(m,l,1),m.length==0&&(delete i.a[u],i.b--)))):i&&(i=_c(i))&&(u=i.a[u.toString()],i=-1,u&&(i=hp(u,l,h,p)),(l=-1<i?u[i]:null)&&K1(l))}function K1(i){if(typeof i!="number"&&i&&!i.va){var u=i.src;if(u&&u[Xu])fp(u.v,i);else{var l=i.type,h=i.proxy;u.removeEventListener?u.removeEventListener(l,h,i.capture):u.detachEvent?u.detachEvent(G1(l),h):u.addListener&&u.removeListener&&u.removeListener(h),(l=_c(u))?(fp(l,i),l.b==0&&(l.src=null,u[dp]=null)):yc(i)}}}function G1(i){return i in pp?pp[i]:pp[i]="on"+i}function W1(i,u,l,h){var p=!0;if((i=_c(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var m=u[i];m&&m.capture==l&&!m.va&&(m=Q1(m,h),p=p&&m!==!1)}return p}function Q1(i,u){var l=i.listener,h=i.Va||i.src;return i.Pa&&K1(i),l.call(h,u)}function rP(i,u){if(i.va)return!0;if(!z1){if(!u)e:{u=["window","event"];for(var l=f,h=0;h<u.length;h++)if(l=l[u[h]],l==null){u=null;break e}u=l}if(h=u,u=new ro(h,this),l=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=u.b;p;p=p.parentNode)h.push(p);for(i=i.type,p=h.length-1;0<=p;p--){u.b=h[p];var m=W1(h[p],i,!0,u);l=l&&m}for(p=0;p<h.length;p++)u.b=h[p],m=W1(h[p],i,!1,u),l=l&&m}return l}return Q1(i,new ro(u,this))}function _c(i){return i=i[dp],i instanceof wc?i:null}var mp="__closure_events_fn_"+(1e9*Math.random()>>>0);function gp(i){return T(i)?i:(i[mp]||(i[mp]=function(u){return i.handleEvent(u)}),i[mp])}function Dt(){gc.call(this),this.v=new wc(this),this.ac=this,this.gb=null}P(Dt,gc),Dt.prototype[Xu]=!0,Dt.prototype.addEventListener=function(i,u,l,h){Nn(this,i,u,l,h)},Dt.prototype.removeEventListener=function(i,u,l,h){ln(this,i,u,l,h)},Dt.prototype.dispatchEvent=function(i){var u,l=this.gb;if(l)for(u=[];l;l=l.gb)u.push(l);l=this.ac;var h=i.type||i;if(typeof i=="string")i=new Qt(i,l);else if(i instanceof Qt)i.target=i.target||l;else{var p=i;i=new Qt(h,l),Gt(i,p)}if(p=!0,u)for(var m=u.length-1;0<=m;m--){var w=i.b=u[m];p=Ec(w,h,!0,i)&&p}if(w=i.b=l,p=Ec(w,h,!0,i)&&p,p=Ec(w,h,!1,i)&&p,u)for(m=0;m<u.length;m++)w=i.b=u[m],p=Ec(w,h,!1,i)&&p;return p},Dt.prototype.Da=function(){if(Dt.ab.Da.call(this),this.v){var i=this.v,u;for(u in i.a){for(var l=i.a[u],h=0;h<l.length;h++)yc(l[h]);delete i.a[u],i.b--}}this.gb=null};function X1(i,u,l,h,p){i.v.add(String(u),l,!1,h,p)}function yp(i,u,l,h,p){i.v.add(String(u),l,!0,h,p)}function Ec(i,u,l,h){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var p=!0,m=0;m<u.length;++m){var w=u[m];if(w&&!w.va&&w.capture==l){var b=w.listener,D=w.Va||w.src;w.Pa&&fp(i.v,w),p=b.call(D,h)!==!1&&p}}return p&&!h.defaultPrevented}function wp(i,u,l){if(T(i))l&&(i=R(i,l));else if(i&&typeof i.handleEvent=="function")i=R(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function fs(i){var u=null;return new ae(function(l,h){u=wp(function(){l(void 0)},i),u==-1&&h(Error("Failed to schedule timer."))}).o(function(l){throw f.clearTimeout(u),l})}function Y1(i){if(i.W&&typeof i.W=="function")return i.W();if(typeof i=="string")return i.split("");if(S(i)){for(var u=[],l=i.length,h=0;h<l;h++)u.push(i[h]);return u}u=[],l=0;for(h in i)u[l++]=i[h];return u}function J1(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.W||typeof i.W!="function"){if(S(i)||typeof i=="string"){var u=[];i=i.length;for(var l=0;l<i;l++)u.push(l);return u}u=[],l=0;for(var h in i)u[l++]=h;return u}}function iP(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(S(i)||typeof i=="string")Fe(i,u,void 0);else for(var l=J1(i),h=Y1(i),p=h.length,m=0;m<p;m++)u.call(void 0,h[m],l&&l[m],i)}function hs(i,u){this.b={},this.a=[],this.c=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var h=0;h<l;h+=2)this.set(arguments[h],arguments[h+1])}else if(i)if(i instanceof hs)for(l=i.Y(),h=0;h<l.length;h++)this.set(l[h],i.get(l[h]));else for(h in i)this.set(h,i[h])}e=hs.prototype,e.W=function(){_p(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return _p(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function _p(i){if(i.c!=i.a.length){for(var u=0,l=0;u<i.a.length;){var h=i.a[u];io(i.b,h)&&(i.a[l++]=h),u++}i.a.length=l}if(i.c!=i.a.length){var p={};for(l=u=0;u<i.a.length;)h=i.a[u],io(p,h)||(i.a[l++]=h,p[h]=1),u++;i.a.length=l}}e.get=function(i,u){return io(this.b,i)?this.b[i]:u},e.set=function(i,u){io(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var l=this.Y(),h=0;h<l.length;h++){var p=l[h],m=this.get(p);i.call(u,m,p,this)}};function io(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var Z1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oP(i,u){if(i){i=i.split("&");for(var l=0;l<i.length;l++){var h=i[l].indexOf("="),p=null;if(0<=h){var m=i[l].substring(0,h);p=i[l].substring(h+1)}else m=i[l];u(m,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ti(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var l;i instanceof ti?(this.i=u!==void 0?u:i.i,Yu(this,i.c),this.l=i.l,this.a=i.a,Ju(this,i.g),this.f=i.f,Ep(this,r_(i.b)),this.h=i.h):i&&(l=String(i).match(Z1))?(this.i=!!u,Yu(this,l[1]||"",!0),this.l=Zu(l[2]||""),this.a=Zu(l[3]||"",!0),Ju(this,l[4]),this.f=Zu(l[5]||"",!0),Ep(this,l[6]||"",!0),this.h=Zu(l[7]||"")):(this.i=!!u,this.b=new oo(null,this.i))}ti.prototype.toString=function(){var i=[],u=this.c;u&&i.push(ea(u,e_,!0),":");var l=this.a;return(l||u=="file")&&(i.push("//"),(u=this.l)&&i.push(ea(u,e_,!0),"@"),i.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.g,l!=null&&i.push(":",String(l))),(l=this.f)&&(this.a&&l.charAt(0)!="/"&&i.push("/"),i.push(ea(l,l.charAt(0)=="/"?aP:uP,!0))),(l=this.b.toString())&&i.push("?",l),(l=this.h)&&i.push("#",ea(l,cP)),i.join("")},ti.prototype.resolve=function(i){var u=new ti(this),l=!!i.c;l?Yu(u,i.c):l=!!i.l,l?u.l=i.l:l=!!i.a,l?u.a=i.a:l=i.g!=null;var h=i.f;if(l)Ju(u,i.g);else if(l=!!i.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=u.f.lastIndexOf("/");p!=-1&&(h=u.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(be(p,"./")||be(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var m=[],w=0;w<p.length;){var b=p[w++];b=="."?h&&w==p.length&&m.push(""):b==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),h&&w==p.length&&m.push("")):(m.push(b),h=!0)}h=m.join("/")}else h=p}return l?u.f=h:l=i.b.toString()!=="",l?Ep(u,r_(i.b)):l=!!i.h,l&&(u.h=i.h),u};function Yu(i,u,l){i.c=l?Zu(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Ju(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function Ep(i,u,l){u instanceof oo?(i.b=u,fP(i.b,i.i)):(l||(u=ea(u,lP)),i.b=new oo(u,i.i))}function Ge(i,u,l){i.b.set(u,l)}function Cn(i,u){return i.b.get(u)}function Xt(i){return i instanceof ti?new ti(i):new ti(i,void 0)}function Sc(i,u,l,h){var p=new ti(null,void 0);return i&&Yu(p,i),u&&(p.a=u),l&&Ju(p,l),h&&(p.f=h),p}function Zu(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ea(i,u,l){return typeof i=="string"?(i=encodeURI(i).replace(u,sP),l&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function sP(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var e_=/[#\/\?@]/g,uP=/[#\?:]/g,aP=/[#\?]/g,lP=/[#\?@]/g,cP=/#/g;function oo(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function ni(i){i.a||(i.a=new hs,i.b=0,i.c&&oP(i.c,function(u,l){i.add(decodeURIComponent(u.replace(/\+/g," ")),l)}))}function t_(i){var u=J1(i);if(typeof u>"u")throw Error("Keys are undefined");var l=new oo(null,void 0);i=Y1(i);for(var h=0;h<u.length;h++){var p=u[h],m=i[h];Array.isArray(m)?n_(l,p,m):l.add(p,m)}return l}e=oo.prototype,e.add=function(i,u){ni(this),this.c=null,i=ds(this,i);var l=this.a.get(i);return l||this.a.set(i,l=[]),l.push(u),this.b+=1,this};function lr(i,u){ni(i),u=ds(i,u),io(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,io(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&_p(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Sp(i,u){return ni(i),u=ds(i,u),io(i.a.b,u)}e.forEach=function(i,u){ni(this),this.a.forEach(function(l,h){Fe(l,function(p){i.call(u,p,h,this)},this)},this)},e.Y=function(){ni(this);for(var i=this.a.W(),u=this.a.Y(),l=[],h=0;h<u.length;h++)for(var p=i[h],m=0;m<p.length;m++)l.push(u[h]);return l},e.W=function(i){ni(this);var u=[];if(typeof i=="string")Sp(this,i)&&(u=Yd(u,this.a.get(ds(this,i))));else{i=this.a.W();for(var l=0;l<i.length;l++)u=Yd(u,i[l])}return u},e.set=function(i,u){return ni(this),this.c=null,i=ds(this,i),Sp(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.W(i),0<i.length?String(i[0]):u):u};function n_(i,u,l){lr(i,u),0<l.length&&(i.c=null,i.a.set(ds(i,u),Zi(l)),i.b+=l.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),l=0;l<u.length;l++){var h=u[l],p=encodeURIComponent(String(h));h=this.W(h);for(var m=0;m<h.length;m++){var w=p;h[m]!==""&&(w+="="+encodeURIComponent(String(h[m]))),i.push(w)}}return this.c=i.join("&")};function r_(i){var u=new oo;return u.c=i.c,i.a&&(u.a=new hs(i.a),u.b=i.b),u}function ds(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function fP(i,u){u&&!i.f&&(ni(i),i.c=null,i.a.forEach(function(l,h){var p=h.toLowerCase();h!=p&&(lr(this,h),n_(this,p,l))},i)),i.f=u}function i_(i){var u=[];return Ip(new hP,i,u),u.join("")}function hP(){}function Ip(i,u,l){if(u==null)l.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var h=u;u=h.length,l.push("[");for(var p="",m=0;m<u;m++)l.push(p),Ip(i,h[m],l),p=",";l.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{l.push("{"),p="";for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&(m=u[h],typeof m!="function"&&(l.push(p),s_(h,l),l.push(":"),Ip(i,m,l),p=","));l.push("}");return}}switch(typeof u){case"string":s_(u,l);break;case"number":l.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":l.push(String(u));break;case"function":l.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var o_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},dP=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function s_(i,u){u.push('"',i.replace(dP,function(l){var h=o_[l];return h||(h="\\u"+(l.charCodeAt(0)|65536).toString(16).substr(1),o_[l]=h),h}),'"')}function Tp(){var i=vt();return zn&&!!ei&&ei==11||/Edge\/\d+/.test(i)}function ta(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function u_(i,u){u=u||f.window;var l="about:blank";i&&(l=hc(v1(i)||g1)),u.location.href=l}function a_(i,u){var l=[],h;for(h in i)h in u?typeof i[h]!=typeof u[h]?l.push(h):typeof i[h]=="object"&&i[h]!=null&&u[h]!=null?0<a_(i[h],u[h]).length&&l.push(h):i[h]!==u[h]&&l.push(h):l.push(h);for(h in u)h in i||l.push(h);return l}function pP(){var i=vt();return i=ps(i)!=h_?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!zn||!ei||9<ei}function l_(i){return i=(i||vt()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function so(i){i=i||f.window;try{i.close()}catch{}}function c_(i,u,l){var h=Math.floor(1e9*Math.random()).toString();u=u||500,l=l||600;var p=(window.screen.availHeight-l)/2,m=(window.screen.availWidth-u)/2;u={width:u,height:l,top:0<p?p:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},l=vt().toLowerCase(),h&&(u.target=h,be(l,"crios/")&&(u.target="_blank")),ps(vt())==Np&&(i=i||"http://localhost",u.scrollbars=!0),l=i||"",(i=u)||(i={}),h=window,u=l instanceof Wt?l:v1(typeof l.href<"u"?l.href:String(l))||g1,l=i.target||l.target,p=[];for(w in i)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+i[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(i[w]?1:0))}var w=p.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&h.navigator&&h.navigator.standalone&&l&&l!="_self"?(w=pc(document,"A"),l1(w,"HTMLAnchorElement"),u=u instanceof Wt?u:m1(u),w.href=hc(u),w.setAttribute("target",l),i.noreferrer&&w.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(i),w={}):i.noreferrer?(w=w1("",h,l,w),i=hc(u),w&&(Ux&&be(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),w.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+tp(i)+'">',i=(h=f1())?h.createHTML(i):i,i=new ls(i,null,y1),h=w.document)&&(h.write(Ox(i)),h.close())):(w=w1(u,h,l,w))&&i.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function vP(i){return new ae(function(u){function l(){fs(2e3).then(function(){if(!i||i.closed)u();else return l()})}return l()})}var mP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gP=/^[^@]+@[^@]+$/;function Ic(){var i=null;return new ae(function(u){f.document.readyState=="complete"?u():(i=function(){u()},vp(window,"load",i))}).o(function(u){throw ln(window,"load",i),u})}function yP(){return bp(void 0)?Ic().then(function(){return new ae(function(i,u){var l=f.document,h=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);l.addEventListener("deviceready",function(){clearTimeout(h),i()},!1)})}):Pe(Error("Cordova must run in an Android or iOS file scheme."))}function bp(i){return i=i||vt(),!(ms()!=="file:"&&ms()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function kp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function Hn(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function cr(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Hn()?"Worker":"Browser"}function f_(){var i=cr();return i==="ReactNative"||i==="Node"}function wP(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var Np="Firefox",h_="Chrome";function ps(i){var u=i.toLowerCase();if(be(u,"opera/")||be(u,"opr/")||be(u,"opios/"))return"Opera";if(be(u,"iemobile"))return"IEMobile";if(be(u,"msie")||be(u,"trident/"))return"IE";if(be(u,"edge/"))return"Edge";if(be(u,"firefox/"))return Np;if(be(u,"silk/"))return"Silk";if(be(u,"blackberry"))return"Blackberry";if(be(u,"webos"))return"Webos";if(!be(u,"safari/")||be(u,"chrome/")||be(u,"crios/")||be(u,"android"))if(!be(u,"chrome/")&&!be(u,"crios/")||be(u,"edge/")){if(be(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return h_;else return"Safari";return"Other"}var d_={md:"FirebaseCore-web",od:"FirebaseUI-web"};function vs(i,u){u=u||[];var l=[],h={},p;for(p in d_)h[d_[p]]=!0;for(p=0;p<u.length;p++)typeof h[u[p]]<"u"&&(delete h[u[p]],l.push(u[p]));return l.sort(),u=l,u.length||(u=["FirebaseCore-web"]),l=cr(),l==="Browser"?(h=vt(),l=ps(h)):l==="Worker"&&(h=vt(),l=ps(h)+"-"+l),l+"/JsCore/"+i+"/"+u.join(",")}function vt(){return f.navigator&&f.navigator.userAgent||""}function De(i,u){i=i.split("."),u=u||f;for(var l=0;l<i.length&&typeof u=="object"&&u!=null;l++)u=u[i[l]];return l!=i.length&&(u=void 0),u}function Cp(){try{var i=f.localStorage,u=ao();if(i)return i.setItem(u,"1"),i.removeItem(u),Tp()?!!f.indexedDB:!0}catch{return Hn()&&!!f.indexedDB}return!1}function uo(){return(Tc()||ms()==="chrome-extension:"||bp())&&!f_()&&Cp()&&!Hn()}function Tc(){return ms()==="http:"||ms()==="https:"}function ms(){return f.location&&f.location.protocol||null}function na(i){return i=i||vt(),!(l_(i)||ps(i)==Np)}function ra(i){return typeof i>"u"?null:i_(i)}function p_(i){var u={},l;for(l in i)i.hasOwnProperty(l)&&i[l]!==null&&i[l]!==void 0&&(u[l]=i[l]);return u}function gs(i){if(i!==null)return JSON.parse(i)}function ao(i){return i||Math.floor(1e9*Math.random()).toString()}function v_(i){return i=i||vt(),!(ps(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function m_(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var l=0;l<i.CP.length;l++)i.CP[l]=null}}function ri(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=vt(),u=cr(),this.b=l_(i)||u==="ReactNative"}ri.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(Tc()||ms()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ap(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function _P(){var i=f.document,u=null;return Ap()||!i?J():new ae(function(l){u=function(){Ap()&&(i.removeEventListener("visibilitychange",u,!1),l())},i.addEventListener("visibilitychange",u,!1)}).o(function(l){throw i.removeEventListener("visibilitychange",u,!1),l})}function ia(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch{}return null}function g_(){return!(!De("fireauth.oauthhelper",f)&&!De("fireauth.iframe",f))}function EP(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function SP(){var i=f.navigator;return i&&i.serviceWorker?J().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):J(null)}var y_={};function Rp(i){y_[i]||(y_[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var xp;try{var Pp={};Object.defineProperty(Pp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Pp,"abcd",{configurable:!0,enumerable:!0,value:2}),xp=Pp.abcd==2}catch{xp=!1}function G(i,u,l){xp?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:l}):i[u]=l}function Ot(i,u){if(u)for(var l in u)u.hasOwnProperty(l)&&G(i,l,u[l])}function fr(i){var u={};return Ot(u,i),u}function IP(i){var u={},l;for(l in i)i.hasOwnProperty(l)&&(u[l]=i[l]);return u}function TP(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var l=0;l<u.length;l++){var h=i[u[l]];if(h==null||h==="")return!1}return!0}function Dp(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var l in i)G(u,l,Dp(i[l]))}return u}function Op(i){var u=i&&(i[Up]?"phone":null);if(u&&i&&i[Fp]){G(this,"uid",i[Fp]),G(this,"displayName",i[w_]||null);var l=null;i[Mp]&&(l=new Date(i[Mp]).toUTCString()),G(this,"enrollmentTime",l),G(this,"factorId",u)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}Op.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Lp(i){try{var u=new oa(i)}catch{u=null}return u}var w_="displayName",Mp="enrolledAt",Fp="mfaEnrollmentId",Up="phoneInfo";function oa(i){Op.call(this,i),G(this,"phoneNumber",i[Up])}P(oa,Op),oa.prototype.w=function(){var i=oa.ab.w.call(this);return i.phoneNumber=this.phoneNumber,i};function bP(i){var u={},l=i[kP],h=i[CP],p=i[AP];if(i=Lp(i[NP]),!p||p!=bc&&p!=sa&&!l||p==sa&&!h||p==jp&&!i)throw Error("Invalid checkActionCode response!");p==sa?(u[E_]=l||null,u[S_]=l||null,u[__]=h):(u[E_]=h||null,u[S_]=h||null,u[__]=l||null),u[RP]=i||null,G(this,PP,p),G(this,xP,Dp(u))}var jp="REVERT_SECOND_FACTOR_ADDITION",bc="EMAIL_SIGNIN",sa="VERIFY_AND_CHANGE_EMAIL",kP="email",NP="mfaInfo",CP="newEmail",AP="requestType",__="email",E_="fromEmail",RP="multiFactorInfo",S_="previousEmail",xP="data",PP="operation";function Vp(i){i=Xt(i);var u=Cn(i,I_)||null,l=Cn(i,T_)||null,h=Cn(i,b_)||null;if(h=h&&MP[h]||null,!u||!l||!h)throw new N("argument-error",I_+", "+T_+"and "+b_+" are required in a valid action code URL.");Ot(this,{apiKey:u,operation:h,code:l,continueUrl:Cn(i,DP)||null,languageCode:Cn(i,OP)||null,tenantId:Cn(i,LP)||null})}var I_="apiKey",T_="oobCode",DP="continueUrl",OP="languageCode",b_="mode",LP="tenantId",MP={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:jp,signIn:bc,verifyAndChangeEmail:sa,verifyEmail:"VERIFY_EMAIL"};function k_(i){try{return new Vp(i)}catch{return null}}function kc(i){var u=i[FP];if(typeof u>"u")throw new N("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new N("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var l=i[N_];if(l&&typeof l=="object"){u=l[P_];var h=l[R_];if(l=l[x_],typeof u=="string"&&u.length){if(this.a=u,typeof h<"u"&&typeof h!="boolean")throw new N("argument-error",R_+" property must be a boolean when specified.");if(this.g=!!h,typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new N("argument-error",x_+" property must be a non empty string when specified.");this.b=l||null}else{if(typeof u<"u")throw new N("argument-error",P_+" property must be a non empty string when specified.");if(typeof h<"u"||typeof l<"u")throw new N("missing-android-pkg-name")}}else if(typeof l<"u")throw new N("argument-error",N_+" property must be a non null object when specified.");if(this.f=null,(u=i[A_])&&typeof u=="object"){if(u=u[D_],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new N("argument-error",D_+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new N("argument-error",A_+" property must be a non null object when specified.");if(u=i[$p],typeof u<"u"&&typeof u!="boolean")throw new N("argument-error",$p+" property must be a boolean when specified.");if(this.c=!!u,i=i[C_],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new N("argument-error",C_+" property must be a non empty string when specified.");this.i=i||null}var N_="android",C_="dynamicLinkDomain",$p="handleCodeInApp",A_="iOS",FP="url",R_="installApp",x_="minimumVersion",P_="packageName",D_="bundleId";function Nc(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var l in u)u[l]===null&&delete u[l];return u}function UP(i){return ac(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ua=null;function jP(i){var u=[];return VP(i,function(l){u.push(l)}),u}function VP(i,u){function l(D){for(;h<i.length;){var U=i.charAt(h++),ne=ua[U];if(ne!=null)return ne;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return D}$P();for(var h=0;;){var p=l(-1),m=l(0),w=l(64),b=l(64);if(b===64&&p===-1)break;u(p<<2|m>>4),w!=64&&(u(m<<4&240|w>>2),b!=64&&u(w<<6&192|b))}}function $P(){if(!ua){ua={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],l=0;5>l;l++)for(var h=i.concat(u[l].split("")),p=0;p<h.length;p++){var m=h[p];ua[m]===void 0&&(ua[m]=p)}}}function Cc(i){var u=O_(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Cc.prototype.T=function(){return this.f},Cc.prototype.l=function(){return this.c},Cc.prototype.toString=function(){return this.h};function Ac(i){try{return new Cc(i)}catch{return null}}function O_(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,l=0;l<u;l++)i+=".";try{var h=jP(i);for(i=[],l=u=0;u<h.length;){var p=h[u++];if(128>p)i[l++]=String.fromCharCode(p);else if(191<p&&224>p){var m=h[u++];i[l++]=String.fromCharCode((p&31)<<6|m&63)}else if(239<p&&365>p){m=h[u++];var w=h[u++],b=h[u++],D=((p&7)<<18|(m&63)<<12|(w&63)<<6|b&63)-65536;i[l++]=String.fromCharCode(55296+(D>>10)),i[l++]=String.fromCharCode(56320+(D&1023))}else m=h[u++],w=h[u++],i[l++]=String.fromCharCode((p&15)<<12|(m&63)<<6|w&63)}return JSON.parse(i.join(""))}catch{}return null}var L_="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Rc=["client_id","response_type","scope","redirect_uri","state"],Bp={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Rc},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Rc},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Rc},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:L_},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function qp(i){for(var u in Bp)if(Bp[u].fa==i)return Bp[u];return null}function M_(i){var u={};u["facebook.com"]=U_,u["google.com"]=V_,u["github.com"]=j_,u["twitter.com"]=$_;var l=i&&i[F_];try{if(l)return u[l]?new u[l](i):new hr(i);if(typeof i[zp]<"u")return new Hp(i)}catch{}return null}var zp="idToken",F_="providerId";function Hp(i){var u=i[F_];if(!u&&i[zp]){var l=Ac(i[zp]);l&&l.b&&(u=l.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),l=!1,typeof i.isNewUser<"u"?l=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(l=!0),G(this,"providerId",u),G(this,"isNewUser",l)}function hr(i){Hp.call(this,i),i=gs(i.rawUserInfo||"{}"),G(this,"profile",Dp(i||{}))}P(hr,Hp);function U_(i){if(hr.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(U_,hr);function j_(i){if(hr.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");G(this,"username",this.profile&&this.profile.login||null)}P(j_,hr);function V_(i){if(hr.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}P(V_,hr);function $_(i){if(hr.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");G(this,"username",i.screenName||null)}P($_,hr);function B_(i){var u=Xt(i),l=Cn(u,"link"),h=Cn(Xt(l),"link");return u=Cn(u,"deep_link_id"),Cn(Xt(u),"link")||u||h||l||i}function xc(i,u){if(!i&&!u)throw new N("internal-error","Internal assert: no raw session string available");if(i&&u)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?aa:Pc}var aa="enroll",Pc="signin";xc.prototype.Ha=function(){return this.a?J(this.a):J(this.b)},xc.prototype.w=function(){return this.type==aa?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ys(){}ys.prototype.ka=function(){},ys.prototype.b=function(){},ys.prototype.c=function(){},ys.prototype.w=function(){};function ws(i,u){return i.then(function(l){if(l[Wn]){var h=Ac(l[Wn]);if(!h||u!=h.i)throw new N("user-mismatch");return l}throw new N("user-mismatch")}).o(function(l){throw l&&l.code&&l.code==ct+"user-not-found"?new N("user-mismatch"):l})}function lo(i,u){if(u)this.a=u;else throw new N("internal-error","failed to construct a credential");G(this,"providerId",i),G(this,"signInMethod",i)}lo.prototype.ka=function(i){return vv(i,Kp(this))},lo.prototype.b=function(i,u){var l=Kp(this);return l.idToken=u,mv(i,l)},lo.prototype.c=function(i,u){return ws(gv(i,Kp(this)),u)};function Kp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function BP(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new lo(i.providerId,i.pendingToken)}catch{}return null}function xr(i,u,l){if(this.a=null,u.idToken||u.accessToken)u.idToken&&G(this,"idToken",u.idToken),u.accessToken&&G(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&G(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)G(this,"accessToken",u.oauthToken),G(this,"secret",u.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");G(this,"providerId",i),G(this,"signInMethod",l)}xr.prototype.ka=function(i){return vv(i,Gp(this))},xr.prototype.b=function(i,u){var l=Gp(this);return l.idToken=u,mv(i,l)},xr.prototype.c=function(i,u){var l=Gp(this);return ws(gv(i,l),u)};function Gp(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:t_(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}xr.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function qP(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new xr(i.providerId,u,i.signInMethod)}catch{}}return null}function co(i,u){this.Qc=u||[],Ot(this,{providerId:i,isOAuthProvider:!0}),this.Ib={},this.pb=(qp(i)||{}).Ja||null,this.ob=null}co.prototype.Ka=function(i){return this.Ib=Zr(i),this};function q_(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,i,[])}P(q_,co);function cn(i){co.call(this,i,Rc),this.a=[]}P(cn,co),cn.prototype.Ca=function(i){return Ar(this.a,i)||this.a.push(i),this},cn.prototype.Qb=function(){return Zi(this.a)},cn.prototype.credential=function(i,u){var l;if(C(i)?l={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:l={idToken:i||null,accessToken:u||null},!l.idToken&&!l.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new xr(this.providerId,l,this.providerId)};function fo(){cn.call(this,"facebook.com")}P(fo,cn),G(fo,"PROVIDER_ID","facebook.com"),G(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function z_(i){if(!i)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return C(i)&&(u=i.accessToken),new fo().credential({accessToken:u})}function ho(){cn.call(this,"github.com")}P(ho,cn),G(ho,"PROVIDER_ID","github.com"),G(ho,"GITHUB_SIGN_IN_METHOD","github.com");function H_(i){if(!i)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return C(i)&&(u=i.accessToken),new ho().credential({accessToken:u})}function po(){cn.call(this,"google.com"),this.Ca("profile")}P(po,cn),G(po,"PROVIDER_ID","google.com"),G(po,"GOOGLE_SIGN_IN_METHOD","google.com");function K_(i,u){var l=i;return C(i)&&(l=i.idToken,u=i.accessToken),new po().credential({idToken:l,accessToken:u})}function _s(){co.call(this,"twitter.com",L_)}P(_s,co),G(_s,"PROVIDER_ID","twitter.com"),G(_s,"TWITTER_SIGN_IN_METHOD","twitter.com");function G_(i,u){var l=i;if(C(l)||(l={oauthToken:i,oauthTokenSecret:u}),!l.oauthToken||!l.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new xr("twitter.com",l,"twitter.com")}function ii(i,u,l){this.a=i,this.f=u,G(this,"providerId","password"),G(this,"signInMethod",l===An.EMAIL_LINK_SIGN_IN_METHOD?An.EMAIL_LINK_SIGN_IN_METHOD:An.EMAIL_PASSWORD_SIGN_IN_METHOD)}ii.prototype.ka=function(i){return this.signInMethod==An.EMAIL_LINK_SIGN_IN_METHOD?le(i,ND,{email:this.a,oobCode:this.f}):le(i,EE,{email:this.a,password:this.f})},ii.prototype.b=function(i,u){return this.signInMethod==An.EMAIL_LINK_SIGN_IN_METHOD?le(i,CD,{idToken:u,email:this.a,oobCode:this.f}):le(i,_E,{idToken:u,email:this.a,password:this.f})},ii.prototype.c=function(i,u){return ws(this.ka(i),u)},ii.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function zP(i){return i&&i.email&&i.password?new ii(i.email,i.password,i.signInMethod):null}function An(){Ot(this,{providerId:"password",isOAuthProvider:!1})}function W_(i,u){if(u=Wp(u),!u)throw new N("argument-error","Invalid email link!");return new ii(i,u.code,An.EMAIL_LINK_SIGN_IN_METHOD)}function Wp(i){return i=B_(i),(i=k_(i))&&i.operation===bc?i:null}Ot(An,{PROVIDER_ID:"password"}),Ot(An,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ot(An,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function oi(i){if(!(i.eb&&i.cb||i.La&&i.ea))throw new N("internal-error");this.a=i,G(this,"providerId","phone"),this.fa="phone",G(this,"signInMethod","phone")}oi.prototype.ka=function(i){return i.fb(la(this))},oi.prototype.b=function(i,u){var l=la(this);return l.idToken=u,le(i,WD,l)},oi.prototype.c=function(i,u){var l=la(this);return l.operation="REAUTH",i=le(i,QD,l),ws(i,u)},oi.prototype.w=function(){var i={providerId:"phone"};return this.a.eb&&(i.verificationId=this.a.eb),this.a.cb&&(i.verificationCode=this.a.cb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function HP(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return Fe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(l){i[l]&&(u[l]=i[l])}),new oi(u)}return null}function la(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.eb,code:i.a.cb}}function Pr(i){try{this.a=i||ee.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ot(this,{providerId:"phone",isOAuthProvider:!1})}Pr.prototype.fb=function(i,u){var l=this.a.a;return J(u.verify()).then(function(h){if(typeof h!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var p=C(i)?i.session:null,m=C(i)?i.phoneNumber:i,w;return p&&p.type==aa?w=p.Ha().then(function(b){return yD(l,{idToken:b,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h}})}):p&&p.type==Pc?w=p.Ha().then(function(b){return wD(l,{mfaPendingCredential:b,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=gD(l,{phoneNumber:m,recaptchaToken:h}),w.then(function(b){return typeof u.reset=="function"&&u.reset(),b},function(b){throw typeof u.reset=="function"&&u.reset(),b});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Q_(i,u){if(!i)throw new N("missing-verification-id");if(!u)throw new N("missing-verification-code");return new oi({eb:i,cb:u})}Ot(Pr,{PROVIDER_ID:"phone"}),Ot(Pr,{PHONE_SIGN_IN_METHOD:"phone"});function Qp(i){if(i.temporaryProof&&i.phoneNumber)return new oi({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var l=i&&i.oauthAccessToken,h=i&&i.oauthTokenSecret,p=i&&i.nonce,m=i&&i.oauthIdToken,w=i&&i.pendingToken;try{switch(u){case"google.com":return K_(m,l);case"facebook.com":return z_(l);case"github.com":return H_(l);case"twitter.com":return G_(l,h);default:return l||h||m||w?w?u.indexOf("saml.")==0?new lo(u,w):new xr(u,{pendingToken:w,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new cn(u).credential({idToken:m,accessToken:l,rawNonce:p}):null}}catch{return null}}function Xp(i){if(!i.isOAuthProvider)throw new N("invalid-oauth-provider")}function Kn(i,u,l,h,p,m,w){if(this.c=i,this.b=u||null,this.g=l||null,this.f=h||null,this.i=m||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Kn.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Kn.prototype.T=function(){return this.h},Kn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function X_(i){return i=i||{},i.type?new Kn(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&_e(i.error),i.postBody,i.tenantId):null}function KP(){this.b=null,this.a=[]}var Yp=null;function GP(i){var u=Yp;u.a.push(i),u.b||(u.b=function(l){for(var h=0;h<u.a.length;h++)u.a[h](l)},i=De("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function Jp(i){var u="unauthorized-domain",l=void 0,h=Xt(i);i=h.a,h=h.c,h=="chrome-extension"?l=_1("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):h=="http"||h=="https"?l=_1("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",N.call(this,u,l)}P(Jp,N);function ca(i,u,l){N.call(this,i,l),i=u||{},i.Jb&&G(this,"email",i.Jb),i.ea&&G(this,"phoneNumber",i.ea),i.credential&&G(this,"credential",i.credential),i.Zb&&G(this,"tenantId",i.Zb)}P(ca,N),ca.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Gt(i,u),i},ca.prototype.toJSON=function(){return this.w()};function Dc(i){if(i.code){var u=i.code||"";u.indexOf(ct)==0&&(u=u.substring(ct.length));var l={credential:Qp(i),Zb:i.tenantId};if(i.email)l.Jb=i.email;else if(i.phoneNumber)l.ea=i.phoneNumber;else if(!l.credential)return new N(u,i.message||void 0);return new ca(u,l,i.message)}return null}function fa(){}fa.prototype.c=null;function Y_(i){return i.c||(i.c=i.b())}var Zp;function Oc(){}P(Oc,fa),Oc.prototype.a=function(){var i=J_(this);return i?new ActiveXObject(i):new XMLHttpRequest},Oc.prototype.b=function(){var i={};return J_(this)&&(i[0]=!0,i[1]=!0),i};function J_(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],l=0;l<u.length;l++){var h=u[l];try{return new ActiveXObject(h),i.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Zp=new Oc;function Lc(){}P(Lc,fa),Lc.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Z_;throw Error("Unsupported browser")},Lc.prototype.b=function(){return{}};function Z_(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Sb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}e=Z_.prototype,e.open=function(i,u,l){if(l!=null&&!l)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ev(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",ev(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,ev(this,1)};function ev(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function tv(i,u,l){this.reset(i,u,l,void 0,void 0)}tv.prototype.a=null,tv.prototype.reset=function(i,u,l,h,p){delete this.a};function nv(i){this.f=i,this.b=this.c=this.a=null}function ha(i,u){this.name=i,this.value=u}ha.prototype.toString=function(){return this.name};var eE=new ha("SEVERE",1e3),rv=new ha("WARNING",900),WP=new ha("CONFIG",700),QP=new ha("FINE",500);function tE(i){return i.c?i.c:i.a?tE(i.a):(ie("Root logger has no level set."),null)}nv.prototype.log=function(i,u,l){if(i.value>=tE(this).value)for(T(u)&&(u=u()),i=new tv(i,String(u),this.f),l&&(i.a=l),l=this;l;)l=l.a};var iv={},Mc=null;function ov(i){Mc||(Mc=new nv(""),iv[""]=Mc,Mc.c=WP);var u;if(!(u=iv[i])){u=new nv(i);var l=i.lastIndexOf("."),h=i.substr(l+1);l=ov(i.substr(0,l)),l.b||(l.b={}),l.b[h]=u,u.a=l,iv[i]=u}return u}function Rn(i,u){i&&i.log(QP,u,void 0)}function Fc(i){this.f=i}P(Fc,fa),Fc.prototype.a=function(){return new Uc(this.f)},Fc.prototype.b=function(i){return function(){return i}}({});function Uc(i){Dt.call(this),this.u=i,this.h=void 0,this.readyState=sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ov("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(Uc,Dt);var sv=0;e=Uc.prototype,e.open=function(i,u){if(this.readyState!=sv)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,pa(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,da(this)),this.readyState=sv},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,pa(this)),this.a&&(this.readyState=3,pa(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,nE(this)):i.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function nE(i){i.c.read().then(i.pc.bind(i)).catch(i.Ua.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?da(this):pa(this),this.readyState==3&&nE(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,da(this))},e.sc=function(i){this.a&&(this.response=i,da(this))},e.Ua=function(i){var u=this.i;u&&u.log(rv,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&da(this)};function da(i){i.readyState=4,i.g=null,i.c=null,i.m=null,pa(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(rv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(rv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),l=u.next();!l.done;)l=l.value,i.push(l[0]+": "+l[1]),l=u.next();return i.join(`\r
`)};function pa(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function va(i){Dt.call(this),this.headers=new hs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=rE,this.u=this.S=!1}P(va,Dt);var rE="";va.prototype.b=ov("goog.net.XhrIo");var XP=/^https?$/i,YP=["POST","PUT"];function JP(i,u,l,h,p){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);l=l?l.toUpperCase():"GET",i.l=u,i.h="",i.R=l,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Zp.a(),i.C=i.D?Y_(i.D):Y_(Zp),i.a.onreadystatechange=R(i.Vb,i);try{Rn(i.b,Dr(i,"Opening Xhr")),i.O=!0,i.a.open(l,String(u),!0),i.O=!1}catch(w){Rn(i.b,Dr(i,"Error opening Xhr: "+w.message)),iE(i,w);return}u=h||"";var m=new hs(i.headers);p&&iP(p,function(w,b){m.set(b,w)}),p=Ex(m.Y()),h=f.FormData&&u instanceof f.FormData,!Ar(YP,l)||p||h||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(w,b){this.a.setRequestHeader(b,w)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{uE(i),0<i.g&&(i.u=ZP(i.a),Rn(i.b,Dr(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=R(i.Ma,i)):i.s=wp(i.Ma,i.g,i)),Rn(i.b,Dr(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(w){Rn(i.b,Dr(i,"Send error: "+w.message)),iE(i,w)}}function ZP(i){return zn&&T1(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function eD(i){return i.toLowerCase()=="content-type"}e=va.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Rn(this.b,Dr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function iE(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,oE(i),jc(i)}function oE(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Rn(this.b,Dr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jc(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),jc(this,!0)),va.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?sE(this):this.Jc())},e.Jc=function(){sE(this)};function sE(i){if(i.c&&typeof c<"u"){if(i.C[1]&&ma(i)==4&&Vc(i)==2)Rn(i.b,Dr(i,"Local request error detected and ignored"));else if(i.i&&ma(i)==4)wp(i.Vb,0,i);else if(i.dispatchEvent("readystatechange"),ma(i)==4){Rn(i.b,Dr(i,"Request complete")),i.c=!1;try{var u=Vc(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=u===0){var m=String(i.l).match(Z1)[1]||null;if(!m&&f.self&&f.self.location){var w=f.self.location.protocol;m=w.substr(0,w.length-1)}p=!XP.test(m?m.toLowerCase():"")}h=p}if(h)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var b=2<ma(i)?i.a.statusText:""}catch(D){Rn(i.b,"Can not get status: "+D.message),b=""}i.h=b+" ["+Vc(i)+"]",oE(i)}}finally{jc(i)}}}}function jc(i,u){if(i.a){uE(i);var l=i.a,h=i.C[0]?g:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{l.onreadystatechange=h}catch(p){(i=i.b)&&i.log(eE,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function uE(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ma(i){return i.a?i.a.readyState:0}function Vc(i){try{return 2<ma(i)?i.a.status:-1}catch{return-1}}function tD(i){try{return i.a?i.a.responseText:""}catch(u){return Rn(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case rE:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(eE,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Rn(this.b,"Can not get response: "+u.message),null}};function Dr(i,u){return u+" ["+i.R+" "+i.l+" "+Vc(i)+"]"}function vo(i){var u=iD;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}vo.prototype.cancel=function(i){if(this.a)this.c instanceof vo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new ya,$c(this),ga(this,!1,i))}},vo.prototype.m=function(i,u){this.i=!1,ga(this,i,u)};function ga(i,u,l){i.a=!0,i.c=l,i.f=!u,lE(i)}function $c(i){if(i.a){if(!i.v)throw new Bc;i.v=!1}}function nD(i,u){uv(i,null,u,void 0)}function uv(i,u,l,h){i.g.push([u,l,h]),i.a&&lE(i)}vo.prototype.then=function(i,u,l){var h,p,m=new ae(function(w,b){h=w,p=b});return uv(this,h,function(w){w instanceof ya?m.cancel():p(w)}),m.then(i,u,l)},vo.prototype.$goog_Thenable=!0;function aE(i){return _x(i.g,function(u){return T(u[1])})}function lE(i){if(i.h&&i.a&&aE(i)){var u=i.h,l=qc[u];l&&(f.clearTimeout(l.a),delete qc[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var h=l=!1;i.g.length&&!i.i;){var p=i.g.shift(),m=p[0],w=p[1];if(p=p[2],m=i.f?w:m)try{var b=m.call(p||i.s,u);b!==void 0&&(i.f=i.f&&(b==u||b instanceof Error),i.c=u=b),(ss(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(h=!0,i.i=!0)}catch(D){u=D,i.f=!0,aE(i)||(l=!0)}}i.c=u,h&&(b=R(i.m,i,!0),h=R(i.m,i,!1),u instanceof vo?(uv(u,b,h),u.C=!0):u.then(b,h)),l&&(u=new cE(u),qc[u.a]=u,i.h=u.a)}function Bc(){q.call(this)}P(Bc,q),Bc.prototype.message="Deferred has already fired",Bc.prototype.name="AlreadyCalledError";function ya(){q.call(this)}P(ya,q),ya.prototype.message="Deferred was canceled",ya.prototype.name="CanceledError";function cE(i){this.a=f.setTimeout(R(this.c,this),0),this.b=i}cE.prototype.c=function(){throw delete qc[this.a],this.b};var qc={};function av(i){var u={},l=u.document||document,h=h1(i).toString(),p=pc(document,"SCRIPT"),m={Wb:p,Ma:void 0},w=new vo(m),b=null,D=u.timeout!=null?u.timeout:5e3;return 0<D&&(b=window.setTimeout(function(){zc(p,!0);var U=new lv(sD,"Timeout reached for loading script "+h);$c(w),ga(w,!1,U)},D),m.Ma=b),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(zc(p,u.xd||!1,b),$c(w),ga(w,!0,null))},p.onerror=function(){zc(p,!0,b);var U=new lv(oD,"Error while loading script "+h);$c(w),ga(w,!1,U)},m=u.attributes||{},Gt(m,{type:"text/javascript",charset:"UTF-8"}),k1(p,m),Lx(p,i),rD(l).appendChild(p),w}function rD(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function iD(){if(this&&this.Wb){var i=this.Wb;i&&i.tagName=="SCRIPT"&&zc(i,!0,this.Ma)}}function zc(i,u,l){l!=null&&f.clearTimeout(l),i.onload=g,i.onerror=g,i.onreadystatechange=g,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var oD=0,sD=1;function lv(i,u){var l="Jsloader error (code #"+i+")";u&&(l+=": "+u),q.call(this,l),this.code=i}P(lv,q);function Hc(i){this.f=i}P(Hc,fa),Hc.prototype.a=function(){return new this.f},Hc.prototype.b=function(){return{}};function Gn(i,u,l){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||uD,this.g=Zr(i.secureTokenHeaders||aD),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||lD,this.a=Zr(i.firebaseHeaders||cD),l&&(this.a["X-Client-Version"]=l,this.g["X-Client-Version"]=l),l=cr()=="Node",l=f.XMLHttpRequest||l&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!l&&!Hn())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Hn()?this.f=new Fc(self):f_()?this.f=new Hc(l):this.f=new Lc,this.b=null}var cv,Wn="idToken",uD=new ri(3e4,6e4),aD={"Content-Type":"application/x-www-form-urlencoded"},lD=new ri(3e4,6e4),cD={"Content-Type":"application/json"};function fE(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function Es(i,u){u&&(i.l=fv("https://securetoken.googleapis.com/v1/token",u),i.h=fv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=fv("https://identitytoolkit.googleapis.com/v2/",u))}function fv(i,u){return i=Xt(i),u=Xt(u.url),i.f=i.a+i.f,Yu(i,u.c),i.a=u.a,Ju(i,u.g),i.toString()}function hE(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Gn.prototype.T=function(){return this.b};function dE(i,u,l,h,p,m,w){pP()||Hn()?i=R(i.u,i):(cv||(cv=new ae(function(b,D){hD(b,D)})),i=R(i.s,i)),i(u,l,h,p,m,w)}Gn.prototype.u=function(i,u,l,h,p,m){if(Hn()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new va(this.f);if(m){w.g=Math.max(0,m);var b=setTimeout(function(){w.dispatchEvent("timeout")},m)}X1(w,"complete",function(){b&&clearTimeout(b);var D=null;try{D=JSON.parse(tD(this))||null}catch{D=null}u&&u(D)}),yp(w,"ready",function(){b&&clearTimeout(b),q1(this)}),yp(w,"timeout",function(){b&&clearTimeout(b),q1(this),u&&u(null)}),JP(w,i,l,h,p)};var fD=new ar(cc,"https://apis.google.com/js/client.js?onload=%{onload}"),pE="__fcb"+Math.floor(1e6*Math.random()).toString();function hD(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[pE]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var l=ep(fD,{onload:pE});nD(av(l),function(){u(Error("CORS_UNSUPPORTED"))})}}Gn.prototype.s=function(i,u,l,h,p){var m=this;cv.then(function(){window.gapi.client.setApiKey(m.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:l,body:h,headers:p,authType:"none",callback:function(b){window.gapi.auth.setToken(w),u&&u(b)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function dD(i,u){return new ae(function(l,h){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?dE(i,i.l+"?key="+encodeURIComponent(i.c),function(p){p?p.error?h(wv(p)):p.access_token&&p.refresh_token?l(p):h(new N("internal-error")):h(new N("network-request-failed"))},"POST",t_(u).toString(),i.g,i.m.get()):h(new N("internal-error"))})}function vE(i,u,l,h,p,m,w){var b=Xt(u+l);Ge(b,"key",i.c),w&&Ge(b,"cb",Date.now().toString());var D=h=="GET";if(D)for(var U in p)p.hasOwnProperty(U)&&Ge(b,U,p[U]);return new ae(function(ne,Ee){dE(i,b.toString(),function(me){me?me.error?Ee(wv(me,m||{})):ne(me):Ee(new N("network-request-failed"))},h,D?void 0:i_(p_(p)),i.a,i.v.get())})}function mo(i){if(i=i.email,typeof i!="string"||!gP.test(i))throw new N("invalid-email")}function mE(i){"email"in i&&mo(i)}function pD(i,u){return le(i,TD,{identifier:u,continueUri:Tc()?ta():"http://localhost"}).then(function(l){return l.signinMethods||[]})}function vD(i){return le(i,MD,{}).then(function(u){return u.authorizedDomains||[]})}function Yt(i){if(!i[Wn])throw i.mfaPendingCredential?new N("multi-factor-auth-required",null,Zr(i)):new N("internal-error")}function hv(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new N("internal-error")}else{if(!i.sessionInfo)throw new N("missing-verification-id");if(!i.code)throw new N("missing-verification-code")}}Gn.prototype.zb=function(){return le(this,VD,{})},Gn.prototype.Bb=function(i,u){return le(this,wE,{idToken:i,email:u})},Gn.prototype.Cb=function(i,u){return le(this,_E,{idToken:i,password:u})};var mD={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Gn.prototype,e.Db=function(i,u){var l={idToken:i},h=[];return u1(mD,function(p,m){var w=u[m];w===null?h.push(p):m in u&&(l[m]=w)}),h.length&&(l.deleteAttribute=h),le(this,wE,l)},e.vb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},Gt(i,u),le(this,LD,i)},e.wb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},Gt(i,u),le(this,PD,i)},e.ub=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},Gt(i,u),le(this,DD,i)},e.Eb=function(i,u,l){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},Gt(i,l),le(this,OD,i)};function gD(i,u){return le(i,jD,u)}e.fb=function(i){return le(this,GD,i)};function yD(i,u){return le(i,$D,u).then(function(l){return l.phoneSessionInfo.sessionInfo})}function gE(i){if(!i.phoneVerificationInfo)throw new N("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new N("missing-verification-code")}function wD(i,u){return le(i,BD,u).then(function(l){return l.phoneResponseInfo.sessionInfo})}function _D(i,u,l){return le(i,kD,{idToken:u,deleteProvider:l})}function dv(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new N("internal-error")}function pv(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new oo(i.postBody),Sp(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function yE(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=Dc(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=Dc(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=Dc(i)):i.errorMessage&&(u=SE(i.errorMessage)),u)throw u;Yt(i)}function vv(i,u){return u.returnIdpCredential=!0,le(i,qD,u)}function mv(i,u){return u.returnIdpCredential=!0,le(i,HD,u)}function gv(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,le(i,zD,u)}function yv(i){if(!i.oobCode)throw new N("invalid-action-code")}e.nb=function(i,u){return le(this,UD,{oobCode:i,newPassword:u})},e.Ra=function(i){return le(this,SD,{oobCode:i})},e.jb=function(i){return le(this,ED,{oobCode:i})};var ED={endpoint:"setAccountInfo",A:yv,Z:"email",B:!0},SD={endpoint:"resetPassword",A:yv,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},ID={endpoint:"signupNewUser",A:function(i){if(mo(i),!i.password)throw new N("weak-password")},G:Yt,V:!0,B:!0},TD={endpoint:"createAuthUri",B:!0},bD={endpoint:"deleteAccount",N:["idToken"]},kD={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new N("internal-error")}},ND={endpoint:"emailLinkSignin",N:["email","oobCode"],A:mo,G:Yt,V:!0,B:!0},CD={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:mo,G:Yt,V:!0},AD={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:gE,G:Yt,B:!0,Na:!0},RD={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:gE,G:Yt,B:!0,Na:!0},xD={endpoint:"getAccountInfo"},PD={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new N("internal-error");mo(i)},Z:"email",B:!0},DD={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},OD={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},LD={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new N("internal-error");mo(i)},Z:"email",B:!0},MD={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},FD={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new N("internal-error")}},UD={endpoint:"resetPassword",A:yv,Z:"email",B:!0},jD={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},wE={endpoint:"setAccountInfo",N:["idToken"],A:mE,V:!0},_E={endpoint:"setAccountInfo",N:["idToken"],A:function(i){if(mE(i),!i.password)throw new N("weak-password")},G:Yt,V:!0},VD={endpoint:"signupNewUser",G:Yt,V:!0,B:!0},$D={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new N("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},BD={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},qD={endpoint:"verifyAssertion",A:dv,Ya:pv,G:yE,V:!0,B:!0},zD={endpoint:"verifyAssertion",A:dv,Ya:pv,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(i.errorMessage)throw SE(i.errorMessage);Yt(i)},V:!0,B:!0},HD={endpoint:"verifyAssertion",A:function(i){if(dv(i),!i.idToken)throw new N("internal-error")},Ya:pv,G:yE,V:!0},KD={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new N("invalid-custom-token")},G:Yt,V:!0,B:!0},EE={endpoint:"verifyPassword",A:function(i){if(mo(i),!i.password)throw new N("wrong-password")},G:Yt,V:!0,B:!0},GD={endpoint:"verifyPhoneNumber",A:hv,G:Yt,B:!0},WD={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new N("internal-error");hv(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",Dc(i);Yt(i)}},QD={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:hv,G:Yt,B:!0},XD={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Wn]^!!i.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function le(i,u,l){if(!TP(l,u.N))return Pe(new N("internal-error"));var h=!!u.Na,p=u.Ub||"POST",m;return J(l).then(u.A).then(function(){return u.V&&(l.returnSecureToken=!0),u.B&&i.b&&typeof l.tenantId>"u"&&(l.tenantId=i.b),h?vE(i,i.i,u.endpoint,p,l,u.Hb,u.lb||!1):vE(i,i.h,u.endpoint,p,l,u.Hb,u.lb||!1)}).then(function(w){return m=w,u.Ya?u.Ya(l,m):m}).then(u.G).then(function(){if(!u.Z)return m;if(!(u.Z in m))throw new N("internal-error");return m[u.Z]})}function SE(i){return wv({error:{errors:[{message:i}],code:400,message:i}})}function wv(i,u){var l=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=h[l]?new N(h[l]):null)return l;l=i.error&&i.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Gt(h,u||{}),u=(u=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var p in h)if(l.indexOf(p)===0)return new N(h[p],u);return!u&&i&&(u=ra(i)),new N("internal-error",u)}function YD(i){this.b=i,this.a=null,this.rb=JD(this)}function JD(i){return iO().then(function(){return new ae(function(u,l){De("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(m),u()}i.a=h,i.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){l(Error("Network Error"))},rO.get());h.ping(p).then(p,function(){l(Error("Network Error"))})})})})}function ZD(i,u){return i.rb.then(function(){return new ae(function(l){i.a.send(u.type,u,l,De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function eO(i,u){i.rb.then(function(){i.a.register("authEvent",u,De("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var tO=new ar(cc,"https://apis.google.com/js/api.js?onload=%{onload}"),nO=new ri(3e4,6e4),rO=new ri(5e3,15e3),Kc=null;function iO(){return Kc||(Kc=new ae(function(i,u){function l(){m_(),De("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){m_(),u(Error("Network Error"))},timeout:nO.get()})}if(De("gapi.iframes.Iframe"))i();else if(De("gapi.load"))l();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){De("gapi.load")?l():u(Error("Network Error"))},h=ep(tO,{onload:h}),J(av(h)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw Kc=null,i}))}function IE(i,u,l,h){this.l=i,this.h=u,this.i=l,this.g=h,this.f=null,this.g?(i=Xt(this.g.url),i=Sc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Sc("https",this.l,null,"/__/auth/iframe"),this.a=i,Ge(this.a,"apiKey",this.h),Ge(this.a,"appName",this.i),this.b=null,this.c=[]}IE.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):lr(this.a.b,"v"),this.b?Ge(this.a,"eid",this.b):lr(this.a.b,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):lr(this.a.b,"fw"),this.a.toString()};function _v(i,u,l,h,p,m){this.u=i,this.s=u,this.c=l,this.m=h,this.v=m,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}_v.prototype.yb=function(i){return this.h=i,this},_v.prototype.toString=function(){if(this.v){var i=Xt(this.v.url);i=Sc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Sc("https",this.u,null,"/__/auth/handler");if(Ge(i,"apiKey",this.s),Ge(i,"appName",this.c),Ge(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var l=ee.app(this.c).auth().la()}catch{l=null}u.ob=l,Ge(i,"providerId",this.a.providerId),l=this.a,u=p_(l.Ib);for(var h in u)u[h]=u[h].toString();h=l.Qc,u=Zr(u);for(var p=0;p<h.length;p++){var m=h[p];m in u&&delete u[m]}l.pb&&l.ob&&!u[l.pb]&&(u[l.pb]=l.ob),eo(u)||Ge(i,"customParameters",ra(u))}if(typeof this.a.Qb=="function"&&(l=this.a.Qb(),l.length&&Ge(i,"scopes",l.join(","))),this.l?Ge(i,"redirectUrl",this.l):lr(i.b,"redirectUrl"),this.g?Ge(i,"eventId",this.g):lr(i.b,"eventId"),this.i?Ge(i,"v",this.i):lr(i.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Cn(i,w)&&Ge(i,w,this.b[w]);return this.h?Ge(i,"tid",this.h):lr(i.b,"tid"),this.f?Ge(i,"eid",this.f):lr(i.b,"eid"),w=Ev(this.c),w.length&&Ge(i,"fw",w.join(",")),i.toString()};function Ev(i){try{return ee.app(i).auth().Ga()}catch{return[]}}function TE(i,u,l,h,p,m){this.s=i,this.g=u,this.b=l,this.f=m,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bE(i){var u=ta();return vD(i).then(function(l){e:{var h=Xt(u),p=h.c;h=h.a;for(var m=0;m<l.length;m++){var w=l[m],b=h,D=p;if(w.indexOf("chrome-extension://")==0?b=Xt(w).a==b&&D=="chrome-extension":D!="http"&&D!="https"?b=!1:mP.test(w)?b=b==w:(w=w.split(".").join("\\."),b=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(b)),b){l=!0;break e}}l=!1}if(!l)throw new Jp(ta())})}function kE(i){return i.m||(i.m=Ic().then(function(){if(!i.u){var u=i.c,l=i.i,h=Ev(i.b),p=new IE(i.s,i.g,i.b,i.f);p.f=u,p.b=l,p.c=Zi(h||[]),i.u=p.toString()}i.v=new YD(i.u),oO(i)})),i.m}e=TE.prototype,e.Ob=function(i,u,l){var h=new N("popup-closed-by-user"),p=new N("web-storage-unsupported"),m=this,w=!1;return this.ma().then(function(){sO(m).then(function(b){b||(i&&so(i),u(p),w=!0)})}).o(function(){}).then(function(){if(!w)return vP(i)}).then(function(){if(!w)return fs(l).then(function(){u(h)})})},e.Xb=function(){var i=vt();return!na(i)&&!v_(i)},e.Tb=function(){return!1},e.Mb=function(i,u,l,h,p,m,w,b){if(!i)return Pe(new N("popup-blocked"));if(w&&!na())return this.ma().o(function(U){so(i),p(U)}),h(),J();this.a||(this.a=bE(NE(this)));var D=this;return this.a.then(function(){var U=D.ma().o(function(ne){throw so(i),p(ne),ne});return h(),U}).then(function(){if(Xp(l),!w){var U=wa(D.s,D.g,D.b,u,l,null,m,D.c,void 0,D.i,b,D.f);u_(U,i)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(D.a=null),U})};function NE(i){return i.l||(i.C=i.c?vs(i.c,Ev(i.b)):null,i.l=new Gn(i.g,Jr(i.i),i.C),i.f&&Es(i.l,i.f)),i.l}e.Nb=function(i,u,l,h){this.a||(this.a=bE(NE(this)));var p=this;return this.a.then(function(){Xp(u);var m=wa(p.s,p.g,p.b,i,u,ta(),l,p.c,void 0,p.i,h,p.f);u_(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(p.a=null),m})},e.ma=function(){var i=this;return kE(this).then(function(){return i.v.rb}).o(function(){throw i.a=null,new N("network-request-failed")})},e.$b=function(){return!0};function wa(i,u,l,h,p,m,w,b,D,U,ne,Ee){return i=new _v(i,u,l,h,p,Ee),i.l=m,i.g=w,i.i=b,i.b=Zr(D||null),i.f=U,i.yb(ne).toString()}function oO(i){if(!i.v)throw Error("IfcHandler must be initialized!");eO(i.v,function(u){var l={};if(u&&u.authEvent){var h=!1;for(u=X_(u.authEvent),l=0;l<i.h.length;l++)h=i.h[l](u)||h;return l={},l.status=h?"ACK":"ERROR",J(l)}return l.status="ERROR",J(l)})}function sO(i){var u={type:"webStorageSupport"};return kE(i).then(function(){return ZD(i.v,u)}).then(function(l){if(l&&l.length&&typeof l[0].webStorageSupport<"u")return l[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Sa=function(i){qn(this.h,function(u){return u==i})};function CE(i){if(this.a=i||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=CE.prototype,e.get=function(i){return J(this.a.getItem(i)).then(function(u){return u&&gs(u)})},e.set=function(i,u){return J(this.a.setItem(i,ra(u)))},e.U=function(i){return J(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function AE(i){this.b=i,this.a={},this.f=R(this.c,this)}var RE=[];function uO(){var i=Hn()?self:null;if(Fe(RE,function(l){l.b==i&&(u=l)}),!u){var u=new AE(i);RE.push(u)}return u}AE.prototype.c=function(i){var u=i.data.eventType,l=i.data.eventId,h=this.a[u];if(h&&0<h.length){i.ports[0].postMessage({status:"ack",eventId:l,eventType:u,response:null});var p=[];Fe(h,function(m){p.push(J().then(function(){return m(i.origin,i.data.data)}))}),O1(p).then(function(m){var w=[];Fe(m,function(b){w.push({fulfilled:b.Pb,value:b.value,reason:b.reason?b.reason.message:void 0})}),Fe(w,function(b){for(var D in b)typeof b[D]>"u"&&delete b[D]}),i.ports[0].postMessage({status:"done",eventId:l,eventType:u,response:w})})}};function xE(i,u,l){eo(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]>"u"&&(i.a[u]=[]),i.a[u].push(l)}function PE(i){this.a=i}PE.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function DE(i){this.c=i,this.b=!1,this.a=[]}function OE(i,u,l,h){var p,m=l||{},w,b,D,U=null;if(i.b)return Pe(Error("connection_unavailable"));var ne=h?800:50,Ee=typeof MessageChannel<"u"?new MessageChannel:null;return new ae(function(me,ft){Ee?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ee.port1.start(),b=setTimeout(function(){ft(Error("unsupported_event"))},ne),w=function(Or){Or.data.eventId===p&&(Or.data.status==="ack"?(clearTimeout(b),D=setTimeout(function(){ft(Error("timeout"))},3e3)):Or.data.status==="done"?(clearTimeout(D),typeof Or.data.response<"u"?me(Or.data.response):ft(Error("unknown_error"))):(clearTimeout(b),clearTimeout(D),ft(Error("invalid_response"))))},U={messageChannel:Ee,onMessage:w},i.a.push(U),Ee.port1.addEventListener("message",w),i.c.postMessage({eventType:u,eventId:p,data:m},[Ee.port2])):ft(Error("connection_unavailable"))}).then(function(me){return Sv(i,U),me}).o(function(me){throw Sv(i,U),me})}function Sv(i,u){if(u){var l=u.messageChannel,h=u.onMessage;l&&(l.port1.removeEventListener("message",h),l.port1.close()),qn(i.a,function(p){return p==u})}}DE.prototype.close=function(){for(;0<this.a.length;)Sv(this,this.a[0]);this.b=!0};function LE(){if(!bv())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Hn()&&self?(this.v=uO(),xE(this.v,"keyChanged",function(u,l){return UE(i).then(function(h){return 0<h.length&&Fe(i.a,function(p){p(h)}),{keyProcessed:Ar(h,l.key)}})}),xE(this.v,"ping",function(){return J(["keyChanged"])})):SP().then(function(u){(i.h=u)&&(i.g=new DE(new PE(u)),OE(i.g,"ping",null,!0).then(function(l){l[0].fulfilled&&Ar(l[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Iv;function aO(i){return new ae(function(u,l){var h=i.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){u()},h.onerror=function(p){l(Error(p.target.error))}})}function ME(i){return new ae(function(u,l){var h=i.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}l(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){l(m)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?u(p):aO(i).then(function(){return ME(i)}).then(function(m){u(m)}).o(function(m){l(m)})}})}function Tv(i){return i.i||(i.i=ME(i)),i.i}function Gc(i,u){function l(p,m){Tv(i).then(u).then(p).o(function(w){if(3<++h)m(w);else return Tv(i).then(function(b){return b.close(),i.i=void 0,l(p,m)}).o(function(b){m(b)})})}var h=0;return new ae(l)}function bv(){try{return!!f.indexedDB}catch{return!1}}function _a(i){return i.objectStore("firebaseLocalStorage")}function Ea(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ss(i){return new ae(function(u,l){i.onsuccess=function(h){h&&h.target?u(h.target.result):u()},i.onerror=function(h){l(h.target.error)}})}e=LE.prototype,e.set=function(i,u){var l=this,h=!1;return Gc(this,function(p){return p=_a(Ea(p,!0)),Ss(p.get(i))}).then(function(p){return Gc(l,function(m){if(m=_a(Ea(m,!0)),p)return p.value=u,Ss(m.put(p));l.b++,h=!0;var w={};return w.fbase_key=i,w.value=u,Ss(m.add(w))})}).then(function(){return l.c[i]=u,FE(l,i)}).oa(function(){h&&l.b--})};function FE(i,u){return i.g&&i.h&&EP()===i.h?OE(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):J()}e.get=function(i){return Gc(this,function(u){return Ss(_a(Ea(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,l=!1;return Gc(this,function(h){return l=!0,u.b++,Ss(_a(Ea(h,!0)).delete(i))}).then(function(){return delete u.c[i],FE(u,i)}).oa(function(){l&&u.b--})};function UE(i){return Tv(i).then(function(u){var l=_a(Ea(u,!1));return l.getAll?Ss(l.getAll()):new ae(function(h,p){var m=[],w=l.openCursor();w.onsuccess=function(b){(b=b.target.result)?(m.push(b.value),b.continue()):h(m)},w.onerror=function(b){p(b.target.error)}})}).then(function(u){var l={},h=[];if(i.b==0){for(h=0;h<u.length;h++)l[u[h].fbase_key]=u[h].value;h=a_(i.c,l),i.c=l}return h})}e.ca=function(i){this.a.length==0&&lO(this),this.a.push(i)},e.ia=function(i){qn(this.a,function(u){return u==i}),this.a.length==0&&jE(this)};function lO(i){function u(){i.f=setTimeout(function(){i.l=UE(i).then(function(l){0<l.length&&Fe(i.a,function(h){h(l)})}).then(function(){u()}).o(function(l){l.message!="STOP_EVENT"&&u()})},800)}jE(i),u()}function jE(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function VE(i){var u=this,l=null;this.a=[],this.type="indexedDB",this.c=i,this.b=J().then(function(){if(bv()){var h=ao(),p="__sak"+h;return Iv||(Iv=new LE),l=Iv,l.set(p,h).then(function(){return l.get(p)}).then(function(m){if(m!==h)throw Error("indexedDB not supported!");return l.U(p)}).then(function(){return l}).o(function(){return u.c})}return u.c}).then(function(h){return u.type=h.type,h.ca(function(p){Fe(u.a,function(m){m(p)})}),h})}e=VE.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(l){return l.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){qn(this.a,function(u){return u==i})};function Sa(){this.a={},this.type="inMemory"}e=Sa.prototype,e.get=function(i){return J(this.a[i])},e.set=function(i,u){return this.a[i]=u,J()},e.U=function(i){return delete this.a[i],J()},e.ca=function(){},e.ia=function(){};function Wc(){if(!cO())throw cr()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=$E()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function $E(){try{var i=f.localStorage,u=ao();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function cO(){var i=cr()=="Node";if(i=$E()||i&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Wc.prototype,e.get=function(i){var u=this;return J().then(function(){var l=u.a.getItem(i);return gs(l)})},e.set=function(i,u){var l=this;return J().then(function(){var h=ra(u);h===null?l.U(i):l.a.setItem(i,h)})},e.U=function(i){var u=this;return J().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&Nn(f.window,"storage",i)},e.ia=function(i){f.window&&ln(f.window,"storage",i)};function kv(){this.type="nullStorage"}e=kv.prototype,e.get=function(){return J(null)},e.set=function(){return J()},e.U=function(){return J()},e.ca=function(){},e.ia=function(){};function Nv(){if(!fO())throw cr()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=BE()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function BE(){try{var i=f.sessionStorage,u=ao();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function fO(){var i=cr()=="Node";if(i=BE()||i&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Nv.prototype,e.get=function(i){var u=this;return J().then(function(){var l=u.a.getItem(i);return gs(l)})},e.set=function(i,u){var l=this;return J().then(function(){var h=ra(u);h===null?l.U(i):l.a.setItem(i,h)})},e.U=function(i){var u=this;return J().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function hO(){var i={};i.Browser=dO,i.Node=pO,i.ReactNative=vO,i.Worker=mO,this.a=i[cr()]}var Cv,dO={F:Wc,bb:Nv},pO={F:Wc,bb:Nv},vO={F:CE,bb:kv},mO={F:Wc,bb:kv},Is={rd:"local",NONE:"none",td:"session"};function gO(i){var u=new N("invalid-persistence-type"),l=new N("unsupported-persistence-type");e:{for(h in Is)if(Is[h]==i){var h=!0;break e}h=!1}if(!h||typeof i!="string")throw u;switch(cr()){case"ReactNative":if(i==="session")throw l;break;case"Node":if(i!=="none")throw l;break;case"Worker":if(i==="session"||!bv()&&i!=="none")throw l;break;default:if(!Cp()&&i!=="none")throw l}}function qE(){var i=!!(!v_(vt())&&kp()),u=na(),l=Cp();this.m=i,this.h=u,this.l=l,this.a={},Cv||(Cv=new hO),i=Cv;try{this.g=!Tp()&&g_()||!f.indexedDB?new i.a.F:new VE(Hn()?new Sa:new i.a.F)}catch{this.g=new Sa,this.h=!0}try{this.i=new i.a.bb}catch{this.i=new Sa}this.v=new Sa,this.f=R(this.Yb,this),this.b={}}var Av;function Ia(){return Av||(Av=new qE),Av}function go(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function Ts(i,u){return"firebase:"+i.name+(u?":"+u:"")}function yO(i,u,l){var h=Ts(u,l),p=go(i,u.F);return i.get(u,l).then(function(m){var w=null;try{w=gs(f.localStorage.getItem(h))}catch{}if(w&&!m)return f.localStorage.removeItem(h),i.set(u,w,l);w&&m&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}e=qE.prototype,e.get=function(i,u){return go(this,i.F).get(Ts(i,u))};function bs(i,u,l){return l=Ts(u,l),u.F=="local"&&(i.b[l]=null),go(i,u.F).U(l)}e.set=function(i,u,l){var h=Ts(i,l),p=this,m=go(this,i.F);return m.set(h,u).then(function(){return m.get(h)}).then(function(w){i.F=="local"&&(p.b[h]=w)})},e.addListener=function(i,u,l){i=Ts(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),eo(this.a)&&(go(this,"local").ca(this.f),this.h||(Tp()||!g_())&&f.indexedDB||!this.l||wO(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(l)},e.removeListener=function(i,u,l){i=Ts(i,u),this.a[i]&&(qn(this.a[i],function(h){return h==l}),this.a[i].length==0&&delete this.a[i]),eo(this.a)&&(go(this,"local").ia(this.f),Rv(this))};function wO(i){Rv(i),i.c=setInterval(function(){for(var u in i.a){var l=f.localStorage.getItem(u),h=i.b[u];l!=h&&(i.b[u]=l,l=new ro({type:"storage",key:u,target:window,oldValue:h,newValue:l,a:!0}),i.Yb(l))}},1e3)}function Rv(i){i.c&&(clearInterval(i.c),i.c=null)}e.Yb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var l in this.a){var h=this.b[l];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(l);p!==h&&(this.b[l]=p,this.mb(l))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a<"u"?go(this,"local").ia(this.f):Rv(this),this.m){if(l=f.localStorage.getItem(u),h=i.a.newValue,h!==l)h!==null?f.localStorage.setItem(u,h):f.localStorage.removeItem(u);else if(this.b[u]===h&&typeof i.a.a>"u")return}var m=this;l=function(){(typeof i.a.a<"u"||m.b[u]!==f.localStorage.getItem(u))&&(m.b[u]=f.localStorage.getItem(u),m.mb(u))},zn&&ei&&ei==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(l,10):l()}}else Fe(i,R(this.mb,this))},e.mb=function(i){this.a[i]&&Fe(this.a[i],function(u){u()})};function _O(i){this.a=i,this.b=Ia()}var xv={name:"authEvent",F:"local"};function EO(i){return i.b.get(xv,i.a).then(function(u){return X_(u)})}function SO(){this.a=Ia()}function IO(){this.b=-1}function Qc(i,u){this.b=zE,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),Xc===void 0&&(f.Int32Array?Xc=new Int32Array(GE):Xc=GE),this.reset()}var Xc;P(Qc,IO);for(var zE=64,TO=zE-1,HE=[],Pv=0;Pv<TO;Pv++)HE[Pv]=0;var KE=Yd(128,HE);Qc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):Zi(this.h)};function Dv(i){for(var u=i.f,l=i.l,h=0,p=0;p<u.length;)l[h++]=u[p]<<24|u[p+1]<<16|u[p+2]<<8|u[p+3],p=4*h;for(u=16;64>u;u++){p=l[u-15]|0,h=l[u-2]|0;var m=(l[u-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(l[u-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;l[u]=m+w|0}h=i.a[0]|0,p=i.a[1]|0;var b=i.a[2]|0,D=i.a[3]|0,U=i.a[4]|0,ne=i.a[5]|0,Ee=i.a[6]|0;for(m=i.a[7]|0,u=0;64>u;u++){var me=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&b^p&b)|0;w=U&ne^~U&Ee,m=m+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,w=w+(Xc[u]|0)|0,w=m+(w+(l[u]|0)|0)|0,m=Ee,Ee=ne,ne=U,U=D+w|0,D=b,b=p,p=h,h=w+me|0}i.a[0]=i.a[0]+h|0,i.a[1]=i.a[1]+p|0,i.a[2]=i.a[2]+b|0,i.a[3]=i.a[3]+D|0,i.a[4]=i.a[4]+U|0,i.a[5]=i.a[5]+ne|0,i.a[6]=i.a[6]+Ee|0,i.a[7]=i.a[7]+m|0}function Ov(i,u,l){l===void 0&&(l=u.length);var h=0,p=i.c;if(typeof u=="string")for(;h<l;)i.f[p++]=u.charCodeAt(h++),p==i.b&&(Dv(i),p=0);else if(S(u))for(;h<l;){var m=u[h++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");i.f[p++]=m,p==i.b&&(Dv(i),p=0)}else throw Error("message must be string or array");i.c=p,i.g+=l}var GE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function WE(){Qc.call(this,8,bO)}P(WE,Qc);var bO=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function QE(i,u,l,h,p,m){this.v=i,this.i=u,this.l=l,this.m=h||null,this.u=p||null,this.s=m,this.h=u+":"+l,this.C=new SO,this.g=new _O(this.h),this.f=null,this.b=[],this.a=this.c=null}function Yc(i){return new N("invalid-cordova-configuration",i)}e=QE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=yP().then(function(){if(typeof De("universalLinks.subscribe",f)!="function")throw Yc("cordova-universal-links-plugin-fix is not installed");if(typeof De("BuildInfo.packageName",f)>"u")throw Yc("cordova-plugin-buildinfo is not installed");if(typeof De("cordova.plugins.browsertab.openUrl",f)!="function")throw Yc("cordova-plugin-browsertab is not installed");if(typeof De("cordova.InAppBrowser.open",f)!="function")throw Yc("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function kO(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function NO(i){var u=new WE;Ov(u,i),i=[];var l=8*u.g;56>u.c?Ov(u,KE,56-u.c):Ov(u,KE,u.b-(u.c-56));for(var h=63;56<=h;h--)u.f[h]=l&255,l/=256;for(Dv(u),h=l=0;h<u.i;h++)for(var p=24;0<=p;p-=8)i[l++]=u.a[h]>>p&255;return UP(i)}e.Ob=function(i,u){return u(new N("operation-not-supported-in-this-environment")),J()},e.Mb=function(){return Pe(new N("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(i,u,l,h){if(this.c)return Pe(new N("redirect-operation-pending"));var p=this,m=f.document,w=null,b=null,D=null,U=null;return this.c=J().then(function(){return Xp(u),YE(p)}).then(function(){return CO(p,i,u,l,h)}).then(function(){return new ae(function(ne,Ee){b=function(){var me=De("cordova.plugins.browsertab.close",f);return ne(),typeof me=="function"&&me(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(b),D=function(){w||(w=fs(2e3).then(function(){Ee(new N("redirect-cancelled-by-user"))}))},U=function(){Ap()&&D()},m.addEventListener("resume",D,!1),vt().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",U,!1)}).o(function(ne){return Lv(p).then(function(){throw ne})})}).oa(function(){D&&m.removeEventListener("resume",D,!1),U&&m.removeEventListener("visibilitychange",U,!1),w&&w.cancel(),b&&p.Sa(b),p.c=null})};function CO(i,u,l,h,p){var m=kO(),w=new Kn(u,h,null,m,new N("no-auth-event"),null,p),b=De("BuildInfo.packageName",f);if(typeof b!="string")throw new N("invalid-cordova-configuration");var D=De("BuildInfo.displayName",f),U={};if(vt().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=b;else if(vt().toLowerCase().match(/android/))U.apn=b;else return Pe(new N("operation-not-supported-in-this-environment"));D&&(U.appDisplayName=D),m=NO(m),U.sessionId=m;var ne=wa(i.v,i.i,i.l,u,l,null,h,i.m,U,i.u,p,i.s);return i.ma().then(function(){var Ee=i.h;return i.C.a.set(xv,w.w(),Ee)}).then(function(){var Ee=De("cordova.plugins.browsertab.isAvailable",f);if(typeof Ee!="function")throw new N("invalid-cordova-configuration");var me=null;Ee(function(ft){if(ft){if(me=De("cordova.plugins.browsertab.openUrl",f),typeof me!="function")throw new N("invalid-cordova-configuration");me(ne)}else{if(me=De("cordova.InAppBrowser.open",f),typeof me!="function")throw new N("invalid-cordova-configuration");ft=vt(),i.a=me(ne,ft.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ft.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function XE(i,u){for(var l=0;l<i.b.length;l++)try{i.b[l](u)}catch{}}function YE(i){return i.f||(i.f=i.ma().then(function(){return new ae(function(u){function l(h){return u(h),i.Sa(l),!1}i.Ea(l),AO(i)})})),i.f}function Lv(i){var u=null;return EO(i.g).then(function(l){return u=l,l=i.g,bs(l.b,xv,l.a)}).then(function(){return u})}function AO(i){function u(w){h=!0,p&&p.cancel(),Lv(i).then(function(b){var D=l;if(b&&w&&w.url){var U=null;D=B_(w.url),D.indexOf("/__/auth/callback")!=-1&&(U=Xt(D),U=gs(Cn(U,"firebaseError")||null),U=(U=typeof U=="object"?_e(U):null)?new Kn(b.c,b.b,null,null,U,null,b.T()):new Kn(b.c,b.b,D,b.f,null,null,b.T())),D=U||l}XE(i,D)})}var l=new Kn("unknown",null,null,null,new N("no-auth-event")),h=!1,p=fs(500).then(function(){return Lv(i).then(function(){h||XE(i,l)})}),m=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(De("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:w}),typeof m=="function")try{m(w)}catch(b){console.error(b)}},Yp||(Yp=new KP),GP(u)}e.Ea=function(i){this.b.push(i),YE(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Kn("unknown",null,null,null,new N("no-auth-event")),i(u))})},e.Sa=function(i){qn(this.b,function(u){return u==i})};function RO(i){this.a=i,this.b=Ia()}var Mv={name:"pendingRedirect",F:"session"};function xO(i){return i.b.set(Mv,"pending",i.a)}function Fv(i){return bs(i.b,Mv,i.a)}function PO(i){return i.b.get(Mv,i.a).then(function(u){return u=="pending"})}function Jc(i,u,l,h){this.i={},this.u=0,this.D=i,this.v=u,this.m=l,this.J=h,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new Zc,this.C=new lS,this.g=new RO(oS(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=JE(this.D,this.v,this.m,Cr,this.J)}function JE(i,u,l,h,p){var m=ee.SDK_VERSION||null;return bp()?new QE(i,u,l,m,h,p):new TE(i,u,l,m,h,p)}Jc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=JE(this.D,this.v,this.m,null,this.J),this.i={}};function ZE(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(l){throw i.a==u&&i.reset(),l})}function eS(i){i.a.Xb()&&ZE(i).o(function(u){var l=new Kn("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));jv(u)&&i.s(l)}),i.a.Tb()||uS(i.b)}function Uv(i,u){Ar(i.h,u)||i.h.push(u),i.f||PO(i.g).then(function(l){l?Fv(i.g).then(function(){ZE(i).o(function(h){var p=new Kn("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));jv(h)&&i.s(p)})}):eS(i)}).o(function(){eS(i)})}function tS(i,u){qn(i.h,function(l){return l==u})}Jc.prototype.s=function(i){if(!i)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,l=0;l<this.h.length;l++){var h=this.h[l];if(h.Fb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,h),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return uS(this.b),u};var DO=new ri(2e3,1e4),OO=new ri(3e4,6e4);Jc.prototype.qa=function(){return this.b.qa()};function nS(i,u,l,h,p,m,w){return i.a.Mb(u,l,h,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},p,m,w)}function jv(i){return!!(i&&i.code=="auth/cordova-not-ready")}function rS(i,u,l,h,p){var m;return xO(i.g).then(function(){return i.a.Nb(u,l,h,p).o(function(w){if(jv(w))throw new N("operation-not-supported-in-this-environment");return m=w,Fv(i.g).then(function(){throw m})}).then(function(){return i.a.$b()?new ae(function(){}):Fv(i.g).then(function(){return i.qa()}).then(function(){}).o(function(){})})})}function iS(i,u,l,h,p){return i.a.Ob(h,function(m){u.na(l,null,m,p)},DO.get())}var Vv={};function oS(i,u,l){return i=i+":"+u,l&&(i=i+":"+l.url),i}function sS(i,u,l,h){var p=oS(u,l,h);return Vv[p]||(Vv[p]=new Jc(i,u,l,h)),Vv[p]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var l=i.c,h=i.b,p=i.a&&i.a.code=="auth/web-storage-unsupported",m=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!m),l!="unknown"||p||m?i.a?(yo(this,!0,null,i.a),J()):u.Fa(l,h)?LO(this,i,u):Pe(new N("invalid-auth-event")):(yo(this,!1,null,null),J())}else Pe(new N("invalid-auth-event"))};function uS(i){i.g||(i.g=!0,yo(i,!1,null,null))}function ef(i){i.g&&!i.i&&yo(i,!1,null,null)}function LO(i,u,l){l=l.Fa(u.c,u.b);var h=u.g,p=u.f,m=u.i,w=u.T(),b=!!u.c.match(/Redirect$/);l(h,p,w,m).then(function(D){yo(i,b,D,null)}).o(function(D){yo(i,b,null,D)})}function MO(i,u){if(i.b=function(){return Pe(u)},i.c.length)for(var l=0;l<i.c.length;l++)i.c[l](u)}function aS(i,u){if(i.b=function(){return J(u)},i.f.length)for(var l=0;l<i.f.length;l++)i.f[l](u)}function yo(i,u,l,h){u?h?MO(i,h):aS(i,l):aS(i,{user:null}),i.f=[],i.c=[]}Zc.prototype.qa=function(){var i=this;return new ae(function(u,l){i.b?i.b().then(u,l):(i.f.push(u),i.c.push(l),FO(i))})};function FO(i){var u=new N("timeout");i.a&&i.a.cancel(),i.a=fs(OO.get()).then(function(){i.b||(i.g=!0,yo(i,!0,null,u))})}function lS(){}lS.prototype.h=function(i,u){if(i){var l=i.c,h=i.b;i.a?(u.na(i.c,null,i.a,i.b),J()):u.Fa(l,h)?UO(i,u):Pe(new N("invalid-auth-event"))}else Pe(new N("invalid-auth-event"))};function UO(i,u){var l=i.b,h=i.c;u.Fa(h,l)(i.g,i.f,i.T(),i.i).then(function(p){u.na(h,p,null,l)}).o(function(p){u.na(h,null,p,l)})}function cS(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(i){this.ib=i},enumerable:!1})}function $v(i,u){this.a=u,G(this,"verificationId",i)}$v.prototype.confirm=function(i){return i=Q_(this.verificationId,i),this.a(i)};function Bv(i,u,l,h){return new Pr(i).fb(u,l).then(function(p){return new $v(p,h)})}function jO(i){var u=O_(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ot(this,{token:i,expirationTime:ia(1e3*u.exp),authTime:ia(1e3*u.auth_time),issuedAtTime:ia(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function qv(i,u,l){var h=u&&u[hS];if(!h)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Zr(u),this.g=l,this.c=new xc(null,h),this.b=[];var p=this;Fe(u[fS]||[],function(m){(m=Lp(m))&&p.b.push(m)}),G(this,"auth",this.a),G(this,"session",this.c),G(this,"hints",this.b)}var fS="mfaInfo",hS="mfaPendingCredential";qv.prototype.Rc=function(i){var u=this;return i.sb(this.a.a,this.c).then(function(l){var h=Zr(u.f);return delete h[fS],delete h[hS],Gt(h,l),u.g(h)})};function zv(i,u,l,h){N.call(this,"multi-factor-auth-required",h,u),this.b=new qv(i,u,l),G(this,"resolver",this.b)}P(zv,N);function dS(i,u,l){if(i&&C(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new zv(u,i.serverResponse,l,i.message)}catch{}return null}function pS(){}pS.prototype.sb=function(i,u,l){return u.type==aa?VO(this,i,u,l):$O(this,i,u)};function VO(i,u,l,h){return l.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Gt(p,{phoneVerificationInfo:la(i.a)}),le(u,AD,p)})}function $O(i,u,l){return l.Ha().then(function(h){return h={mfaPendingCredential:h},Gt(h,{phoneVerificationInfo:la(i.a)}),le(u,RD,h)})}function Hv(i){G(this,"factorId",i.fa),this.a=i}P(Hv,pS);function vS(i){if(Hv.call(this,i),this.a.fa!=Pr.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P(vS,Hv);function ks(i,u){Qt.call(this,i);for(var l in u)this[l]=u[l]}P(ks,Qt);function Kv(i,u){this.a=i,this.b=[],this.c=R(this.yc,this),Nn(this.a,"userReloaded",this.c);var l=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Fe(u.multiFactor.enrolledFactors,function(h){var p=null,m={};if(h){h.uid&&(m[Fp]=h.uid),h.displayName&&(m[w_]=h.displayName),h.enrollmentTime&&(m[Mp]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(m[Up]=h.phoneNumber);try{p=new oa(m)}catch{}h=p}else h=null;h&&l.push(h)}),tf(this,l)}function BO(i){var u=[];return Fe(i.mfaInfo||[],function(l){(l=Lp(l))&&u.push(l)}),u}e=Kv.prototype,e.yc=function(i){tf(this,BO(i.hd))};function tf(i,u){i.b=u,G(i,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(i){return new xc(i,null)})},e.fc=function(i,u){var l=this,h=this.a.a;return this.Rb().then(function(p){return i.sb(h,p,u)}).then(function(p){return dr(l.a,p),l.a.reload()})},e.bd=function(i){var u=this,l=typeof i=="string"?i:i.uid,h=this.a.a;return this.a.I().then(function(p){return le(h,XD,{idToken:p,mfaEnrollmentId:l})}).then(function(p){var m=wx(u.b,function(w){return w.uid!=l});return tf(u,m),dr(u.a,p),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:ac(this.b,function(i){return i.w()})}}};function Gv(i,u,l){if(this.h=i,this.i=u,this.g=l,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Gv.prototype.start=function(){this.a=this.c,Wv(this,!0)};function qO(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function Wv(i,u){i.stop(),i.b=fs(qO(i,u)).then(function(){return _P()}).then(function(){return i.h()}).then(function(){Wv(i,!0)}).o(function(l){i.i(l)&&Wv(i,!1)})}Gv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Qv(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Qv.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function mS(i,u){typeof u>"u"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function gS(i,u){i.b=Ac(u[Wn]||""),i.a=u.refreshToken,u=u.expiresIn,mS(i,typeof u<"u"?Number(u):void 0)}function zO(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function HO(i,u){return dD(i.f,u).then(function(l){return i.b=Ac(l.access_token),i.a=l.refresh_token,mS(i,l.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(l){throw l.code=="auth/user-token-expired"&&(i.a=null),l})}Qv.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?Pe(new N("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?HO(this,{grant_type:"refresh_token",refresh_token:this.a}):J(null):J({accessToken:this.b.toString(),refreshToken:this.a})};function nf(i,u){this.a=i||null,this.b=u||null,Ot(this,{lastSignInTime:ia(u||null),creationTime:ia(i||null)})}function KO(i){return new nf(i.a,i.b)}nf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GO(i,u,l,h,p,m){Ot(this,{uid:i,displayName:h||null,photoURL:p||null,email:l||null,phoneNumber:m||null,providerId:u})}function fn(i,u,l){this.J=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var h=ee.SDK_VERSION?vs(ee.SDK_VERSION):null;this.a=new Gn(this.l,Jr(Cr),h),i.emulatorConfig&&Es(this.a,i.emulatorConfig),this.b=new Qv(this.a),tm(this,u[Wn]),gS(this.b,u),G(this,"refreshToken",this.b.a),wS(this,l||{}),Dt.call(this),this.R=!1,this.s&&uo()&&(this.i=sS(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=WO(this),this.aa=R(this.hb,this);var p=this;this.ya=null,this.Oa=function(m){p.wa(m.h)},this.ja=null,this.Aa=function(m){Es(p.a,m.c)},this.X=null,this.$=[],this.Ba=function(m){Ta(p,m.f)},this.ba=null,this.O=new Kv(this,l),G(this,"multiFactor",this.O)}P(fn,Dt),fn.prototype.wa=function(i){this.ya=i,fE(this.a,i)},fn.prototype.la=function(){return this.ya};function Xv(i,u){i.ja&&ln(i.ja,"languageCodeChanged",i.Oa),(i.ja=u)&&Nn(u,"languageCodeChanged",i.Oa)}function Yv(i,u){i.X&&ln(i.X,"emulatorConfigChanged",i.Aa),(i.X=u)&&Nn(u,"emulatorConfigChanged",i.Aa)}function Ta(i,u){i.$=u,hE(i.a,ee.SDK_VERSION?vs(ee.SDK_VERSION,i.$):null)}fn.prototype.Ga=function(){return Zi(this.$)};function Jv(i,u){i.ba&&ln(i.ba,"frameworkChanged",i.Ba),(i.ba=u)&&Nn(u,"frameworkChanged",i.Ba)}fn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Zv(i){try{return ee.app(i.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function WO(i){return new Gv(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.b.c-Date.now()-3e5;return 0<u?u:0})}function yS(i){i.D||i.u.b||(i.u.start(),ln(i,"tokenChanged",i.aa),Nn(i,"tokenChanged",i.aa))}function em(i){ln(i,"tokenChanged",i.aa),i.u.stop()}function tm(i,u){i.za=u,G(i,"_lat",u)}function QO(i,u){qn(i.S,function(l){return l==u})}function wo(i){for(var u=[],l=0;l<i.S.length;l++)u.push(i.S[l](i));return O1(u).then(function(){return i})}function ba(i){i.i&&!i.R&&(i.R=!0,Uv(i.i,i))}function wS(i,u){Ot(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new nf(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}G(fn.prototype,"providerId","firebase");function _S(){}function nm(i){return J().then(function(){if(i.D)throw new N("app-deleted")})}function rm(i){return ac(i.providerData,function(u){return u.providerId})}function im(i,u){u&&(ES(i,u.providerId),i.providerData.push(u))}function ES(i,u){qn(i.providerData,function(l){return l.providerId==u})}function si(i,u,l){(u!="uid"||l)&&i.hasOwnProperty(u)&&G(i,u,l)}function rf(i,u){i!=u&&(Ot(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?G(i,"metadata",KO(u.metadata)):G(i,"metadata",new nf),Fe(u.providerData,function(l){im(i,l)}),zO(i.b,u.b),G(i,"refreshToken",i.b.a),tf(i.O,u.O.b))}e=fn.prototype,e.reload=function(){var i=this;return it(this,nm(this).then(function(){return om(i).then(function(){return wo(i)}).then(_S)}))};function om(i){return i.I().then(function(u){var l=i.isAnonymous;return XO(i,u).then(function(){return l||si(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new jO(u)})},e.I=function(i){var u=this;return it(this,nm(this).then(function(){return u.b.getToken(i)}).then(function(l){if(!l)throw new N("internal-error");return l.accessToken!=u.za&&(tm(u,l.accessToken),u.dispatchEvent(new ks("tokenChanged"))),si(u,"refreshToken",l.refreshToken),l.accessToken}))};function dr(i,u){u[Wn]&&i.za!=u[Wn]&&(gS(i.b,u),i.dispatchEvent(new ks("tokenChanged")),tm(i,u[Wn]),si(i,"refreshToken",i.b.a))}function XO(i,u){return le(i.a,xD,{idToken:u}).then(R(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new N("internal-error");i=i[0],wS(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=YO(i),l=0;l<u.length;l++)im(this,u[l]);si(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ks("userReloaded",{hd:i}))};function YO(i){return(i=i.providerUserInfo)&&i.length?ac(i,function(u){return new GO(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return Rp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(i)},e.tb=function(i){var u=this,l=null;return it(this,i.c(this.a,this.uid).then(function(h){return dr(u,h),l=ka(u,h,"reauthenticate"),u.h=null,u.reload()}).then(function(){return l}),!0)};function of(i,u){return om(i).then(function(){if(Ar(rm(i),u))return wo(i).then(function(){throw new N("provider-already-linked")})})}e.Cc=function(i){return Rp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(i)},e.qb=function(i){var u=this,l=null;return it(this,of(this,i.providerId).then(function(){return u.I()}).then(function(h){return i.b(u.a,h)}).then(function(h){return l=ka(u,h,"link"),SS(u,h)}).then(function(){return l}))},e.Dc=function(i,u){var l=this;return it(this,of(this,"phone").then(function(){return Bv(Zv(l),i,u,R(l.qb,l))}))},e.Mc=function(i,u){var l=this;return it(this,J().then(function(){return Bv(Zv(l),i,u,R(l.tb,l))}),!0)};function ka(i,u,l){var h=Qp(u);return u=M_(u),fr({user:i,credential:h,additionalUserInfo:u,operationType:l})}function SS(i,u){return dr(i,u),i.reload().then(function(){return i})}e.Bb=function(i){var u=this;return it(this,this.I().then(function(l){return u.a.Bb(l,i)}).then(function(l){return dr(u,l),u.reload()}))},e.ed=function(i){var u=this;return it(this,this.I().then(function(l){return i.b(u.a,l)}).then(function(l){return dr(u,l),u.reload()}))},e.Cb=function(i){var u=this;return it(this,this.I().then(function(l){return u.a.Cb(l,i)}).then(function(l){return dr(u,l),u.reload()}))},e.Db=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return nm(this);var u=this;return it(this,this.I().then(function(l){return u.a.Db(l,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(l){return dr(u,l),si(u,"displayName",l.displayName||null),si(u,"photoURL",l.photoUrl||null),Fe(u.providerData,function(h){h.providerId==="password"&&(G(h,"displayName",u.displayName),G(h,"photoURL",u.photoURL))}),wo(u)}).then(_S))},e.cd=function(i){var u=this;return it(this,om(this).then(function(l){return Ar(rm(u),i)?_D(u.a,l,[i]).then(function(h){var p={};return Fe(h.providerUserInfo||[],function(m){p[m.providerId]=!0}),Fe(rm(u),function(m){p[m]||ES(u,m)}),p[Pr.PROVIDER_ID]||G(u,"phoneNumber",null),wo(u)}):wo(u).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var i=this;return it(this,this.I().then(function(u){return le(i.a,bD,{idToken:u})}).then(function(){i.dispatchEvent(new ks("userDeleted"))})).then(function(){for(var u=0;u<i.J.length;u++)i.J[u].cancel("app-deleted");Xv(i,null),Yv(i,null),Jv(i,null),i.J=[],i.D=!0,em(i),G(i,"refreshToken",null),i.i&&tS(i.i,i)})},e.Fb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,l,h){i!="linkViaPopup"&&i!="reauthViaPopup"||h!=(this.g||null)||(l&&this.C?this.C(l):u&&!l&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?R(this.Kb,this):i=="reauthViaPopup"&&u==(this.g||null)?R(this.Lb,this):i=="linkViaRedirect"&&(this.ga||null)==u?R(this.Kb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?R(this.Lb,this):null},e.Ec=function(i){var u=this;return IS(this,"linkViaPopup",i,function(){return of(u,i.providerId).then(function(){return wo(u)})},!1)},e.Nc=function(i){return IS(this,"reauthViaPopup",i,function(){return J()},!0)};function IS(i,u,l,h,p){if(!uo())return Pe(new N("operation-not-supported-in-this-environment"));if(i.h&&!p)return Pe(i.h);var m=qp(l.providerId),w=ao(i.uid+":::"),b=null;(!na()||kp())&&i.s&&l.isOAuthProvider&&(b=wa(i.s,i.l,i.m,u,l,null,w,ee.SDK_VERSION||null,null,null,i.tenantId));var D=c_(b,m&&m.ua,m&&m.ta);return h=h().then(function(){if(bS(i),!p)return i.I().then(function(){})}).then(function(){return nS(i.i,D,u,l,w,!!b,i.tenantId)}).then(function(){return new ae(function(U,ne){i.na(u,null,new N("cancelled-popup-request"),i.g||null),i.f=U,i.C=ne,i.g=w,i.c=iS(i.i,i,u,D,w)})}).then(function(U){return D&&so(D),U?fr(U):null}).o(function(U){throw D&&so(D),U}),it(i,h,p)}e.Fc=function(i){var u=this;return TS(this,"linkViaRedirect",i,function(){return of(u,i.providerId)},!1)},e.Oc=function(i){return TS(this,"reauthViaRedirect",i,function(){return J()},!0)};function TS(i,u,l,h,p){if(!uo())return Pe(new N("operation-not-supported-in-this-environment"));if(i.h&&!p)return Pe(i.h);var m=null,w=ao(i.uid+":::");return h=h().then(function(){if(bS(i),!p)return i.I().then(function(){})}).then(function(){return i.ga=w,wo(i)}).then(function(b){return i.ha&&(b=i.ha,b=b.b.set(sm,i.w(),b.a)),b}).then(function(){return rS(i.i,u,l,w,i.tenantId)}).o(function(b){if(m=b,i.ha)return NS(i.ha);throw m}).then(function(){if(m)throw m}),it(i,h,p)}function bS(i){if(!i.i||!i.R)throw i.i&&!i.R?new N("internal-error"):new N("auth-domain-config-required")}e.Kb=function(i,u,l,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return l=this.I().then(function(w){return mv(p.a,{requestUri:i,postBody:h,sessionId:u,idToken:w})}).then(function(w){return m=ka(p,w,"link"),SS(p,w)}).then(function(){return m}),it(this,l)},e.Lb=function(i,u,l,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null,w=J().then(function(){return ws(gv(p.a,{requestUri:i,sessionId:u,postBody:h,tenantId:l}),p.uid)}).then(function(b){return m=ka(p,b,"reauthenticate"),dr(p,b),p.h=null,p.reload()}).then(function(){return m});return it(this,w,!0)},e.ub=function(i){var u=this,l=null;return it(this,this.I().then(function(h){return l=h,typeof i>"u"||eo(i)?{}:Nc(new kc(i))}).then(function(h){return u.a.ub(l,h)}).then(function(h){if(u.email!=h)return u.reload()}).then(function(){}))},e.Eb=function(i,u){var l=this,h=null;return it(this,this.I().then(function(p){return h=p,typeof u>"u"||eo(u)?{}:Nc(new kc(u))}).then(function(p){return l.a.Eb(h,i,p)}).then(function(p){if(l.email!=p)return l.reload()}).then(function(){}))};function it(i,u,l){var h=JO(i,u,l);return i.J.push(h),h.oa(function(){lc(i.J,h)}),h.o(function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=dS(p.w(),Zv(i),R(i.jc,i))),m||p})}e.jc=function(i){var u=null,l=this;return i=ws(J(i),l.uid).then(function(h){return u=ka(l,h,"reauthenticate"),dr(l,h),l.h=null,l.reload()}).then(function(){return u}),it(this,i,!0)};function JO(i,u,l){return i.h&&!l?(u.cancel(),Pe(i.h)):u.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(i.h||i.dispatchEvent(new ks("userInvalidated")),i.h=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Gt(i,this.metadata.w()),Fe(this.providerData,function(u){i.providerData.push(IP(u))}),Gt(i,this.O.w()),i};function kS(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},l={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){l[Wn]=i.stsTokenManager.accessToken,l.refreshToken=i.stsTokenManager.refreshToken||null;var h=i.stsTokenManager.expirationTime;h&&(l.expiresIn=(h-Date.now())/1e3)}else return null;var p=new fn(u,l,i);return i.providerData&&Fe(i.providerData,function(m){m&&im(p,fr(m))}),i.redirectEventId&&(p.ga=i.redirectEventId),p}function ZO(i,u,l,h){var p=new fn(i,u);return l&&(p.ha=l),h&&Ta(p,h),p.reload().then(function(){return p})}function e2(i,u,l,h){var p=i.b,m={};return m[Wn]=p.b&&p.b.toString(),m.refreshToken=p.a,u=new fn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},m),l&&(u.ha=l),h&&Ta(u,h),rf(u,i),u}function t2(i){this.a=i,this.b=Ia()}var sm={name:"redirectUser",F:"session"};function NS(i){return bs(i.b,sm,i.a)}function n2(i,u){return i.b.get(sm,i.a).then(function(l){return l&&u&&(l.authDomain=u),kS(l||{})})}function um(i){this.a=i,this.b=Ia(),this.c=null,this.f=r2(this),this.b.addListener(pr("local"),this.a,R(this.g,this))}um.prototype.g=function(){var i=this,u=pr("local");Ns(this,function(){return J().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(l){if(l)return am(i,"local").then(function(){i.c=u})})})};function am(i,u){var l=[],h;for(h in Is)Is[h]!==u&&l.push(bs(i.b,pr(Is[h]),i.a));return l.push(bs(i.b,lm,i.a)),Kx(l)}function r2(i){var u=pr("local"),l=pr("session"),h=pr("none");return yO(i.b,u,i.a).then(function(){return i.b.get(l,i.a)}).then(function(p){return p?l:i.b.get(h,i.a).then(function(m){return m?h:i.b.get(u,i.a).then(function(w){return w?u:i.b.get(lm,i.a).then(function(b){return b?pr(b):u})})})}).then(function(p){return i.c=p,am(i,p.F)}).o(function(){i.c||(i.c=u)})}var lm={name:"persistence",F:"session"};function pr(i){return{name:"authUser",F:i}}um.prototype.xb=function(i){var u=null,l=this;return gO(i),Ns(this,function(){return i!=l.c.F?l.b.get(l.c,l.a).then(function(h){return u=h,am(l,i)}).then(function(){if(l.c=pr(i),u)return l.b.set(l.c,u,l.a)}):J()})};function i2(i){return Ns(i,function(){return i.b.set(lm,i.c.F,i.a)})}function CS(i,u){return Ns(i,function(){return i.b.set(i.c,u.w(),i.a)})}function AS(i){return Ns(i,function(){return bs(i.b,i.c,i.a)})}function RS(i,u,l){return Ns(i,function(){return i.b.get(i.c,i.a).then(function(h){return h&&u&&(h.authDomain=u),h&&l&&(h.emulatorConfig=l),kS(h||{})})})}function Ns(i,u){return i.f=i.f.then(u,u),i.f}function Qn(i){if(this.l=!1,G(this,"settings",new cS),G(this,"app",i),Ie(this).options&&Ie(this).options.apiKey)i=ee.SDK_VERSION?vs(ee.SDK_VERSION):null,this.a=new Gn(Ie(this).options&&Ie(this).options.apiKey,Jr(Cr),i);else throw new N("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=ee.INTERNAL.createSubscribe(R(this.zc,this)),this.X=void 0,this.bc=ee.INTERNAL.createSubscribe(R(this.Ac,this)),Cs(this,null),this.i=new um(Ie(this).options.apiKey+":"+Ie(this).name),this.D=new t2(Ie(this).options.apiKey+":"+Ie(this).name),this.$=qe(this,c2(this)),this.h=qe(this,f2(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.ya=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,u2(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,Dt.call(this),s2(this),this.J=[],this.P=null}P(Qn,Dt);function xS(i){Qt.call(this,"languageCodeChanged"),this.h=i}P(xS,Qt);function PS(i){Qt.call(this,"emulatorConfigChanged"),this.c=i}P(PS,Qt);function DS(i){Qt.call(this,"frameworkChanged"),this.f=i}P(DS,Qt),e=Qn.prototype,e.xb=function(i){return i=this.i.xb(i),qe(this,i)},e.wa=function(i){this.aa===i||this.l||(this.aa=i,fE(this.a,this.aa),this.dispatchEvent(new xS(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.wa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.P){if(!/^https?:\/\//.test(i))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,o2(u),this.P={url:i,ec:u},this.settings.ib=!0,Es(this.a,this.P),this.dispatchEvent(new PS(this.P))}};function o2(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&Ic().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),hE(this.a,ee.SDK_VERSION?vs(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new DS(this.J))},e.Ga=function(){return Zi(this.J)},e.yb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function s2(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.P){var u=Xt(this.P.url);u=fr({protocol:u.c,host:u.a,port:u.g,options:fr({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Ie(this).options.apiKey,authDomain:Ie(this).options.authDomain,appName:Ie(this).name,currentUser:se(this)&&se(this).w()}};function cm(i){return i.Oa||Pe(new N("auth-domain-config-required"))}function u2(i){var u=Ie(i).options.authDomain,l=Ie(i).options.apiKey;u&&uo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=sS(u,l,Ie(i).name,i.P),Uv(i.b,i),se(i)&&ba(se(i)),i.m){ba(i.m);var h=i.m;h.wa(i.la()),Xv(h,i),h=i.m,Ta(h,i.J),Jv(h,i),h=i.m,Es(h.a,i.P),Yv(h,i),i.m=null}return i.b}}))}e.Fb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,l,h){i=="signInViaPopup"&&this.g==h&&(l&&this.C?this.C(l):u&&!l&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?R(this.ic,this):null},e.ic=function(i,u,l,h){var p=this,m={requestUri:i,postBody:h,sessionId:u,tenantId:l};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return _o(p,vv(p.a,m))})},e.Xc=function(i){if(!uo())return Pe(new N("operation-not-supported-in-this-environment"));var u=this,l=qp(i.providerId),h=ao(),p=null;(!na()||kp())&&Ie(this).options.authDomain&&i.isOAuthProvider&&(p=wa(Ie(this).options.authDomain,Ie(this).options.apiKey,Ie(this).name,"signInViaPopup",i,null,h,ee.SDK_VERSION||null,null,null,this.T(),this.P));var m=c_(p,l&&l.ua,l&&l.ta);return l=cm(this).then(function(w){return nS(w,m,"signInViaPopup",i,h,!!p,u.T())}).then(function(){return new ae(function(w,b){u.na("signInViaPopup",null,new N("cancelled-popup-request"),u.g),u.f=w,u.C=b,u.g=h,u.c=iS(u.b,u,"signInViaPopup",m,h)})}).then(function(w){return m&&so(m),w?fr(w):null}).o(function(w){throw m&&so(m),w}),qe(this,l)},e.Yc=function(i){if(!uo())return Pe(new N("operation-not-supported-in-this-environment"));var u=this,l=cm(this).then(function(){return i2(u.i)}).then(function(){return rS(u.b,"signInViaRedirect",i,void 0,u.T())});return qe(this,l)};function OS(i){if(!uo())return Pe(new N("operation-not-supported-in-this-environment"));var u=cm(i).then(function(){return i.b.qa()}).then(function(l){return l?fr(l):null});return qe(i,u)}e.qa=function(){var i=this;return OS(this).then(function(u){return i.b&&ef(i.b.b),u}).o(function(u){throw i.b&&ef(i.b.b),u})},e.dd=function(i){if(!i)return Pe(new N("null-user"));if(this.S!=i.tenantId)return Pe(new N("tenant-id-mismatch"));var u=this,l={};l.apiKey=Ie(this).options.apiKey,l.authDomain=Ie(this).options.authDomain,l.appName=Ie(this).name;var h=e2(i,l,u.D,u.Ga());return qe(this,this.h.then(function(){if(Ie(u).options.apiKey!=i.l)return h.reload()}).then(function(){return se(u)&&i.uid==se(u).uid?(rf(se(u),i),u.da(i)):(Cs(u,h),ba(h),u.da(h))}).then(function(){Na(u)}))};function a2(i,u){var l={};return l.apiKey=Ie(i).options.apiKey,l.authDomain=Ie(i).options.authDomain,l.appName=Ie(i).name,i.P&&(l.emulatorConfig=i.P),i.$.then(function(){return ZO(l,u,i.D,i.Ga())}).then(function(h){return se(i)&&h.uid==se(i).uid?(rf(se(i),h),i.da(h)):(Cs(i,h),ba(h),i.da(h))}).then(function(){Na(i)})}function Cs(i,u){se(i)&&(QO(se(i),i.Ba),ln(se(i),"tokenChanged",i.ya),ln(se(i),"userDeleted",i.za),ln(se(i),"userInvalidated",i.Aa),em(se(i))),u&&(u.S.push(i.Ba),Nn(u,"tokenChanged",i.ya),Nn(u,"userDeleted",i.za),Nn(u,"userInvalidated",i.Aa),0<i.u&&yS(u)),G(i,"currentUser",u),u&&(u.wa(i.la()),Xv(u,i),Ta(u,i.J),Jv(u,i),Es(u.a,i.P),Yv(u,i))}e.Ab=function(){var i=this,u=this.h.then(function(){return i.b&&ef(i.b.b),se(i)?(Cs(i,null),AS(i.i).then(function(){Na(i)})):J()});return qe(this,u)};function l2(i){var u=n2(i.D,Ie(i).options.authDomain).then(function(l){return(i.m=l)&&(l.ha=i.D),NS(i.D)});return qe(i,u)}function c2(i){var u=Ie(i).options.authDomain,l=l2(i).then(function(){return RS(i.i,u,i.P)}).then(function(h){return h?(h.ha=i.D,i.m&&(i.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return CS(i.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:AS(i.i)})):null}).then(function(h){Cs(i,h||null)});return qe(i,l)}function f2(i){return i.$.then(function(){return OS(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(pr("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return RS(this.i,Ie(this).options.authDomain).then(function(u){if(!i.l){var l;if(l=se(i)&&u){l=se(i).uid;var h=u.uid;l=l==null||l===""||h===void 0||h===null||h===""?!1:l==h}if(l)return rf(se(i),u),se(i).I();(se(i)||u)&&(Cs(i,u),u&&(ba(u),u.ha=i.D),i.b&&Uv(i.b,i),Na(i))}})},e.da=function(i){return CS(this.i,i)},e.mc=function(){Na(this),this.da(se(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function _o(i,u){var l=null,h=null;return qe(i,u.then(function(p){return l=Qp(p),h=M_(p),a2(i,p)},function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=dS(p.w(),i,R(i.kc,i))),m||p}).then(function(){return fr({user:se(i),credential:l,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return _o(u,J(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(se(u))})},e.Ac=function(i){var u=this;h2(this,function(){i.next(se(u))})},e.Ic=function(i,u,l){var h=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(se(h)):typeof i.next=="function"&&i.next(se(h))}),this.hb(i,u,l)},e.Hc=function(i,u,l){var h=this;return this.ba&&Promise.resolve().then(function(){h.X=h.getUid(),typeof i=="function"?i(se(h)):typeof i.next=="function"&&i.next(se(h))}),this.bc(i,u,l)},e.nc=function(i){var u=this,l=this.h.then(function(){return se(u)?se(u).I(i).then(function(h){return{accessToken:h}}):null});return qe(this,l)},e.Tc=function(i){var u=this;return this.h.then(function(){return _o(u,le(u.a,KD,{token:i}))}).then(function(l){var h=l.user;return si(h,"isAnonymous",!1),u.da(h),l})},e.Uc=function(i,u){var l=this;return this.h.then(function(){return _o(l,le(l.a,EE,{email:i,password:u}))})},e.dc=function(i,u){var l=this;return this.h.then(function(){return _o(l,le(l.a,ID,{email:i,password:u}))})},e.$a=function(i){var u=this;return this.h.then(function(){return _o(u,i.ka(u.a))})},e.Sc=function(i){return Rp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(i)},e.zb=function(){var i=this;return this.h.then(function(){var u=se(i);if(u&&u.isAnonymous){var l=fr({providerId:null,isNewUser:!1});return fr({user:u,credential:null,additionalUserInfo:l,operationType:"signIn"})}return _o(i,i.a.zb()).then(function(h){var p=h.user;return si(p,"isAnonymous",!0),i.da(p),h})})};function Ie(i){return i.app}function se(i){return i.currentUser}e.getUid=function(){return se(this)&&se(this).uid||null};function sf(i){return se(i)&&se(i)._lat||null}function Na(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](sf(i));if(i.X!==i.getUid()&&i.O.length)for(i.X=i.getUid(),u=0;u<i.O.length;u++)i.O[u]&&i.O[u](sf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&se(this)&&yS(se(this))},e.Pc=function(i){var u=this;Fe(this.s,function(l){l==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&se(this)&&em(se(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),qe(this,this.h.then(function(){u.l||Ar(u.s,i)&&i(sf(u))}))},e.removeAuthTokenListener=function(i){qn(this.s,function(u){return u==i})};function h2(i,u){i.O.push(u),qe(i,i.h.then(function(){!i.l&&Ar(i.O,u)&&i.X!==i.getUid()&&(i.X=i.getUid(),u(sf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.R.length;i++)this.R[i].cancel("app-deleted");return this.R=[],this.i&&(i=this.i,i.b.removeListener(pr("local"),i.a,this.ja)),this.b&&(tS(this.b,this),ef(this.b.b)),Promise.resolve()};function qe(i,u){return i.R.push(u),u.oa(function(){lc(i.R,u)}),u}e.hc=function(i){return qe(this,pD(this.a,i))},e.Bc=function(i){return!!Wp(i)},e.wb=function(i,u){var l=this;return qe(this,J().then(function(){var h=new kc(u);if(!h.c)throw new N("argument-error",$p+" must be true when sending sign in link to email");return Nc(h)}).then(function(h){return l.a.wb(i,h)}).then(function(){}))},e.jd=function(i){return this.Ra(i).then(function(u){return u.data.email})},e.nb=function(i,u){return qe(this,this.a.nb(i,u).then(function(){}))},e.Ra=function(i){return qe(this,this.a.Ra(i).then(function(u){return new bP(u)}))},e.jb=function(i){return qe(this,this.a.jb(i).then(function(){}))},e.vb=function(i,u){var l=this;return qe(this,J().then(function(){return typeof u>"u"||eo(u)?{}:Nc(new kc(u))}).then(function(h){return l.a.vb(i,h)}).then(function(){}))},e.Wc=function(i,u){return qe(this,Bv(this,i,u,R(this.$a,this)))},e.Vc=function(i,u){var l=this;return qe(this,J().then(function(){var h=u||ta(),p=W_(i,h);if(h=Wp(h),!h)throw new N("argument-error","Invalid email link!");if(h.tenantId!==l.T())throw new N("tenant-id-mismatch");return l.$a(p)}))};function Ca(){}Ca.prototype.render=function(){},Ca.prototype.reset=function(){},Ca.prototype.getResponse=function(){},Ca.prototype.execute=function(){};function As(){this.a={},this.b=1e12}var fm=null;As.prototype.render=function(i,u){return this.a[this.b.toString()]=new uf(i,u),this.b++},As.prototype.reset=function(i){var u=hm(this,i);i=LS(i),u&&i&&(u.delete(),delete this.a[i])},As.prototype.getResponse=function(i){return(i=hm(this,i))?i.getResponse():null},As.prototype.execute=function(i){(i=hm(this,i))&&i.execute()};function hm(i,u){return(u=LS(u))&&i.a[u]||null}function LS(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function uf(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Wu(i);var l=this;this.i=function(){l.execute()},this.h?this.execute():Nn(this.f,"click",this.i)}uf.prototype.getResponse=function(){return dm(this),this.b},uf.prototype.execute=function(){dm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=wP();var u=i.c.callback,l=i.c["expired-callback"];if(u)try{u(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,l)try{l()}catch{}i.h&&i.execute()},6e4)},500))},uf.prototype.delete=function(){dm(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)};function dm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function pm(){}G(pm,"FACTOR_ID","phone");function vm(){}vm.prototype.g=function(){return fm||(fm=new As),J(fm)},vm.prototype.c=function(){};var mm=null;function gm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var d2=new ar(cc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),p2=new ri(3e4,6e4);gm.prototype.g=function(i){var u=this;return new ae(function(l,h){var p=setTimeout(function(){h(new N("network-request-failed"))},p2.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var w=f.grecaptcha.render;f.grecaptcha.render=function(b,D){return b=w(b,D),u.b++,b},clearTimeout(p),l(f.grecaptcha)}else clearTimeout(p),h(new N("internal-error"));delete f[u.a]};var m=ep(d2,{onload:u.a,hl:i||""});J(av(m)).o(function(){clearTimeout(p),h(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),l(f.grecaptcha)})},gm.prototype.c=function(){this.b--};var ym=null;function wm(i,u,l,h,p,m,w){if(G(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(mm||(mm=new vm),w=mm):(ym||(ym=new gm),w=ym),this.m=w,this.a=l||{theme:"light",type:"image"},this.h=[],this.a[US])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[v2]==="invisible",!f.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Wu(u)||!this.i&&Wu(u).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Gn(i,m||null,p||null),this.u=h||function(){return null};var b=this;this.l=[];var D=this.a[MS];this.a[MS]=function(ne){if(jS(b,ne),typeof D=="function")D(ne);else if(typeof D=="string"){var Ee=De(D,f);typeof Ee=="function"&&Ee(ne)}};var U=this.a[FS];this.a[FS]=function(){if(jS(b,null),typeof U=="function")U();else if(typeof U=="string"){var ne=De(U,f);typeof ne=="function"&&ne()}}}var MS="callback",FS="expired-callback",US="sitekey",v2="size";function jS(i,u){for(var l=0;l<i.l.length;l++)try{i.l[l](u)}catch{}}function m2(i,u){qn(i.l,function(l){return l==u})}function _m(i,u){return i.h.push(u),u.oa(function(){lc(i.h,u)}),u}e=wm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=_m(this,J().then(function(){if(Tc()&&!Hn())return Ic();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,le(i.s,FD,{})}).then(function(u){i.a[US]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){af(this);var i=this;return _m(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var l=Wu(u);u=Bx("DIV"),l.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){af(this);var i=this;return _m(this,this.render().then(function(u){return new ae(function(l){var h=i.g.getResponse(u);if(h)l(h);else{var p=function(m){m&&(m2(i,p),l(m))};i.l.push(p),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){af(this),this.c!==null&&this.g.reset(this.c)};function af(i){if(i.D)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){af(this),this.D=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Wu(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function Em(i,u,l){var h=!1;try{this.b=l||ee.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)l=this.b.options.apiKey;else throw new N("invalid-api-key");var p=this,m=null;try{m=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=ee.SDK_VERSION?vs(ee.SDK_VERSION,m):null,wm.call(this,l,i,u,function(){try{var w=p.b.auth().la()}catch{w=null}return w},m,Jr(Cr),h)}P(Em,wm);function VS(i,u,l,h){e:{l=Array.prototype.slice.call(l);for(var p=0,m=!1,w=0;w<u.length;w++)if(u[w].optional)m=!0;else{if(m)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(m=u.length,l.length<p||m<l.length)h="Expected "+(p==m?p==1?"1 argument":p+" arguments":p+"-"+m+" arguments")+" but got "+l.length+".";else{for(p=0;p<l.length;p++)if(m=u[p].optional&&l[p]===void 0,!u[p].M(l[p])&&!m){if(u=u[p],0>p||p>=$S.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");l=$S[p],h=(h?"":l+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}h=null}}if(h)throw new N("argument-error",i+" failed: "+h)}var $S="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function K(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(l){return typeof l=="string"}}}function Sm(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(l){return typeof l=="boolean"}}}function Ye(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:C}}function Rs(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(l){return typeof l=="function"}}}function vr(i,u){return{name:i||"",K:"null",optional:!!u,M:function(l){return l===null}}}function g2(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function y2(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Qn)}}}function w2(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof ee.app.App)}}}function ui(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var l=!i||u.providerId===i;return!(!u.ka||!l)}}}function BS(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.sb:!1}}}function xs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Im(i,u){return C(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function qS(i){return C(i)&&typeof i.uid=="string"}function lf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function We(i,u,l,h){return{name:l||"",K:i.K+" or "+u.K,optional:!!h,M:function(p){return i.M(p)||u.M(p)}}}function Ue(i,u){for(var l in u){var h=u[l].name;i[h]=HS(h,i[l],u[l].j)}}function zS(i,u){for(var l in u){var h=u[l].name;h!==l&&Object.defineProperty(i,h,{get:O(function(p){return this[p]},l),set:O(function(p,m,w,b){VS(p,[w],[b],!0),this[m]=b},h,l,u[l].kb),enumerable:!0})}}function Qe(i,u,l,h){i[u]=HS(u,l,h)}function HS(i,u,l){function h(){var w=Array.prototype.slice.call(arguments);return VS(p,l,w),u.apply(this,w)}if(!l)return u;var p=_2(i),m;for(m in u)h[m]=u[m];for(m in u.prototype)h.prototype[m]=u.prototype[m];return h}function _2(i){return i=i.split("."),i[i.length-1]}Ue(Qn.prototype,{jb:{name:"applyActionCode",j:[K("code")]},Ra:{name:"checkActionCode",j:[K("code")]},nb:{name:"confirmPasswordReset",j:[K("code"),K("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[K("email"),K("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[K("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[K("emailLink")]},Hc:{name:"onAuthStateChanged",j:[We(Ye(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[We(Ye(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[K("email"),We(Ye("opt_actionCodeSettings",!0),vr(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[K("email"),Ye("actionCodeSettings")]},xb:{name:"setPersistence",j:[K("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ui()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[ui()]},Tc:{name:"signInWithCustomToken",j:[K("token")]},Uc:{name:"signInWithEmailAndPassword",j:[K("email"),K("password")]},Vc:{name:"signInWithEmailLink",j:[K("email"),K("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[K("phoneNumber"),lf()]},Xc:{name:"signInWithPopup",j:[xs()]},Yc:{name:"signInWithRedirect",j:[xs()]},dd:{name:"updateCurrentUser",j:[We(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof fn)}}}(),vr(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[K(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[K("url"),Ye("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[K("code")]}}),zS(Qn.prototype,{lc:{name:"languageCode",kb:We(K(),vr(),"languageCode")},ti:{name:"tenantId",kb:We(K(),vr(),"tenantId")}}),Qn.Persistence=Is,Qn.Persistence.LOCAL="local",Qn.Persistence.SESSION="session",Qn.Persistence.NONE="none",Ue(fn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Sm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ui()]},qb:{name:"linkWithCredential",j:[ui()]},Dc:{name:"linkWithPhoneNumber",j:[K("phoneNumber"),lf()]},Ec:{name:"linkWithPopup",j:[xs()]},Fc:{name:"linkWithRedirect",j:[xs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ui()]},tb:{name:"reauthenticateWithCredential",j:[ui()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[K("phoneNumber"),lf()]},Nc:{name:"reauthenticateWithPopup",j:[xs()]},Oc:{name:"reauthenticateWithRedirect",j:[xs()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[We(Ye("opt_actionCodeSettings",!0),vr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[K(null,!0)]},cd:{name:"unlink",j:[K("provider")]},Bb:{name:"updateEmail",j:[K("email")]},Cb:{name:"updatePassword",j:[K("password")]},ed:{name:"updatePhoneNumber",j:[ui("phone")]},Db:{name:"updateProfile",j:[Ye("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[K("email"),We(Ye("opt_actionCodeSettings",!0),vr(null,!0),"opt_actionCodeSettings",!0)]}}),Ue(As.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ue(Ca.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ue(ae.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),zS(cS.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Sm("appVerificationDisabledForTesting")}}),Ue($v.prototype,{confirm:{name:"confirm",j:[K("verificationCode")]}}),Qe(ys,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,l=[qP,zP,HP,BP],h=0;h<l.length;h++)if(u=l[h](i))return u;return null},[We(K(),Ye(),"json")]),Qe(An,"credential",function(i,u){return new ii(i,u)},[K("email"),K("password")]),Ue(ii.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ue(fo.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ye("customOAuthParameters")]}}),Qe(fo,"credential",z_,[We(K(),Ye(),"token")]),Qe(An,"credentialWithLink",W_,[K("email"),K("emailLink")]),Ue(ho.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ye("customOAuthParameters")]}}),Qe(ho,"credential",H_,[We(K(),Ye(),"token")]),Ue(po.prototype,{Ca:{name:"addScope",j:[K("scope")]},Ka:{name:"setCustomParameters",j:[Ye("customOAuthParameters")]}}),Qe(po,"credential",K_,[We(K(),We(Ye(),vr()),"idToken"),We(K(),vr(),"accessToken",!0)]),Ue(_s.prototype,{Ka:{name:"setCustomParameters",j:[Ye("customOAuthParameters")]}}),Qe(_s,"credential",G_,[We(K(),Ye(),"token"),K("secret",!0)]),Ue(cn.prototype,{Ca:{name:"addScope",j:[K("scope")]},credential:{name:"credential",j:[We(K(),We(Ye(),vr()),"optionsOrIdToken"),We(K(),vr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ye("customOAuthParameters")]}}),Ue(xr.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ue(lo.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Qe(Pr,"credential",Q_,[K("verificationId"),K("verificationCode")]),Ue(Pr.prototype,{fb:{name:"verifyPhoneNumber",j:[We(K(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(l){return l?l.session&&l.phoneNumber?Im(l.session,aa)&&typeof l.phoneNumber=="string":l.session&&l.multiFactorHint?Im(l.session,Pc)&&qS(l.multiFactorHint):l.session&&l.multiFactorUid?Im(l.session,Pc)&&typeof l.multiFactorUid=="string":l.phoneNumber?typeof l.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),lf()]}}),Ue(oi.prototype,{w:{name:"toJSON",j:[K(null,!0)]}}),Ue(N.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ue(ca.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ue(Jp.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ue(zv.prototype,{toJSON:{name:"toJSON",j:[K(null,!0)]}}),Ue(qv.prototype,{Rc:{name:"resolveSignIn",j:[BS()]}}),Ue(Kv.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[BS(),K("displayName",!0)]},bd:{name:"unenroll",j:[We({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:qS},K(),"multiFactorInfoIdentifier")]}}),Ue(Em.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qe(Vp,"parseLink",k_,[K("link")]),Qe(pm,"assertion",function(i){return new vS(i)},[ui("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:jp,VERIFY_AND_CHANGE_EMAIL:sa,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qn,AuthCredential:ys,Error:N};Qe(i,"EmailAuthProvider",An,[]),Qe(i,"FacebookAuthProvider",fo,[]),Qe(i,"GithubAuthProvider",ho,[]),Qe(i,"GoogleAuthProvider",po,[]),Qe(i,"TwitterAuthProvider",_s,[]),Qe(i,"OAuthProvider",cn,[K("providerId")]),Qe(i,"SAMLAuthProvider",q_,[K("providerId")]),Qe(i,"PhoneAuthProvider",Pr,[y2()]),Qe(i,"RecaptchaVerifier",Em,[We(K(),g2(),"recaptchaContainer"),Ye("recaptchaParameters",!0),w2()]),Qe(i,"ActionCodeURL",Vp,[]),Qe(i,"PhoneMultiFactorGenerator",pm,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Qn(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC"}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:R(u.getUid,u),getToken:R(u.nc,u),addAuthTokenListener:R(u.cc,u),removeAuthTokenListener:R(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.5"),ee.INTERNAL.extendNamespace({User:fn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cy=function(e,t){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},cy(e,t)};function _U(e,t){cy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function rC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var EU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,$0=$0||{},oe=EU||self;function Rh(){}function fy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Hl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function SU(e){return Object.prototype.hasOwnProperty.call(e,Zm)&&e[Zm]||(e[Zm]=++IU)}var Zm="closure_uid_"+(1e9*Math.random()>>>0),IU=0;function TU(e,t,n){return e.call.apply(e.bind,arguments)}function bU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function Ct(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ct=TU:Ct=bU,Ct.apply(null,arguments)}function Cf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Nr(){return Date.now()}function Kt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,o,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[o].apply(r,a)}}function Hi(){this.j=this.j,this.i=this.i}var kU=0;Hi.prototype.j=!1;Hi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),kU!=0)&&SU(this)};Hi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var iC=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},oC=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function NU(e){e:{for(var t=m3,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function lT(e){return Array.prototype.concat.apply([],arguments)}function B0(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xh(e){return/^[\s\xa0]*$/.test(e)}var cT=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jt(e,t){return e.indexOf(t)!=-1}function eg(e,t){return e<t?-1:e>t?1:0}var Vt;e:{var fT=oe.navigator;if(fT){var hT=fT.userAgent;if(hT){Vt=hT;break e}}Vt=""}function q0(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function sC(e){var t={};for(var n in e)t[n]=e[n];return t}var dT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uC(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<dT.length;s++)n=dT[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function z0(e){return z0[" "](e),e}z0[" "]=Rh;function CU(e,t){var n=xU;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var AU=jt(Vt,"Opera"),Ui=jt(Vt,"Trident")||jt(Vt,"MSIE"),aC=jt(Vt,"Edge"),hy=aC||Ui,lC=jt(Vt,"Gecko")&&!(jt(Vt.toLowerCase(),"webkit")&&!jt(Vt,"Edge"))&&!(jt(Vt,"Trident")||jt(Vt,"MSIE"))&&!jt(Vt,"Edge"),RU=jt(Vt.toLowerCase(),"webkit")&&!jt(Vt,"Edge");function cC(){var e=oe.document;return e?e.documentMode:void 0}var Ph;e:{var tg="",ng=function(){var e=Vt;if(lC)return/rv:([^\);]+)(\)|;)/.exec(e);if(aC)return/Edge\/([\d\.]+)/.exec(e);if(Ui)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(RU)return/WebKit\/(\S+)/.exec(e);if(AU)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ng&&(tg=ng?ng[1]:""),Ui){var rg=cC();if(rg!=null&&rg>parseFloat(tg)){Ph=String(rg);break e}}Ph=tg}var xU={};function fC(e){return CU(e,function(){for(var t=0,n=cT(String(Ph)).split("."),r=cT(String(e)).split("."),o=Math.max(n.length,r.length),s=0;t==0&&s<o;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;t=eg(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||eg(a[2].length==0,c[2].length==0)||eg(a[2],c[2]),a=a[3],c=c[3]}while(t==0)}return 0<=t})}var dy;if(oe.document&&Ui){var pT=cC();dy=pT||parseInt(Ph,10)||void 0}else dy=void 0;var hC=dy,H0=!Ui||9<=Number(hC),PU=Ui&&!fC("9"),DU=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oe.addEventListener("test",Rh,t),oe.removeEventListener("test",Rh,t)}catch{}return e}();function At(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}At.prototype.b=function(){this.defaultPrevented=!0};function Sl(e,t){if(At.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(lC){e:{try{z0(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:OU[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Kt(Sl,At);var OU={2:"touch",3:"pen",4:"mouse"};Sl.prototype.b=function(){Sl.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,PU)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Kl="closure_listenable_"+(1e6*Math.random()|0),LU=0;function MU(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=o,this.key=++LU,this.Y=this.Z=!1}function wd(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function _d(e){this.src=e,this.a={},this.b=0}_d.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=vy(e,t,r,o);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new MU(t,this.src,s,!!r,o),t.Z=n,e.push(t)),t};function py(e,t){var n=t.type;if(n in e.a){var r=e.a[n],o=iC(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(wd(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function vy(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return o}return-1}var K0="closure_lm_"+(1e6*Math.random()|0),ig={};function G0(e,t,n,r,o){if(r&&r.once)return pC(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G0(e,t[s],n,r,o);return null}return n=X0(n),e&&e[Kl]?e.va(t,n,Hl(r)?!!r.capture:!!r,o):dC(e,t,n,!1,r,o)}function dC(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=Hl(o)?!!o.capture:!!o;if(a&&!H0)return null;var c=Q0(e);if(c||(e[K0]=c=new _d(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=FU(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)DU||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(mC(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FU(){var e=UU,t=H0?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function pC(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pC(e,t[s],n,r,o);return null}return n=X0(n),e&&e[Kl]?e.wa(t,n,Hl(r)?!!r.capture:!!r,o):dC(e,t,n,!0,r,o)}function vC(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)vC(e,t[s],n,r,o);else r=Hl(r)?!!r.capture:!!r,n=X0(n),e&&e[Kl]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=vy(s,n,r,o),-1<n&&(wd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Q0(e))&&(t=e.a[t.toString()],e=-1,t&&(e=vy(t,n,r,o)),(n=-1<e?t[e]:null)&&W0(n))}function W0(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Kl])py(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mC(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q0(t))?(py(n,e),n.b==0&&(n.src=null,t[K0]=null)):wd(e)}}}function mC(e){return e in ig?ig[e]:ig[e]="on"+e}function vT(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&W0(e),n.call(r,t)}function UU(e,t){if(e.Y)return!0;if(!H0){if(!t)e:{t=["window","event"];for(var n=oe,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new Sl(t,this),vT(e,t)}return vT(e,new Sl(t,this))}function Q0(e){return e=e[K0],e instanceof _d?e:null}var og="__closure_events_fn_"+(1e9*Math.random()>>>0);function X0(e){return typeof e=="function"?e:(e[og]||(e[og]=function(t){return e.handleEvent(t)}),e[og])}function Sn(){Hi.call(this),this.c=new _d(this),this.J=this,this.C=null}Kt(Sn,Hi);Sn.prototype[Kl]=!0;W=Sn.prototype;W.addEventListener=function(e,t,n,r){G0(this,e,t,n,r)};W.removeEventListener=function(e,t,n,r){vC(this,e,t,n,r)};function wt(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new At(t,e);else if(t instanceof At)t.target=t.target||e;else{var o=t;t=new At(r,e),uC(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];o=Af(a,r,!0,t)&&o}if(a=t.a=e,o=Af(a,r,!0,t)&&o,o=Af(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.a=n[s],o=Af(a,r,!1,t)&&o}W.G=function(){if(Sn.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)wd(n[r]);delete e.a[t],e.b--}}this.C=null};W.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};W.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function Af(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,f=a.ca||a.src;a.Z&&py(e.c,a),o=c.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var Y0=oe.JSON.stringify;function gC(){this.b=this.a=null}var yC=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new J0},function(e){e.reset()});gC.prototype.add=function(e,t){var n=yC.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function jU(){var e=_C,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function J0(){this.next=this.b=this.a=null}J0.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};J0.prototype.reset=function(){this.next=this.b=this.a=null};function VU(e){oe.setTimeout(function(){throw e},0)}function wC(e,t){my||$U(),gy||(my(),gy=!0),_C.add(e,t)}var my;function $U(){var e=oe.Promise.resolve(void 0);my=function(){e.then(BU)}}var gy=!1,_C=new gC;function BU(){for(var e;e=jU();){try{e.a.call(e.b)}catch(n){VU(n)}var t=yC;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}gy=!1}function Ed(e,t){Sn.call(this),this.b=e||1,this.a=t||oe,this.f=Ct(this.Za,this),this.g=Nr()}Kt(Ed,Sn);W=Ed.prototype;W.aa=!1;W.M=null;W.Za=function(){if(this.aa){var e=Nr()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),wt(this,"tick"),this.aa&&(Z0(this),this.start()))}};W.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Nr())};function Z0(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}W.G=function(){Ed.X.G.call(this),Z0(this),delete this.a};function ew(e,t,n){if(typeof e=="function")n&&(e=Ct(e,n));else if(e&&typeof e.handleEvent=="function")e=Ct(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:oe.setTimeout(e,t||0)}function EC(e){e.a=ew(function(){e.a=null,e.c&&(e.c=!1,EC(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var qU=function(e){_U(t,e);function t(n,r){var o=e.call(this)||this;return o.g=n,o.h=r,o.b=null,o.c=!1,o.a=null,o}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:EC(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(oe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Hi);function Il(e){Hi.call(this),this.b=e,this.a={}}Kt(Il,Hi);var mT=[];function SC(e,t,n,r){Array.isArray(n)||(n&&(mT[0]=n.toString()),n=mT);for(var o=0;o<n.length;o++){var s=G0(t,n[o],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function IC(e){q0(e.a,function(t,n){this.a.hasOwnProperty(n)&&W0(t)},e),e.a={}}Il.prototype.G=function(){Il.X.G.call(this),IC(this)};Il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function tw(){this.a=!0}function zU(e,t,n,r,o,s){e.info(function(){if(e.a)if(s)for(var a="",c=s.split("&"),f=0;f<c.length;f++){var d=c[f].split("=");if(1<d.length){var v=d[0];d=d[1];var y=v.split("_");a=2<=y.length&&y[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function HU(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function Zs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+GU(e,n)+(r?" "+r:"")})}function KU(e,t){e.info(function(){return"TIMEOUT: "+t})}tw.prototype.info=function(){};function GU(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Y0(n)}catch{return t}}var Zo={},gT=null;function Sd(){return gT=gT||new Sn}Zo.Fa="serverreachability";function TC(e){At.call(this,Zo.Fa,e)}Kt(TC,At);function Tl(e){var t=Sd();wt(t,new TC(t))}Zo.STAT_EVENT="statevent";function bC(e,t){At.call(this,Zo.STAT_EVENT,e),this.stat=t}Kt(bC,At);function $t(e){var t=Sd();wt(t,new bC(t,e))}Zo.Ga="timingevent";function kC(e){At.call(this,Zo.Ga,e)}Kt(kC,At);function Gl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){e()},t)}var Id={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},NC={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function CC(){}CC.prototype.a=null;function yT(e){var t;return(t=e.a)||(t=e.a={}),t}function AC(){}var Wl={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function nw(){At.call(this,"d")}Kt(nw,At);function rw(){At.call(this,"c")}Kt(rw,At);var RC;function xC(){}Kt(xC,CC);RC=new xC;function Ql(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Il(this),this.P=WU,e=hy?125:void 0,this.R=new Ed(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var WU=45e3,PC={},yy={};W=Ql.prototype;W.setTimeout=function(e){this.P=e};function wy(e,t,n){e.H=1,e.i=bd(Wr(t)),e.j=n,e.I=!0,DC(e,null)}function DC(e,t){e.u=Nr(),Xl(e),e.l=Wr(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),jC(n.b,"t",r),e.D=0,e.a=rA(e.g,e.g.C?t:null),0<e.O&&(e.F=new qU(Ct(e.Ca,e,e.a),e.O)),SC(e.J,e.a,"readystatechange",e.Xa),t=e.B?sC(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Tl(),zU(e.c,e.m,e.l,e.f,e.S,e.j)}W.Xa=function(e){e=e.target;var t=this.F;t&&Ti(e)==3?t.f():this.Ca(e)};W.Ca=function(e){try{if(e==this.a)e:{var t=Ti(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!hy&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Tl(3):Tl(2)),Td(this);var o=this.a.W();this.N=o;var s=this.a.$();if(this.b=o==200,HU(this.c,this.m,this.l,this.f,this.S,t,o),this.b){if(this.U&&!this.C){t:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xh(a)){var f=a;break t}}f=null}if(f)Zs(this.c,this.f,f,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_y(this,f);else{this.b=!1,this.h=3,$t(12),au(this),Dh(this);break e}}this.I?(OC(this,t,s),hy&&this.b&&t==3&&(SC(this.J,this.R,"tick",this.Wa),this.R.start())):(Zs(this.c,this.f,s,null),_y(this,s)),t==4&&au(this),this.b&&!this.A&&(t==4?ZC(this.g,this):(this.b=!1,Xl(this)))}else o==400&&0<s.indexOf("Unknown SID")?(this.h=3,$t(12)):(this.h=0,$t(13)),au(this),Dh(this)}}}catch{}finally{}};function OC(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var o=QU(e,n);if(o==yy){t==4&&(e.h=4,$t(14),r=!1),Zs(e.c,e.f,null,"[Incomplete Response]");break}else if(o==PC){e.h=4,$t(15),Zs(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Zs(e.c,e.f,o,null),_y(e,o)}t==4&&n.length==0&&(e.h=1,$t(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),fw(t),t.F=!0,$t(11))):(Zs(e.c,e.f,n,"[Invalid Chunked Response]"),au(e),Dh(e))}W.Wa=function(){if(this.a){var e=Ti(this.a),t=this.a.$();this.D<t.length&&(Td(this),OC(this,e,t),this.b&&e!=4&&Xl(this))}};function QU(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?yy:(n=Number(t.substring(n,r)),isNaN(n)?PC:(r+=1,r+n>t.length?yy:(t=t.substr(r,n),e.D=r+n,t)))}W.cancel=function(){this.A=!0,au(this)};function Xl(e){e.T=Nr()+e.P,LC(e,e.P)}function LC(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Gl(Ct(e.Va,e),t)}function Td(e){e.o&&(oe.clearTimeout(e.o),e.o=null)}W.Va=function(){this.o=null;var e=Nr();0<=e-this.T?(KU(this.c,this.l),this.H!=2&&(Tl(),$t(17)),au(this),this.h=2,Dh(this)):LC(this,this.T-e)};function Dh(e){e.g.v==0||e.A||ZC(e.g,e)}function au(e){Td(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,Z0(e.R),IC(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function _y(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||Ey(n.b,e))){if(n.I=e.N,!e.C&&Ey(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)Fh(n),Nd(n);else break e;cw(n),$t(18)}}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&n.o==0&&!n.m&&(n.m=Gl(Ct(n.Sa,n),6e3));if(1>=BC(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Ao(n,11)}else if((e.C||n.a==e)&&Fh(n),!xh(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(o=t[r],n.P=o[0],o=o[1],n.v==2)if(o[0]=="c"){n.J=o[1],n.ga=o[2];var s=o[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=o[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=o[5];if(c!=null&&typeof c=="number"&&0<c){var f=1.5*c;n.D=f,n.c.info("backChannelRequestTimeoutMs_="+f)}f=n;var d=e.a;if(d){var v=d.a?d.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var y=f.b;!y.a&&(jt(v,"spdy")||jt(v,"quic")||jt(v,"h2"))&&(y.f=y.g,y.a=new Set,y.b&&(sw(y,y.b),y.b=null))}if(f.A){var g=d.a?d.a.getResponseHeader("X-HTTP-Session-Id"):null;g&&(f.na=g,Me(f.B,f.A,g))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Nr()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),f=n;var _=e;if(f.la=nA(f,f.C?f.ga:null,f.fa),_.C){qC(f.b,_);var S=_,T=f.D;T&&S.setTimeout(T),S.o&&(Td(S),Xl(S)),f.a=_}else YC(f);0<n.g.length&&Cd(n)}else o[0]!="stop"&&o[0]!="close"||Ao(n,7);else n.v==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Ao(n,7):lw(n):o[0]!="noop"&&n.f&&n.f.sa(o),n.o=0)}Tl(4)}catch{}}function XU(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(fy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function iw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(fy(e)||typeof e=="string")oC(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(fy(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=XU(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Fu(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fu)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}W=Fu.prototype;W.K=function(){ow(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};W.L=function(){return ow(this),this.a.concat()};function ow(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ko(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)r=e.a[t],Ko(o,r)||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}W.get=function(e,t){return Ko(this.b,e)?this.b[e]:t};W.set=function(e,t){Ko(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};W.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Ko(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var MC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function YU(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Go(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Go){this.a=t!==void 0?t:e.a,Oh(this,e.f),this.j=e.j,Lh(this,e.c),Mh(this,e.h),this.g=e.g,t=e.b;var n=new bl;n.c=t.c,t.a&&(n.a=new Fu(t.a),n.b=t.b),wT(this,n),this.i=e.i}else e&&(n=String(e).match(MC))?(this.a=!!t,Oh(this,n[1]||"",!0),this.j=el(n[2]||""),Lh(this,n[3]||"",!0),Mh(this,n[4]),this.g=el(n[5]||"",!0),wT(this,n[6]||"",!0),this.i=el(n[7]||"")):(this.a=!!t,this.b=new bl(null,this.a))}Go.prototype.toString=function(){var e=[],t=this.f;t&&e.push(qa(t,_T,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(qa(t,_T,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(qa(n,n.charAt(0)=="/"?n3:t3,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",qa(n,i3)),e.join("")};function Wr(e){return new Go(e)}function Oh(e,t,n){e.f=n?el(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Lh(e,t,n){e.c=n?el(t,!0):t}function Mh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function wT(e,t,n){t instanceof bl?(e.b=t,o3(e.b,e.a)):(n||(t=qa(t,r3)),e.b=new bl(t,e.a))}function Me(e,t,n){e.b.set(t,n)}function bd(e){return Me(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Nr()).toString(36)),e}function JU(e){return e instanceof Go?Wr(e):new Go(e,void 0)}function ZU(e,t,n,r){var o=new Go(null,void 0);return e&&Oh(o,e),t&&Lh(o,t),n&&Mh(o,n),r&&(o.g=r),o}function el(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,e3),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function e3(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var _T=/[#\/\?@]/g,t3=/[#\?:]/g,n3=/[#\?]/g,r3=/[#\?@]/g,i3=/#/g;function bl(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ki(e){e.a||(e.a=new Fu,e.b=0,e.c&&YU(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}W=bl.prototype;W.add=function(e,t){Ki(this),this.c=null,e=Uu(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function FC(e,t){Ki(e),t=Uu(e,t),Ko(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ko(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ow(e)))}function UC(e,t){return Ki(e),t=Uu(e,t),Ko(e.a.b,t)}W.forEach=function(e,t){Ki(this),this.a.forEach(function(n,r){oC(n,function(o){e.call(t,o,r,this)},this)},this)};W.L=function(){Ki(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};W.K=function(e){Ki(this);var t=[];if(typeof e=="string")UC(this,e)&&(t=lT(t,this.a.get(Uu(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=lT(t,e[n])}return t};W.set=function(e,t){return Ki(this),this.c=null,e=Uu(this,e),UC(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};W.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function jC(e,t,n){FC(e,t),0<n.length&&(e.c=null,e.a.set(Uu(e,t),B0(n)),e.b+=n.length)}W.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Uu(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function o3(e,t){t&&!e.f&&(Ki(e),e.c=null,e.a.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(FC(this,r),jC(this,o,n))},e)),e.f=t}var s3=function(){function e(t,n){this.b=t,this.a=n}return e}();function VC(e){this.g=e||u3,oe.PerformanceNavigationTiming?(e=oe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(oe.ia&&oe.ia.ya&&oe.ia.ya()&&oe.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var u3=10;function $C(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function BC(e){return e.b?1:e.a?e.a.size:0}function Ey(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function sw(e,t){e.a?e.a.add(t):e.b=t}function qC(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}VC.prototype.cancel=function(){var e,t;if(this.c=zC(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=rC(this.a.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function zC(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var o=rC(e.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.s)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return B0(e.c)}function uw(){}uw.prototype.stringify=function(e){return oe.JSON.stringify(e,void 0)};uw.prototype.parse=function(e){return oe.JSON.parse(e,void 0)};function a3(){this.a=new uw}function l3(e,t,n){var r=n||"";try{iw(e,function(o,s){var a=o;Hl(o)&&(a=Y0(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function c3(e,t){var n=new tw;if(oe.Image){var r=new Image;r.onload=Cf(Rf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cf(Rf,n,r,"TestLoadImage: error",!1,t),r.onabort=Cf(Rf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cf(Rf,n,r,"TestLoadImage: timeout",!1,t),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Rf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}var f3=oe.JSON.parse;function lt(e){Sn.call(this),this.headers=new Fu,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=h3,this.D=this.F=!1}Kt(lt,Sn);var h3="",d3=/^https?$/i,p3=["POST","PUT"];W=lt.prototype;W.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?yT(this.H):yT(RC),this.a.onreadystatechange=Ct(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){ET(this,s);return}e=n||"";var o=new Fu(this.headers);r&&iw(r,function(s,a){o.set(a,s)}),r=NU(o.L()),n=oe.FormData&&e instanceof oe.FormData,!(0<=iC(p3,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{GC(this),0<this.o&&((this.D=v3(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ct(this.xa,this)):this.m=ew(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){ET(this,s)}};function v3(e){return Ui&&fC(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function m3(e){return e.toLowerCase()=="content-type"}W.xa=function(){typeof $0<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,wt(this,"timeout"),this.abort(8))};function ET(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,HC(e),kd(e)}function HC(e){e.u||(e.u=!0,wt(e,"complete"),wt(e,"error"))}W.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,wt(this,"complete"),wt(this,"abort"),kd(this))};W.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kd(this,!0)),lt.X.G.call(this)};W.za=function(){this.j||(this.A||this.l||this.g?KC(this):this.Ua())};W.Ua=function(){KC(this)};function KC(e){if(e.b&&typeof $0<"u"&&(!e.s[1]||Ti(e)!=4||e.W()!=2)){if(e.l&&Ti(e)==4)ew(e.za,0,e);else if(wt(e,"readystatechange"),Ti(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.B).match(MC)[1]||null;if(!s&&oe.self&&oe.self.location){var a=oe.self.location.protocol;s=a.substr(0,a.length-1)}o=!d3.test(s?s.toLowerCase():"")}r=o}var c=r}if(c)wt(e,"complete"),wt(e,"success");else{e.h=6;try{var f=2<Ti(e)?e.a.statusText:""}catch{f=""}e.f=f+" ["+e.W()+"]",HC(e)}}finally{kd(e)}}}}function kd(e,t){if(e.a){GC(e);var n=e.a,r=e.s[0]?Rh:null;e.a=null,e.s=null,t||wt(e,"ready");try{n.onreadystatechange=r}catch{}}}function GC(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(oe.clearTimeout(e.m),e.m=null)}function Ti(e){return e.a?e.a.readyState:0}W.W=function(){try{return 2<Ti(this)?this.a.status:-1}catch{return-1}};W.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};W.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),f3(t)}};W.ua=function(){return this.h};W.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function g3(e){var t="";return q0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function aw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=g3(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Me(e,t,n))}function Fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function WC(e){this.pa=0,this.g=[],this.c=new tw,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Fa("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Fa("baseRetryDelayMs",5e3,e),this.Ra=Fa("retryDelaySeedMs",1e4,e),this.Ma=Fa("forwardChannelMaxRetries",2,e),this.ma=Fa("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new VC(e&&e.concurrentRequestLimit),this.ka=new a3,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}W=WC.prototype;W.ha=8;W.v=1;function lw(e){if(QC(e),e.v==3){var t=e.R++,n=Wr(e.B);Me(n,"SID",e.J),Me(n,"RID",t),Me(n,"TYPE","terminate"),Yl(e,n),t=new Ql(e,e.c,t,void 0),t.H=2,t.i=bd(Wr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(t.i.toString(),"")),!n&&oe.Image&&(new Image().src=t.i,n=!0),n||(t.a=rA(t.g,null),t.a.ba(t.i)),t.u=Nr(),Xl(t)}tA(e)}function Nd(e){e.a&&(fw(e),e.a.cancel(),e.a=null)}function QC(e){Nd(e),e.j&&(oe.clearTimeout(e.j),e.j=null),Fh(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&oe.clearTimeout(e.h),e.h=null)}function sg(e,t){e.g.push(new s3(e.Oa++,t)),e.v==3&&Cd(e)}function Cd(e){$C(e.b)||e.h||(e.h=!0,wC(e.Ba,e),e.u=0)}function y3(e,t){return BC(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Gl(Ct(e.Ba,e,t),eA(e,e.u)),e.u++,!0)}W.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Ql(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=sC(n),uC(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var o=r=0;o<this.g.length;o++){t:{var s=this.g[o];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.g.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=XC(this,t,r),o=Wr(this.B),Me(o,"RID",e),Me(o,"CVER",22),this.A&&Me(o,"X-HTTP-Session-Id",this.A),Yl(this,o),this.i&&n&&aw(o,this.i,n),sw(this.b,t),this.Ia&&Me(o,"TYPE","init"),this.da?(Me(o,"$req",r),Me(o,"SID","null"),t.U=!0,wy(t,o,null)):wy(t,o,r),this.v=2}}else this.v==3&&(e?ST(this,e):this.g.length==0||$C(this.b)||ST(this))};function ST(e,t){var n;t?n=t.f:n=e.R++;var r=Wr(e.B);Me(r,"SID",e.J),Me(r,"RID",n),Me(r,"AID",e.P),Yl(e,r),e.i&&e.l&&aw(r,e.i,e.l),n=new Ql(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=XC(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),sw(e.b,n),wy(n,r,t)}function Yl(e,t){e.f&&iw({},function(n,r){Me(t,r,n)})}function XC(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Ct(e.f.Ja,e.f,e):null;e:for(var o=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,f=0;f<n;f++){var d=o[f].b,v=o[f].a;if(d-=s,0>d)s=Math.max(0,o[f].b-100),c=!1;else try{l3(v,a,"req"+d+"_")}catch{r&&r(v)}}if(c){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function YC(e){e.a||e.j||(e.T=1,wC(e.Aa,e),e.o=0)}function cw(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Gl(Ct(e.Aa,e),eA(e,e.o)),e.o++,!0)}W.Aa=function(){if(this.j=null,JC(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Gl(Ct(this.Ta,this),e)}};W.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$t(10),Nd(this),JC(this))};function fw(e){e.s!=null&&(oe.clearTimeout(e.s),e.s=null)}function JC(e){e.a=new Ql(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Wr(e.la);Me(t,"RID","rpc"),Me(t,"SID",e.J),Me(t,"CI",e.H?"0":"1"),Me(t,"AID",e.P),Yl(e,t),Me(t,"TYPE","xmlhttp"),e.i&&e.l&&aw(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=bd(Wr(t)),n.j=null,n.I=!0,DC(n,e)}W.Sa=function(){this.m!=null&&(this.m=null,Nd(this),cw(this),$t(19))};function Fh(e){e.m!=null&&(oe.clearTimeout(e.m),e.m=null)}function ZC(e,t){var n=null;if(e.a==t){Fh(e),fw(e),e.a=null;var r=2}else if(Ey(e.b,t))n=t.s,qC(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Nr()-t.u;var o=e.u;r=Sd(),wt(r,new kC(r)),Cd(e)}else YC(e);else if(o=t.h,o==3||o==0&&0<e.I||!(r==1&&y3(e,t)||r==2&&cw(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),o){case 1:Ao(e,5);break;case 4:Ao(e,10);break;case 3:Ao(e,6);break;default:Ao(e,2)}}}function eA(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Ao(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Ct(e.Ya,e);n||(n=new Go("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Oh(n,"https"),bd(n)),c3(n.toString(),r)}else $t(2);e.v=0,e.f&&e.f.ra(t),tA(e),QC(e)}W.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),$t(2)):(this.c.info("Failed to ping google.com"),$t(1))};function tA(e){e.v=0,e.I=-1,e.f&&((zC(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,B0(e.g),e.g.length=0),e.f.qa())}function nA(e,t,n){var r=JU(n);if(r.c!="")t&&Lh(r,t+"."+r.c),Mh(r,r.h);else{var o=oe.location;r=ZU(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.V&&q0(e.V,function(s,a){Me(r,a,s)}),t=e.A,n=e.na,t&&n&&Me(r,t,n),Me(r,"VER",e.ha),Yl(e,r),r}function rA(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new lt(e.Na),t.F=e.C,t}function iA(){}W=iA.prototype;W.ta=function(){};W.sa=function(){};W.ra=function(){};W.qa=function(){};W.Ja=function(){};function Uh(){if(Ui&&!(10<=Number(hC)))throw Error("Environmental error: no available transport.")}Uh.prototype.a=function(e,t){return new In(e,t)};function In(e,t){Sn.call(this),this.a=new WC(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!xh(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xh(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new ju(this)}Kt(In,Sn);In.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;$t(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=nA(e,null,e.fa),Cd(e)};In.prototype.close=function(){lw(this.a)};In.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,sg(this.a,t)}else this.l?(t={},t.__data__=Y0(e),sg(this.a,t)):sg(this.a,e)};In.prototype.G=function(){this.a.f=null,delete this.f,lw(this.a),delete this.a,In.X.G.call(this)};function oA(e){nw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Kt(oA,nw);function sA(){rw.call(this),this.status=1}Kt(sA,rw);function ju(e){this.a=e}Kt(ju,iA);ju.prototype.ta=function(){wt(this.a,"a")};ju.prototype.sa=function(e){wt(this.a,new oA(e))};ju.prototype.ra=function(e){wt(this.a,new sA)};ju.prototype.qa=function(){wt(this.a,"b")};Uh.prototype.createWebChannel=Uh.prototype.a;In.prototype.send=In.prototype.h;In.prototype.open=In.prototype.g;In.prototype.close=In.prototype.close;Id.NO_ERROR=0;Id.TIMEOUT=8;Id.HTTP_ERROR=6;NC.COMPLETE="complete";AC.EventType=Wl;Wl.OPEN="a";Wl.CLOSE="b";Wl.ERROR="c";Wl.MESSAGE="d";Sn.prototype.listen=Sn.prototype.va;lt.prototype.listenOnce=lt.prototype.wa;lt.prototype.getLastError=lt.prototype.Qa;lt.prototype.getLastErrorCode=lt.prototype.ua;lt.prototype.getStatus=lt.prototype.W;lt.prototype.getResponseJson=lt.prototype.Pa;lt.prototype.getResponseText=lt.prototype.$;lt.prototype.send=lt.prototype.ba;var w3=function(){return new Uh},_3=function(){return Sd()},ug=Id,E3=NC,S3=Zo,IT={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},xf=AC,I3=lt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();gn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Z(t,e),t}(Error),rr=new eC("@firebase/firestore");function Sy(){return rr.logLevel}function B(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(rr.logLevel<=ge.DEBUG){var r=t.map(hw);rr.debug.apply(rr,Oe(["Firestore (8.5.0): "+e],r))}}function tt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(rr.logLevel<=ge.ERROR){var r=t.map(hw);rr.error.apply(rr,Oe(["Firestore (8.5.0): "+e],r))}}function Iy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(rr.logLevel<=ge.WARN){var r=t.map(hw);rr.warn.apply(rr,Oe(["Firestore (8.5.0): "+e],r))}}function hw(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw tt(t),new Error(t)}function te(e,t){e||X()}function z(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=T3(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function ce(e,t){return e<t?-1:e>t?1:0}function yu(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function aA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ce(this.nanoseconds,t.nanoseconds):ce(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ue=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new sn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&X(),r===void 0?r=t.length-n:r>t.length-n&&X(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ye=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new j(x.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");o.push.apply(o,c.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(cA),b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return b3.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},c=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new j(x.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new j(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(o+=f,s++):(a(),s++)}if(a(),c)throw new j(x.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(cA),wu=function(){function e(t){this.fields=t,t.sort(jn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return yu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),un=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ce(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();un.EMPTY_BYTE_STRING=new un("");var k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(e){if(te(!!e),typeof e=="string"){var t=0,n=k3.exec(e);if(te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ze(e.seconds),nanos:Ze(e.nanos)}}function Ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _u(e){return typeof e=="string"?un.fromBase64String(e):un.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fA(e){var t=e.mapValue.fields.__previous_value__;return dw(t)?fA(t):t}function kl(e){var t=ji(e.mapValue.fields.__local_write_time__.timestampValue);return new sn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(e){return e==null}function jh(e){return e===0&&1/e==-1/0}function hA(e){return typeof e=="number"&&Number.isInteger(e)&&!jh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ye.fromString(t))},e.fromName=function(t){return new e(ye.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ye.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ye.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ye(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dw(e)?4:10:X()}function br(e,t){var n=Vi(e);if(n!==Vi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kl(e).isEqual(kl(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=ji(r.timestampValue),a=ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return _u(r.bytesValue).isEqual(_u(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ze(r.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ze(r.integerValue)===Ze(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Ze(r.doubleValue),a=Ze(o.doubleValue);return s===a?jh(s)===jh(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return yu(e.arrayValue.values||[],t.arrayValue.values||[],br);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(TT(s)!==TT(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!br(s[c],a[c])))return!1;return!0}(e,t);default:return X()}}function Nl(e,t){return(e.values||[]).find(function(n){return br(n,t)})!==void 0}function Eu(e,t){var n=Vi(e),r=Vi(t);if(n!==r)return ce(n,r);switch(n){case 0:return 0;case 1:return ce(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ze(o.integerValue||o.doubleValue),c=Ze(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return bT(e.timestampValue,t.timestampValue);case 4:return bT(kl(e),kl(t));case 5:return ce(e.stringValue,t.stringValue);case 6:return function(o,s){var a=_u(o),c=_u(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),c=s.split("/"),f=0;f<a.length&&f<c.length;f++){var d=ce(a[f],c[f]);if(d!==0)return d}return ce(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=ce(Ze(o.latitude),Ze(s.latitude));return a!==0?a:ce(Ze(o.longitude),Ze(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],c=s.values||[],f=0;f<a.length&&f<c.length;++f){var d=Eu(a[f],c[f]);if(d)return d}return ce(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},c=Object.keys(a),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(var v=0;v<c.length&&v<d.length;++v){var y=ce(c[v],d[v]);if(y!==0)return y;var g=Eu(a[c[v]],f[d[v]]);if(g!==0)return g}return ce(c.length,d.length)}(e.mapValue,t.mapValue);default:throw X()}}function bT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ce(e,t);var n=ji(e),r=ji(t),o=ce(n.seconds,r.seconds);return o!==0?o:ce(n.nanos,r.nanos)}function pw(e){return Ty(e)}function Ty(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=ji(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_u(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Y.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:o+=",",o+=Ty(c[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var f=c[a];s?s=!1:o+=",",o+=f+":"+Ty(r.fields[f])}return o+"}"}(e.mapValue):X();var t,n}function Vh(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function by(e){return!!e&&"integerValue"in e}function vw(e){return!!e&&"arrayValue"in e}function kT(e){return!!e&&"nullValue"in e}function NT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ky(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(jn.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,o){r?n.set(o,r):n.delete(o)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return br(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,o=0;o<t.length-1;++o){var s=t.get(o),a=r.get(s);a instanceof Map?r=a:a&&Vi(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,o=!1,s=e.extractNestedValue(this.partialValue,t),a=ky(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,f){if(c instanceof Map){var d=r.applyOverlay(t.child(f),c);d!=null&&(a[f]=d,o=!0)}else c!==null?(a[f]=c,o=!0):a.hasOwnProperty(f)&&(delete a[f],o=!0)}),o?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(jn.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,o=0;o<n.length-1;++o)if(!r.mapValue.fields||!ky(r=r.mapValue.fields[n.get(o)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function dA(e){var t=[];return Jl(e.fields||{},function(n,r){var o=new jn([n]);if(ky(r)){var s=dA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,c=s;a<c.length;a++){var f=c[a];t.push(o.child(f))}}else t.push(o)}),new wu(t)}var xt=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ue.min(),vn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,vn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,vn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),N3=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new N3(e,t,n,r,o,s,a)}function Zl(e){var t=z(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+pw(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),es(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Bh(t.startAt)),t.endAt&&(n+="|ub:",n+=Bh(t.endAt)),t.h=n}return t.h}function Ad(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!L3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!br(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RT(e.startAt,t.startAt)&&RT(e.endAt,t.endAt)}function $h(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var yn=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Z(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new C3(n,r,o):r==="array-contains"?new x3(n,o):r==="in"?new P3(n,o):r==="not-in"?new D3(n,o):r==="array-contains-any"?new O3(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new A3(n,o):new R3(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Eu(r,this.value)):r!==null&&Vi(this.value)===Vi(r)&&this.m(Eu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return X()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),C3=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Y.fromName(o.referenceValue),s}return Z(t,e),t.prototype.matches=function(n){var r=Y.comparator(n.key,this.key);return this.m(r)},t}(yn),A3=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=pA("in",r),o}return Z(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(yn),R3=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=pA("not-in",r),o}return Z(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(yn);function pA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Y.fromName(r.referenceValue)})}var x3=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Z(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return vw(r)&&Nl(r.arrayValue,this.value)},t}(yn),P3=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Z(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Nl(this.value.arrayValue,r)},t}(yn),D3=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Z(t,e),t.prototype.matches=function(n){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Nl(this.value.arrayValue,r)},t}(yn),O3=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Z(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!vw(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Nl(r.value.arrayValue,s)})},t}(yn),Cl=function(e,t){this.position=e,this.before=t};function Bh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return pw(t)}).join(",")}var lu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function L3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function AT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?Y.comparator(Y.fromName(a.referenceValue),n.key):Eu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function RT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!br(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(e,t,n,r,o,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function vA(e,t,n,r,o,s,a,c){return new Xr(e,t,n,r,o,s,a,c)}function ec(e){return new Xr(e)}function Zf(e){return!es(e.limit)&&e.limitType==="F"}function qh(e){return!es(e.limit)&&e.limitType==="L"}function mw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gw(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function yw(e){return e.collectionGroup!==null}function Su(e){var t=z(e);if(t.p===null){t.p=[];var n=gw(t),r=mw(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new lu(n)),t.p.push(new lu(jn.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var c=a[s];t.p.push(c),c.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new lu(jn.keyField(),f))}}}return t.p}function kr(e){var t=z(e);if(!t.T)if(t.limitType==="F")t.T=CT(t.path,t.collectionGroup,Su(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Su(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new lu(s.field,a))}var c=t.endAt?new Cl(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Cl(t.startAt.position,!t.startAt.before):null;t.T=CT(t.path,t.collectionGroup,n,t.filters,t.limit,c,f)}return t.T}function mA(e,t,n){return new Xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tc(e,t){return Ad(kr(e),kr(t))&&e.limitType===t.limitType}function gA(e){return Zl(kr(e))+"|lt:"+e.limitType}function Ny(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+pw(o.value);var o}).join(", ")+"]"),es(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Bh(t.startAt)),t.endAt&&(n+=", endAt: "+Bh(t.endAt)),"Target("+n+")"}(kr(e))+"; limitType="+e.limitType+")"}function nc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Y.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!AT(n.startAt,Su(n),r))&&(!n.endAt||!AT(n.endAt,Su(n),r))}(e,t)}function yA(e){return function(t,n){for(var r=!1,o=0,s=Su(e);o<s.length;o++){var a=s[o],c=M3(a,t,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function M3(e,t,n){var r=e.field.isKeyField()?Y.comparator(t.key,n.key):function(o,s,a){var c=s.data.field(o),f=a.data.field(o);return c!==null&&f!==null?Eu(c,f):X()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function _A(e){return{integerValue:""+e}}function EA(e,t){return hA(t)?_A(t):wA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(){this._=void 0};function F3(e,t,n){return e instanceof Iu?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Wo?IA(e,t):e instanceof Qo?TA(e,t):function(r,o){var s=SA(r,o),a=xT(s)+xT(r.A);return by(s)&&by(r.A)?_A(a):wA(r.R,a)}(e,t)}function U3(e,t,n){return e instanceof Wo?IA(e,t):e instanceof Qo?TA(e,t):n}function SA(e,t){return e instanceof Tu?by(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Iu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t}(Rd),Wo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Z(t,e),t}(Rd);function IA(e,t){for(var n=bA(t),r=function(a){n.some(function(c){return br(c,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Qo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Z(t,e),t}(Rd);function TA(e,t){for(var n=bA(t),r=function(a){n=n.filter(function(c){return!br(c,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Tu=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Z(t,e),t}(Rd);function xT(e){return Ze(e.integerValue||e.doubleValue)}function bA(e){return vw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(e,t){this.field=e,this.transform=t},j3=function(e,t){this.version=e,this.transformResults=t},Nt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function eh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var xd=function(){};function V3(e,t,n){e instanceof ic?function(r,o,s){var a=r.value.clone(),c=OT(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Gi?function(r,o,s){if(eh(r.precondition,o)){var a=OT(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(kA(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Cy(e,t,n){e instanceof ic?function(r,o,s){if(eh(r.precondition,o)){var a=r.value.clone(),c=LT(r.fieldTransforms,s,o);a.setAll(c),o.convertToFoundDocument(DT(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Gi?function(r,o,s){if(eh(r.precondition,o)){var a=LT(r.fieldTransforms,s,o),c=o.data;c.setAll(kA(r)),c.setAll(a),o.convertToFoundDocument(DT(o),c).setHasLocalMutations()}}(e,t,n):function(r,o){eh(r.precondition,o)&&o.convertToNoDocument(ue.min())}(e,t)}function $3(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),c=SA(s.transform,a||null);c!=null&&(n==null&&(n=vn.empty()),n.set(s.field,c))}return n||null}function PT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&yu(n,r,function(o,s){return function(a,c){return a.field.isEqual(c.field)&&function(f,d){return f instanceof Wo&&d instanceof Wo||f instanceof Qo&&d instanceof Qo?yu(f.elements,d.elements,br):f instanceof Tu&&d instanceof Tu?br(f.A,d.A):f instanceof Iu&&d instanceof Iu}(a.transform,c.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function DT(e){return e.isFoundDocument()?e.version:ue.min()}var ic=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return Z(t,e),t}(xd),Gi=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=o,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return Z(t,e),t}(xd);function kA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function OT(e,t,n){var r=new Map;te(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,c=t.data.field(s.field);r.set(s.field,U3(a,c,n[o]))}return r}function LT(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],c=a.transform,f=n.data.field(a.field);r.set(a.field,F3(c,f,t))}return r}var Je,de,oc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Z(t,e),t}(xd),ww=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Z(t,e),t}(xd),B3=function(e){this.count=e};function NA(e){switch(e){case x.OK:return X();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return X()}}function CA(e){if(e===void 0)return tt("GRPC error has no .code"),x.UNKNOWN;switch(e){case Je.OK:return x.OK;case Je.CANCELLED:return x.CANCELLED;case Je.UNKNOWN:return x.UNKNOWN;case Je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Je.INTERNAL:return x.INTERNAL;case Je.UNAVAILABLE:return x.UNAVAILABLE;case Je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Je.NOT_FOUND:return x.NOT_FOUND;case Je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Je.ABORTED:return x.ABORTED;case Je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Je.DATA_LOSS:return x.DATA_LOSS;default:return X()}}(de=Je||(Je={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(t,n){this.comparator=t,this.root=n||yi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Pf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Pf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Pf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Pf(this.root,t,this.comparator,!0)},e}(),Pf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),yi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r!=null?r:e.RED,this.left=o!=null?o:e.EMPTY,this.right=s!=null?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t!=null?t:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,s!=null?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();var t=this.left.check();if(t!==this.right.check())throw X();return t+(this.isRed()?0:1)},e}();yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw X()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw X()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new yi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(){function e(t){this.comparator=t,this.data=new Pt(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new MT(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new MT(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),MT=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),q3=new Pt(Y.comparator);function ir(){return q3}var z3=new Pt(Y.comparator);function Ay(){return z3}var H3=new Pt(Y.comparator);function K3(){return H3}var G3=new at(Y.comparator);function Ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=G3,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var W3=new at(ce);function Pd(){return W3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _w=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ew.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ue.min(),r,Pd(),ir(),Ne())},e}(),Ew=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(un.EMPTY_BYTE_STRING,n,Ne(),Ne(),Ne())},e}(),th=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},AA=function(e,t){this.targetId=e,this.V=t},RA=function(e,t,n,r){n===void 0&&(n=un.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},FT=function(){function e(){this.S=0,this.D=jT(),this.C=un.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Ne(),n=Ne(),r=Ne();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:X()}}),new Ew(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=jT()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Q3=function(){function e(t){this.W=t,this.G=new Map,this.H=ir(),this.J=UT(),this.Y=new at(ce)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.$(t.resumeToken);break;case 1:o.K(),o.k||o.L(),o.$(t.resumeToken);break;case 2:o.K(),o.k||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.$(t.resumeToken));break;default:X()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if($h(s))if(r===0){var a=new Y(s.path);this.tt(n,a,xt.newNoDocument(a,ue.min()))}else te(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,c){var f=n.ot(c);if(f){if(a.current&&$h(f.target)){var d=new Y(f.target.path);n.H.get(d)!==null||n.at(c,d)||n.tt(c,d,xt.newNoDocument(d,t))}a.O&&(r.set(c,a.M()),a.L())}});var o=Ne();this.J.forEach(function(a,c){var f=!0;c.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new _w(t,r,this.Y,this.H,o);return this.H=ir(),this.J=UT(),this.Y=new at(ce),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new FT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new at(ce),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new FT),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function UT(){return new Pt(Y.comparator)}function jT(){return new Pt(Y.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X3={asc:"ASCENDING",desc:"DESCENDING"},Y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3=function(e,t){this.databaseId=e,this.I=t};function Al(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function xA(e,t){return e.I?t.toBase64():t.toUint8Array()}function Z3(e,t){return Al(e,t.toTimestamp())}function Bt(e){return te(!!e),ue.fromTimestamp(function(t){var n=ji(t);return new sn(n.seconds,n.nanos)}(e))}function Sw(e,t){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function PA(e){var t=ye.fromString(e);return te(jA(t)),t}function Rl(e,t){return Sw(e.databaseId,t.path)}function $r(e,t){var n=PA(t);if(n.get(1)!==e.databaseId.projectId)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(OA(n))}function Ry(e,t){return Sw(e.databaseId,t)}function DA(e){var t=PA(e);return t.length===4?ye.emptyPath():OA(t)}function xl(e){return new ye(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function OA(e){return te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function VT(e,t,n){return{name:Rl(e,t),fields:n.toProto().mapValue.fields}}function ej(e,t,n){var r=$r(e,t.name),o=Bt(t.updateTime),s=new vn({mapValue:{fields:t.fields}}),a=xt.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zh(e,t){var n;if(t instanceof ic)n={update:VT(e,t.key,t.value)};else if(t instanceof oc)n={delete:Rl(e,t.key)};else if(t instanceof Gi)n={update:VT(e,t.key,t.data),updateMask:oj(t.fieldMask)};else{if(!(t instanceof ww))return X();n={verify:Rl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof Iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tu)return{fieldPath:s.field.canonicalString(),increment:a.A};throw X()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Z3(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(e,t.precondition)),n}function $T(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?Nt.updateTime(Bt(d.updateTime)):d.exists!==void 0?Nt.exists(d.exists):Nt.none()}(t.currentDocument):Nt.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(v,y){var g=null;if("setToServerValue"in y)te(y.setToServerValue==="REQUEST_TIME"),g=new Iu;else if("appendMissingElements"in y){var _=y.appendMissingElements.values||[];g=new Wo(_)}else if("removeAllFromArray"in y){var S=y.removeAllFromArray.values||[];g=new Qo(S)}else"increment"in y?g=new Tu(v,y.increment):X();var T=jn.fromServerFormat(y.fieldPath);return new rc(T,g)}(e,d)}):[];if(t.update){t.update.name;var o=$r(e,t.update.name),s=new vn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var v=d.fieldPaths||[];return new wu(v.map(function(y){return jn.fromServerFormat(y)}))}(t.updateMask);return new Gi(o,s,a,n,r)}return new ic(o,s,n,r)}if(t.delete){var c=$r(e,t.delete);return new oc(c,n)}if(t.verify){var f=$r(e,t.verify);return new ww(f,n)}return X()}function LA(e,t){return{documents:[Ry(e,t.path)]}}function MA(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ry(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ry(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(c){if(c.length!==0){var f=c.map(function(d){return function(v){if(v.op==="=="){if(NT(v.value))return{unaryFilter:{field:Ds(v.field),op:"IS_NAN"}};if(kT(v.value))return{unaryFilter:{field:Ds(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(NT(v.value))return{unaryFilter:{field:Ds(v.field),op:"IS_NOT_NAN"}};if(kT(v.value))return{unaryFilter:{field:Ds(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(v.field),op:nj(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(c){if(c.length!==0)return c.map(function(f){return function(d){return{field:Ds(d.field),direction:tj(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,f){return c.I||es(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=BT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=BT(t.endAt)),n}function FA(e){var t=DA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){te(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=UA(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(y){return function(g){return new lu(eu(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(y)}));var f=null;n.limit&&(f=function(y){var g;return es(g=typeof y=="object"?y.value:y)?null:g}(n.limit));var d=null;n.startAt&&(d=qT(n.startAt));var v=null;return n.endAt&&(v=qT(n.endAt)),vA(t,o,c,a,f,"F",d,v)}function UA(e){return e?e.unaryFilter!==void 0?[ij(e)]:e.fieldFilter!==void 0?[rj(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return UA(t)}).reduce(function(t,n){return t.concat(n)}):X():[]}function BT(e){return{before:e.before,values:e.position}}function qT(e){var t=!!e.before,n=e.values||[];return new Cl(n,t)}function tj(e){return X3[e]}function nj(e){return Y3[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function eu(e){return jn.fromServerFormat(e.fieldPath)}function rj(e){return yn.create(eu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return X()}}(e.fieldFilter.op),e.fieldFilter.value)}function ij(e){switch(e.unaryFilter.op){case"IS_NAN":var t=eu(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=eu(e.unaryFilter.field);return yn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=eu(e.unaryFilter.field);return yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=eu(e.unaryFilter.field);return yn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return X()}}function oj(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function jA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zT(t)),t=sj(e.get(n),t);return zT(t)}function sj(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zT(e){return e+""}function jr(e){var t=e.length;if(te(t>=2),t===2)return te(e.charAt(0)===""&&e.charAt(1)===""),ye.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&X(),e.charAt(a+1)){case"":var c=e.substring(s,a),f=void 0;o.length===0?f=c:(f=o+=c,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:X()}s=a+2}return new ye(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uj=function(e,t){this.seconds=e,this.nanoseconds=t},dn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};dn.store="owner",dn.key="owner";var Di=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Di.store="mutationQueues",Di.keyPath="userId";var Re=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Re.store="mutations",Re.keyPath="batchId",Re.userMutationsIndex="userMutationsIndex",Re.userMutationsKeyPath=["userId","batchId"];var bt=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,or(n)]},e.key=function(t,n,r){return[t,or(n),r]},e}();bt.store="documentMutations",bt.PLACEHOLDER=new bt;var aj=function(e,t){this.path=e,this.readTime=t},lj=function(e,t){this.path=e,this.version=t},He=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};He.store="remoteDocuments",He.readTimeIndex="readTimeIndex",He.readTimeIndexPath="readTime",He.collectionReadTimeIndex="collectionReadTimeIndex",He.collectionReadTimeIndexPath=["parentPath","readTime"];var _r=function(e){this.byteSize=e};_r.store="remoteDocumentGlobal",_r.key="remoteDocumentGlobalKey";var tn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};tn.store="targets",tn.keyPath="targetId",tn.queryTargetsIndexName="queryTargetsIndex",tn.queryTargetsKeyPath=["canonicalId","targetId"];var gt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gt.store="targetDocuments",gt.keyPath=["targetId","path"],gt.documentTargetsIndex="documentTargetsIndex",gt.documentTargetsKeyPath=["path","targetId"];var pn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};pn.key="targetGlobalKey",pn.store="targetGlobal";var Oo=function(e,t){this.collectionId=e,this.parent=t};Oo.store="collectionParents",Oo.keyPath=["collectionId","parent"];var Br=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Br.store="clientMetadata",Br.keyPath="clientId";var bu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};bu.store="bundles",bu.keyPath="bundleId";var ku=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ku.store="namedQueries",ku.keyPath="name";var cj=Oe(Oe([],Oe(Oe([],Oe(Oe([],Oe(Oe([],[Di.store,Re.store,bt.store,He.store,tn.store,dn.store,pn.store,gt.store]),[Br.store])),[_r.store])),[Oo.store])),[bu.store,ku.store]),VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$A=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Tn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(c){++o,c.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),BA=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Tn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new tl(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=Iw(o.target.error);r.ft.reject(new tl(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new tl(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(B("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new hj(n)},e}(),Nu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Ho())===12.2&&tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return B("SimpleDb","Removing database:",t),To(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Ho(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return F(this,void 0,void 0,function(){var n,r=this;return M(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(B("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(f){var d=f.target.result;s(d)},c.onblocked=function(){a(new tl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new j(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new tl(t,d))},c.onupgradeneeded=function(f){B("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,c.transaction,f.oldVersion,r.version).next(function(){B("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return F(this,void 0,void 0,function(){var s,a,c,f,d;return M(this,function(v){switch(v.label){case 0:s=n==="readonly",a=0,c=function(){var y,g,_,S,T;return M(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=C.sent(),y=BA.open(f.db,t,s?"readonly":"readwrite",r),g=o(y).catch(function(I){return y.abort(I),V.reject(I)}).toPromise(),_={},g.catch(function(){}),[4,y.dt];case 3:return[2,(_.value=(C.sent(),g),_)];case 4:return S=C.sent(),T=S.name!=="FirebaseError"&&a<3,B("SimpleDb","Transaction failed with error:",S.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(S)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,c()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),fj=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return To(this.Pt.delete())},e}(),tl=function(e){function t(n,r){var o=this;return(o=e.call(this,x.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Z(t,e),t}(j);function ts(e){return e.name==="IndexedDbTransactionError"}var hj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(B("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(B("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),To(r)},e.prototype.add=function(t){return B("SimpleDb","ADD",this.store.name,t,t),To(this.store.add(t))},e.prototype.get=function(t){var n=this;return To(this.store.get(t)).next(function(r){return r===void 0&&(r=null),B("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return B("SimpleDb","DELETE",this.store.name,t),To(this.store.delete(t))},e.prototype.count=function(){return B("SimpleDb","COUNT",this.store.name),To(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.Ft=function(t,n){B("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var o=this.cursor(r);return this.xt(o,function(s,a,c){return c.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.$t=function(t){var n=this.cursor({});return new V(function(r,o){n.onerror=function(s){var a=Iw(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var f=new fj(c),d=n(c.primaryKey,c.value,f);if(d instanceof V){var v=d.catch(function(y){return f.done(),V.reject(y)});r.push(v)}f.isDone?o():f.Dt===null?c.continue():c.continue(f.Dt)}else o()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function To(e){return new V(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=Iw(r.target.error);n(o)}})}var HT=!1;function Iw(e){var t=Nu._t(Ho());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return HT||(HT=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KT=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Z(t,e),t}($A);function an(e,t){var n=z(e);return Nu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tw=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&V3(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&Cy(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&Cy(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(ue.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ne())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&yu(this.mutations,t.mutations,function(n,r){return PT(n,r)})&&yu(this.baseMutations,t.baseMutations,function(n,r){return PT(n,r)})},e}(),dj=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){te(t.mutations.length===r.length);for(var o=K3(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),Dd=function(){function e(t,n,r,o,s,a,c){s===void 0&&(s=ue.min()),a===void 0&&(a=ue.min()),c===void 0&&(c=un.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),qA=function(e){this.Lt=e};function xy(e,t){if(t.document)return ej(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Y.fromSegments(t.noDocument.path),r=Au(t.noDocument.readTime),o=xt.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Y.fromSegments(t.unknownDocument.path);return r=Au(t.unknownDocument.version),xt.newUnknownDocument(s,r)}return X()}function GT(e,t,n){var r=bw(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(y,g){return{name:Rl(y,g.key),fields:g.data.toProto().mapValue.fields,updateTime:Al(y,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new He(null,null,s,a,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),f=Cu(t.version);return a=t.hasCommittedMutations,new He(null,new aj(c,f),null,a,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),v=Cu(t.version);return new He(new lj(d,v),null,null,!0,r,o)}return X()}function bw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zA(e){var t=new sn(e[0],e[1]);return ue.fromTimestamp(t)}function Cu(e){var t=e.toTimestamp();return new uj(t.seconds,t.nanoseconds)}function Au(e){var t=new sn(e.seconds,e.nanoseconds);return ue.fromTimestamp(t)}function js(e,t){for(var n=(t.baseMutations||[]).map(function(f){return $T(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return $T(e.Lt,f)}),c=sn.fromMillis(t.localWriteTimeMs);return new Tw(t.batchId,c,n,a)}function za(e){var t,n,r=Au(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Au(e.lastLimboFreeSnapshotVersion):ue.min();return e.query.documents!==void 0?(te((n=e.query).documents.length===1),t=kr(ec(DA(n.documents[0])))):t=function(s){return kr(FA(s))}(e.query),new Dd(t,e.targetId,0,e.lastListenSequenceNumber,r,o,un.fromBase64String(e.resumeToken))}function HA(e,t){var n,r=Cu(t.snapshotVersion),o=Cu(t.lastLimboFreeSnapshotVersion);n=$h(t.target)?LA(e.Lt,t.target):MA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new tn(t.targetId,Zl(t.target),r,s,t.sequenceNumber,o,n)}function KA(e){var t=FA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return WT(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Au(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return WT(t).put({bundleId:(r=n).id,createTime:Cu(Bt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return QT(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:KA(o.bundledQuery),readTime:Au(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return QT(t).put(function(r){return{name:r.name,readTime:Cu(Bt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function WT(e){return an(e,bu.store)}function QT(e){return an(e,ku.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vj=function(){function e(){this.Bt=new kw}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),kw=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new at(ye.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new at(ye.comparator)).toArray()},e}(),mj=function(){function e(){this.qt=new kw}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:or(s)};return XT(t).put(a)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[aA(n),""],!1,!0);return XT(t).Nt(o).next(function(s){for(var a=0,c=s;a<c.length;a++){var f=c[a];if(f.collectionId!==n)break;r.push(jr(f.parent))}return r})},e}();function XT(e){return an(e,Oo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(e,t,n){var r=e.store(Re.store),o=e.store(bt.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,f=r.Ot({range:a},function(S,T,C){return c++,C.delete()});s.push(f.next(function(){te(c===1)}));for(var d=[],v=0,y=n.mutations;v<y.length;v++){var g=y[v],_=bt.key(t,g.key.path,n.batchId);s.push(o.delete(_)),d.push(g.key)}return V.waitFor(s).next(function(){return d})}function Hh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw X();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);var gj=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Qt={}}return e.Kt=function(t,n,r,o){return te(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ci(t).Ot({index:Re.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=Vs(t),c=ci(t);return c.add({}).next(function(f){te(typeof f=="number");for(var d=new Tw(f,n,r,o),v=function(I,E,k){var A=k.baseMutations.map(function(R){return zh(I.Lt,R)}),L=k.mutations.map(function(R){return zh(I.Lt,R)});return new Re(E,k.batchId,k.localWriteTime.toMillis(),A,L)}(s.R,s.userId,d),y=[],g=new at(function(I,E){return ce(I.canonicalString(),E.canonicalString())}),_=0,S=o;_<S.length;_++){var T=S[_],C=bt.key(s.userId,T.key.path,f);g=g.add(T.key.path.popLast()),y.push(c.put(v)),y.push(a.put(C,bt.PLACEHOLDER))}return g.forEach(function(I){y.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Qt[f]=d.keys()}),V.waitFor(y).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return ci(t).get(n).next(function(o){return o?(te(o.userId===r.userId),js(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?V.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return ci(t).Ot({index:Re.userMutationsIndex,range:s},function(c,f,d){f.userId===r.userId&&(te(f.batchId>=o),a=js(r.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ci(t).Ot({index:Re.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ci(t).Nt(Re.userMutationsIndex,r).next(function(o){return o.map(function(s){return js(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=bt.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Vs(t).Ot({range:s},function(c,f,d){var v=c[0],y=c[1],g=c[2],_=jr(y);if(v===r.userId&&n.path.isEqual(_))return ci(t).get(g).next(function(S){if(!S)throw X();te(S.userId===r.userId),a.push(js(r.R,S))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new at(ce),s=[];return n.forEach(function(a){var c=bt.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(c),d=Vs(t).Ot({range:f},function(v,y,g){var _=v[0],S=v[1],T=v[2],C=jr(S);_===r.userId&&a.path.isEqual(C)?o=o.add(T):g.done()});s.push(d)}),V.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=bt.prefixForPath(this.userId,o),c=IDBKeyRange.lowerBound(a),f=new at(ce);return Vs(t).Ot({range:c},function(d,v,y){var g=d[0],_=d[1],S=d[2],T=jr(_);g===r.userId&&o.isPrefixOf(T)?T.length===s&&(f=f.add(S)):y.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(ci(t).get(a).next(function(c){if(c===null)throw X();te(c.userId===r.userId),o.push(js(r.R,c))}))}),V.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return GA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var o=IDBKeyRange.lowerBound(bt.prefixForUser(n.userId)),s=[];return Vs(t).Ot({range:o},function(a,c,f){if(a[0]===n.userId){var d=jr(a[1]);s.push(d)}else f.done()}).next(function(){te(s.length===0)})})},e.prototype.containsKey=function(t,n){return WA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return QA(t).get(this.userId).next(function(r){return r||new Di(n.userId,-1,"")})},e}();function WA(e,t,n){var r=bt.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Vs(e).Ot({range:s,kt:!0},function(c,f,d){var v=c[0],y=c[1];c[2],v===t&&y===o&&(a=!0),d.done()}).next(function(){return a})}function ci(e){return an(e,Re.store)}function Vs(e){return an(e,bt.store)}function QA(e){return an(e,Di.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),yj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Kh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ue.fromTimestamp(new sn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Os(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return te(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return Os(t).Ot(function(c,f){var d=za(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return V.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Os(t).Ot(function(r,o){var s=za(o);n(s)})},e.prototype.Xt=function(t){return JT(t).get(pn.key).next(function(n){return te(n!==null),n})},e.prototype.Zt=function(t,n){return JT(t).put(pn.key,n)},e.prototype.te=function(t,n){return Os(t).put(HA(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Zl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Os(t).Ot({range:o,index:tn.queryTargetsIndexName},function(a,c,f){var d=za(c);Ad(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=wi(t);return n.forEach(function(c){var f=or(c.path);s.push(a.put(new gt(r,f))),s.push(o.referenceDelegate.addReference(t,r,c))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=wi(t);return V.forEach(n,function(a){var c=or(a.path);return V.waitFor([s.delete([r,c]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=wi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=wi(t),s=Ne();return o.Ot({range:r,kt:!0},function(a,c,f){var d=jr(a[1]),v=new Y(d);s=s.add(v)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=or(n.path),o=IDBKeyRange.bound([r],[aA(r)],!1,!0),s=0;return wi(t).Ot({index:gt.documentTargetsIndex,kt:!0,range:o},function(a,c,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Os(t).get(n).next(function(r){return r?za(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return an(e,tn.store)}function JT(e){return an(e,pn.store)}function wi(e){return an(e,gt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e){return F(this,void 0,void 0,function(){return M(this,function(t){if(e.code!==x.FAILED_PRECONDITION||e.message!==VA)throw e;return B("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=ce(n,o);return a===0?ce(r,s):a}var wj=function(){function e(t){this.ne=t,this.buffer=new at(ZT),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();ZT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),_j=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;B("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return F(n,void 0,void 0,function(){var o;return M(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ts(o=s.sent())?(B("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ns(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Ej=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(gn.o);var o=new wj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(YT)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),YT):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,c,f,d,v=this,y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>v.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+g),o=v.params.maximumSequenceNumbersToCollect):o=g,a=Date.now(),v.nthSequenceNumber(t,o)}).next(function(g){return r=g,c=Date.now(),v.removeTargets(t,r,n)}).next(function(g){return s=g,f=Date.now(),v.removeOrphanedDocuments(t,r)}).next(function(g){return d=Date.now(),Sy()<=ge.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-y)+`ms
	Determined least recently used `+o+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(f-c)+`ms
	Removed `+g+" documents in "+(d-f)+`ms
Total Duration: `+(d-y)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),Sj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new Ej(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return Df(t,r)},e.prototype.removeReference=function(t,n,r){return Df(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Df(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return QA(r).$t(function(a){return WA(r,a,o).next(function(c){return c&&(s=!0),V.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(c,f){if(f<=n){var d=r._e(t,c).next(function(v){if(!v)return a++,o.getEntry(t,c).next(function(){return o.removeEntry(c),wi(t).delete([0,or(c.path)])})});s.push(d)}}).next(function(){return V.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Df(t,n)},e.prototype.we=function(t,n){var r,o=wi(t),s=gn.o;return o.Ot({index:gt.documentTargetsIndex},function(a,c){var f=a[0],d=(a[1],c.path),v=c.sequenceNumber;f===0?(s!==gn.o&&n(new Y(jr(r)),s),s=v,r=d):s=gn.o}).next(function(){s!==gn.o&&n(new Y(jr(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Df(e,t){return wi(e).put(function(n,r){return new gt(0,or(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],c=a[0],f=a[1];if(this.equalsFn(c,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Jl(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],c=a[0],f=a[1];t(c,f)}})},e.prototype.isEmpty=function(){return lA(this.inner)},e}(),XA=function(){function e(){this.changes=new Vu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ue.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:xt.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),Ij=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return vi(t).put(Of(n),r)},e.prototype.removeEntry=function(t,n){var r=vi(t),o=Of(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return vi(t).get(Of(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return vi(t).get(Of(n)).next(function(o){return{document:r.ye(n,o),size:Hh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=ir();return this.pe(t,n,function(s,a){var c=r.ye(s,a);o=o.insert(s,c)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=ir(),s=new Pt(Y.comparator);return this.pe(t,n,function(a,c){var f=r.ye(a,c);o=o.insert(a,f),s=s.insert(a,Hh(c))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return vi(t).Ot({range:o},function(c,f,d){for(var v=Y.fromSegments(c);a&&Y.comparator(a,v)<0;)r(a,null),a=s.getNext();a&&a.isEqual(v)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=ir(),a=n.path.length+1,c={};if(r.isEqual(ue.min())){var f=n.path.toArray();c.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=bw(r);c.range=IDBKeyRange.lowerBound([d,v],!0),c.index=He.collectionReadTimeIndex}return vi(t).Ot(c,function(y,g,_){if(y.length===a){var S=xy(o.R,g);n.path.isPrefixOf(S.key.path)?nc(n,S)&&(s=s.insert(S.key,S)):_.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new Tj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return eb(t).get(_r.key).next(function(n){return te(!!n),n})},e.prototype.me=function(t,n){return eb(t).put(_r.key,n)},e.prototype.ye=function(t,n){if(n){var r=xy(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ue.min()))return r}return xt.newInvalidDocument(t)},e}(),Tj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Vu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return Z(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new at(function(c,f){return ce(c.canonicalString(),f.canonicalString())});return this.changes.forEach(function(c,f){var d=r.Ae.get(c);if(f.document.isValidDocument()){var v=GT(r.Ie.R,f.document,r.getReadTime(c));a=a.add(c.path.popLast());var y=Hh(v);s+=y-d,o.push(r.Ie.addEntry(n,c,v))}else if(s-=d,r.trackRemovals){var g=GT(r.Ie.R,xt.newNoDocument(c,ue.min()),r.getReadTime(c));o.push(r.Ie.addEntry(n,c,g))}else o.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){o.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),o.push(this.Ie.updateMetadata(n,s)),V.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,f){o.Ae.set(c,f)}),a})},t}(XA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(e){return an(e,_r.store)}function vi(e){return an(e,He.store)}function Of(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;te(r<o&&r>=0&&o<=11);var a=new BA("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(dn.store)}(t),function(f){f.createObjectStore(Di.store,{keyPath:Di.keyPath}),f.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0}),f.createObjectStore(bt.store)}(t),tb(t),function(f){f.createObjectStore(He.store)}(t));var c=V.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(gt.store),f.deleteObjectStore(tn.store),f.deleteObjectStore(pn.store)}(t),tb(t)),c=c.next(function(){return function(f){var d=f.store(pn.store),v=new pn(0,0,ue.min().toTimestamp(),0);return d.put(pn.key,v)}(a)})),r<4&&o>=4&&(r!==0&&(c=c.next(function(){return function(f,d){return d.store(Re.store).Nt().next(function(v){f.deleteObjectStore(Re.store),f.createObjectStore(Re.store,{keyPath:Re.keyPath,autoIncrement:!0}).createIndex(Re.userMutationsIndex,Re.userMutationsKeyPath,{unique:!0});var y=d.store(Re.store),g=v.map(function(_){return y.put(_)});return V.waitFor(g)})}(t,a)})),c=c.next(function(){(function(f){f.createObjectStore(Br.store,{keyPath:Br.keyPath})})(t)})),r<5&&o>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&o>=6&&(c=c.next(function(){return function(f){f.createObjectStore(_r.store)}(t),s.be(a)})),r<7&&o>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&o>=8&&(c=c.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(c=c.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(He.store);d.createIndex(He.readTimeIndex,He.readTimeIndexPath,{unique:!1}),d.createIndex(He.collectionReadTimeIndex,He.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&o>=11&&(c=c.next(function(){(function(f){f.createObjectStore(bu.store,{keyPath:bu.keyPath})})(t),function(f){f.createObjectStore(ku.store,{keyPath:ku.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(He.store).Ot(function(r,o){n+=Hh(o)}).next(function(){var r=new _r(n);return t.store(_r.store).put(_r.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Di.store),o=t.store(Re.store);return r.Nt().next(function(s){return V.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(Re.userMutationsIndex,c).next(function(f){return V.forEach(f,function(d){te(d.userId===a.userId);var v=js(n.R,d);return GA(t,a.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(gt.store),r=t.store(He.store);return t.store(pn.store).get(pn.key).next(function(o){var s=[];return r.Ot(function(a,c){var f=new ye(a),d=function(v){return[0,or(v)]}(f);s.push(n.get(d).next(function(v){return v?V.resolve():function(y){return n.put(new gt(0,or(y),o.highestListenSequenceNumber))}(f)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Oo.store,{keyPath:Oo.keyPath});var r=n.store(Oo.store),o=new kw,s=function(a){if(o.add(a)){var c=a.lastSegment(),f=a.popLast();return r.put({collectionId:c,parent:or(f)})}};return n.store(He.store).Ot({kt:!0},function(a,c){var f=new ye(a);return s(f.popLast())}).next(function(){return n.store(bt.store).Ot({kt:!0},function(a,c){a[0];var f=a[1],d=(a[2],jr(f));return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(tn.store);return r.Ot(function(o,s){var a=za(s),c=HA(n.R,a);return r.put(c)})},e}();function tb(e){e.createObjectStore(gt.store,{keyPath:gt.keyPath}).createIndex(gt.documentTargetsIndex,gt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(tn.store,{keyPath:tn.keyPath}).createIndex(tn.queryTargetsIndexName,tn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pn.store)}var ag="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kj=function(){function e(t,n,r,o,s,a,c,f,d,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(y){return Promise.resolve()},!e.yt())throw new j(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sj(this,o),this.Le=n+"main",this.R=new qA(f),this.Be=new Nu(this.Le,11,new bj(this.R)),this.qe=new yj(this.referenceDelegate,this.R),this.Ut=new mj,this.Ue=function(y,g){return new Ij(y,g)}(this.R,this.Ut),this.Qe=new pj,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,v===!1&&tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(x.FAILED_PRECONDITION,ag);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new gn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return F(n,void 0,void 0,function(){return M(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return F(n,void 0,void 0,function(){return M(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return F(n,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Lf(n).put(new Br(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ts(n))return B("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return B("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Ua(t).get(dn.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return Lf(t).delete(this.clientId)},e.prototype.nn=function(){return F(this,void 0,void 0,function(){var t,n,r,o,s=this;return M(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var f=an(c,Br.store);return f.Nt().next(function(d){var v=s.rn(d,18e5),y=d.filter(function(g){return v.indexOf(g)===-1});return V.forEach(y,function(g){return f.delete(g.clientId)}).next(function(){return y})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)o=r[n],this.Ke.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):Ua(t).get(dn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(x.FAILED_PRECONDITION,ag);return!1}}return!(!n.networkEnabled||!n.inForeground)||Lf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||c&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&B("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return F(this,void 0,void 0,function(){var t=this;return M(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dn.store,Br.store],function(r){var o=new KT(r,gn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Lf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return gj.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;B("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,cj,function(c){return s=new KT(c,o.Ne?o.Ne.next():gn.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw tt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new j(x.FAILED_PRECONDITION,VA);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Ua(t).get(dn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(x.FAILED_PRECONDITION,ag)})},e.prototype.Ze=function(t){var n=new dn(this.clientId,this.allowTabSynchronization,Date.now());return Ua(t).put(dn.key,n)},e.yt=function(){return Nu.yt()},e.prototype.Xe=function(t){var n=this,r=Ua(t);return r.get(dn.key).next(function(o){return n.tn(o)?(B("IndexedDbPersistence","Releasing primary lease."),r.delete(dn.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(tt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return B("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return tt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){tt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Ua(e){return an(e,dn.store)}function Lf(e){return an(e,Br.store)}function Nw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YA=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):yw(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Y(n)).next(function(r){var o=Ay();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=Ay();return this.Ut.getCollectionParents(t,s).next(function(c){return V.forEach(c,function(f){var d=function(v,y){return new Xr(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(v){v.forEach(function(y,g){a=a.insert(y,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return o=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,v=s;d<v.length;d++)for(var y=v[d],g=0,_=y.mutations;g<_.length;g++){var S=_[g],T=S.key,C=o.get(T);C==null&&(C=xt.newInvalidDocument(T),o=o.insert(T,C)),Cy(S,C,y.localWriteTime),C.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(c,f){nc(n,f)||(o=o.remove(c))}),o})},e.prototype.Rn=function(t,n,r){for(var o=Ne(),s=0,a=n;s<a.length;s++)for(var c=0,f=a[s].mutations;c<f.length;c++){var d=f[c];d instanceof Gi&&r.get(d.key)===null&&(o=o.add(d.key))}var v=r;return this.Ue.getEntries(t,o).next(function(y){return y.forEach(function(g,_){_.isFoundDocument()&&(v=v.insert(g,_))}),v})},e}(),Nj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=Ne(),o=Ne(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),JA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ue.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var c=s.Cn(n,a);return(Zf(n)||qh(n))&&s.Nn(n.limitType,c,o,r)?s.Dn(t,n):(Sy()<=ge.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ny(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return c.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new at(yA(t));return n.forEach(function(o,s){nc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Sy()<=ge.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ny(n)),this.Sn.getDocumentsMatchingQuery(t,n,ue.min())},e}(),Cj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.Fn=new Pt(ce),this.kn=new Vu(function(s){return Zl(s)},Ad),this.On=ue.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new YA(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e,t,n,r){return new Cj(e,t,n,r)}function eR(e,t){return F(this,void 0,void 0,function(){var n,r,o,s;return M(this,function(a){switch(a.label){case 0:return n=z(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var f;return n._n.getAllMutationBatches(c).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new YA(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(d){for(var v=[],y=[],g=Ne(),_=0,S=f;_<S.length;_++){var T=S[_];v.push(T.batchId);for(var C=0,I=T.mutations;C<I.length;C++){var E=I[C];g=g.add(E.key)}}for(var k=0,A=d;k<A.length;k++){var L=A[k];y.push(L.batchId);for(var R=0,O=L.mutations;R<O.length;R++){var P=O[R];g=g.add(P.key)}}return o.pn(c,g).next(function(Q){return{Ln:Q,removedBatchIds:v,addedBatchIds:y}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Aj(e,t){var n=z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,c,f,d){var v=f.batch,y=v.keys(),g=V.resolve();return y.forEach(function(_){g=g.next(function(){return d.getEntry(c,_)}).next(function(S){var T=f.docVersions.get(_);te(T!==null),S.version.compareTo(T)<0&&(v.applyToRemoteDocument(S,f),S.isValidDocument()&&d.addEntry(S,f.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(c,v)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function tR(e){var t=z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Rj(e,t){var n=z(e),r=t.snapshotVersion,o=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});o=n.Fn;var c=[];t.targetChanges.forEach(function(v,y){var g=o.get(y);if(g){c.push(n.qe.removeMatchingKeys(s,v.removedDocuments,y).next(function(){return n.qe.addMatchingKeys(s,v.addedDocuments,y)}));var _=v.resumeToken;if(_.approximateByteSize()>0){var S=g.withResumeToken(_,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(y,S),function(T,C,I){return te(C.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(g,S,v)&&c.push(n.qe.updateTargetData(s,S))}}});var f=ir();if(t.documentUpdates.forEach(function(v,y){t.resolvedLimboDocuments.has(v)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),c.push(xj(s,a,t.documentUpdates,r,void 0).next(function(v){f=v})),!r.isEqual(ue.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(v){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(d)}return V.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.Fn=o,s})}function xj(e,t,n,r,o){var s=Ne();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=ir();return n.forEach(function(f,d){var v=a.get(f),y=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(ue.min())?(t.removeEntry(f,y),c=c.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(d,y),c=c.insert(f,d)):B("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),c})}function Pj(e,t){var n=z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Gh(e,t){var n=z(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,V.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new Dd(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.Fn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Ru(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a;return M(this,function(c){switch(c.label){case 0:r=z(e),o=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!ts(a=c.sent()))throw a;return B("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(o.target),[2]}})})}function Wh(e,t,n){var r=z(e),o=ue.min(),s=Ne();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,f,d){var v=z(c),y=v.kn.get(d);return y!==void 0?V.resolve(v.Fn.get(y)):v.qe.getTargetData(f,d)}(r,a,kr(t)).next(function(c){if(c)return o=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:ue.min(),n?s:Ne())}).next(function(c){return{documents:c,Bn:s}})})}function nR(e,t){var n=z(e),r=z(n.qe),o=n.Fn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function rR(e){var t=z(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=z(r),c=ir(),f=bw(s),d=vi(o),v=IDBKeyRange.lowerBound(f,!0);return d.Ot({index:He.readTimeIndex,range:v},function(y,g){var _=xy(a.R,g);c=c.insert(_.key,_),f=g.readTime}).next(function(){return{wn:c,readTime:zA(f)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,o=n.readTime;return t.On=o,r})}function Dj(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){return[2,(t=z(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=vi(o),a=ue.min();return s.Ot({index:He.readTimeIndex,reverse:!0},function(c,f,d){f.readTime&&(a=zA(f.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oj=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:Bt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:KA(r.bundledQuery),readTime:Bt(r.readTime)}}(n)),V.resolve()},e}(),Cw=function(){function e(){this.Wn=new at(ht.Gn),this.zn=new at(ht.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new ht(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new ht(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Y(new ye([])),o=new ht(r,t),s=new ht(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Y(new ye([])),r=new ht(n,t),o=new ht(n,t+1),s=Ne();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new ht(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),ht=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Y.comparator(t.key,n.key)||ce(t.ns,n.ns)},e.Hn=function(t,n){return ce(t.ns,n.ns)||Y.comparator(t.key,n.key)},e}(),Lj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new at(ht.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Tw(s,n,r,o);this._n.push(a);for(var c=0,f=o;c<f.length;c++){var d=f[c];this.rs=this.rs.add(new ht(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return V.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(c){var f=r.os(c.ns);a.push(f)}),V.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new at(ce);return n.forEach(function(s){var a=new ht(s,0),c=new ht(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(f){o=o.add(f.ns)})}),V.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Y.isDocumentKey(s)||(s=s.child(""));var a=new ht(new Y(s),0),c=new at(ce);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(f.ns)),!0)},a),V.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;te(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return V.forEach(n.mutations,function(s){var a=new ht(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new ht(n,0),o=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Mj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Pt(Y.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():xt.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=ir();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():xt.newInvalidDocument(s))}),V.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=ir(),s=new Y(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),f=c.key,d=c.value,v=d.document,y=d.readTime;if(!n.path.isPrefixOf(f.path))break;y.compareTo(r)<=0||nc(n,v)&&(o=o.insert(v.key,v.clone()))}return V.resolve(o)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Fj(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),Fj=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Z(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(XA),Uj=function(){function e(t){this.persistence=t,this.ds=new Vu(function(n){return Zl(n)},Ad),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ws=0,this._s=new Cw,this.targetCount=0,this.ys=Kh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Kh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(c,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(c),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),V.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),jj=function(){function e(t,n){var r=this;this.gs={},this.Ne=new gn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Uj(this),this.Ut=new vj,this.Ue=function(o,s){return new Mj(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new qA(n),this.Qe=new Oj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Lj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var o=this;B("MemoryPersistence","Starting transaction:",t);var s=new Vj(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Vj=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Z(t,e),t}($A),$j=function(){function e(t){this.persistence=t,this.As=new Cw,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw X()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(o){var s=Y.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Zt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e,t){return"firestore_clients_"+e+"_"+t}function rb(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function lg(e,t){return"firestore_targets_"+e+"_"+t}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid");var ib=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(tt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),cg=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new j(o.error.code,o.error.message)),s?new e(t,o.state,r):(tt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),ob=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Pd(),a=0;o&&a<r.activeTargetIds.length;++a)o=hA(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(tt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Bj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(tt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Py=function(){function e(){this.activeTargetIds=Pd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),fg=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Pt(ce),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=nb(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Py),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Qs=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return F(this,void 0,void 0,function(){var t,n,r,o,s,a,c,f,d,v,y,g=this;return M(this,function(_){switch(_.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=_.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(nb(this.persistenceKey,o)))&&(a=ob.Vs(o,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(c=this.storage.getItem(this.Us))&&(f=this.js(c))&&this.Ws(f),d=0,v=this.Os;d<v.length;d++)y=v[d],this.Fs(y);return this.Os=[],this.window.addEventListener("unload",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(lg(this.persistenceKey,t));if(r){var o=cg.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(lg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return B("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){B("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){B("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(B("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return F(n,void 0,void 0,function(){var o,s,a,c,f,d;return M(this,function(v){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(y){var g=gn.o;if(y!=null)try{var _=JSON.parse(y);te(typeof _=="number"),g=_}catch(S){tt("SharedClientState","Failed to read sequence number from WebStorage",S)}return g}(r.newValue))!==gn.o&&this.sequenceNumberHandler(d);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new ib(this.currentUser,t,n,r),s=rb(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=rb(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=lg(this.persistenceKey,t),s=new cg(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return ob.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ib.Vs(new Zt(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return cg.Vs(o,n)},e.prototype.js=function(t){return Bj.Vs(t)},e.prototype.ii=function(t){return F(this,void 0,void 0,function(){return M(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(B("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(o),c=[],f=[];return a.forEach(function(d){s.has(d)||c.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(c,f).then(function(){r.ks=o})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Pd();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),iR=function(){function e(){this.li=new Py,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Py,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),qj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),sb=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Kj=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return Z(t,e),t.prototype.ki=function(n,r,o,s){return new Promise(function(a,c){var f=new I3;f.listenOnce(E3.COMPLETE,function(){try{switch(f.getLastErrorCode()){case ug.NO_ERROR:var v=f.getResponseJson();B("Connection","XHR received:",JSON.stringify(v)),a(v);break;case ug.TIMEOUT:B("Connection",'RPC "'+n+'" timed out'),c(new j(x.DEADLINE_EXCEEDED,"Request time out"));break;case ug.HTTP_ERROR:var y=f.getStatus();if(B("Connection",'RPC "'+n+'" failed with status:',y,"response text:",f.getResponseText()),y>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var _=function(S){var T=S.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(T)>=0?T:x.UNKNOWN}(g.status);c(new j(_,g.message))}else c(new j(x.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new j(x.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{B("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.$i=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=w3(),a=_3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(c.initMessageHeaders,r),CF()||PF()||DF()||OF()||LF()||xF()||(c.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");B("Connection","Creating WebChannel: "+f,c);var d=s.createWebChannel(f,c),v=!1,y=!1,g=new Hj({Ei:function(S){y?B("Connection","Not sending because WebChannel is closed:",S):(v||(B("Connection","Opening WebChannel transport."),d.open(),v=!0),B("Connection","WebChannel sending:",S),d.send(S))},Ti:function(){return d.close()}}),_=function(S,T,C){S.listen(T,function(I){try{C(I)}catch(E){setTimeout(function(){throw E},0)}})};return _(d,xf.EventType.OPEN,function(){y||B("Connection","WebChannel transport opened.")}),_(d,xf.EventType.CLOSE,function(){y||(y=!0,B("Connection","WebChannel transport closed"),g.Vi())}),_(d,xf.EventType.ERROR,function(S){y||(y=!0,Iy("Connection","WebChannel transport errored:",S),g.Vi(new j(x.UNAVAILABLE,"The operation could not be completed")))}),_(d,xf.EventType.MESSAGE,function(S){var T;if(!y){var C=S.data[0];te(!!C);var I=C,E=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(E){B("Connection","WebChannel received error:",E);var k=E.status,A=function(R){var O=Je[R];if(O!==void 0)return CA(O)}(k),L=E.message;A===void 0&&(A=x.INTERNAL,L="Unknown error status: "+k+" with message "+E.message),y=!0,g.Vi(new j(A,L)),d.close()}else B("Connection","WebChannel received:",C),g.Si(C)}}),_(a,S3.STAT_EVENT,function(S){S.stat===IT.PROXY?B("Connection","Detected buffering proxy"):S.stat===IT.NOPROXY&&B("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);B("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,o),this.ki(t,s,a,r).then(function(c){return B("RestConnection","Received: ",c),c},function(c){throw Iy("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.Oi=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=zj[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof window<"u"?window:null}function nh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e){return new J3(e,!0)}var Aw=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-o);s>0&&B("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sR=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Aw(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return F(this,void 0,void 0,function(){return M(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return F(this,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===x.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new j(x.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return F(t,void 0,void 0,function(){return M(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return B("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Gj=function(e){function t(n,r,o,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,c}return Z(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var f=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:X()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(C,I){return C.I?(te(I===void 0||typeof I=="string"),un.fromBase64String(I||"")):(te(I===void 0||I instanceof Uint8Array),un.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),y=(g=a.targetChange.cause)&&function(C){var I=C.code===void 0?x.UNKNOWN:CA(C.code);return new j(I,C.message||"")}(g);c=new RA(f,d,v,y||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=$r(s,f.document.name),v=Bt(f.document.updateTime);var g=new vn({mapValue:{fields:f.document.fields}}),_=(y=xt.newFoundDocument(d,v,g),f.targetIds||[]),S=f.removedTargetIds||[];c=new th(_,S,y.key,y)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=$r(s,f.document),v=f.readTime?Bt(f.readTime):ue.min(),g=xt.newNoDocument(d,v),y=f.removedTargetIds||[],c=new th([],y,g.key,g);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=$r(s,f.document),v=f.removedTargetIds||[],c=new th([],v,d,null);else{if(!("filter"in a))return X();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new B3(f),v=T.targetId,c=new AA(v,d)}return c}(this.R,n),o=function(s){if(!("targetChange"in s))return ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ue.min():a.readTime?Bt(a.readTime):ue.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=xl(this.R),r.addTarget=function(s,a){var c,f=a.target;return(c=$h(f)?{documents:LA(s,f)}:{query:MA(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=xA(s,a.resumeToken):a.snapshotVersion.compareTo(ue.min())>0&&(c.readTime=Al(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var o=function(s,a){var c=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return X()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=xl(this.R),r.removeTarget=n,this.cr(r)},t}(sR),Wj=function(e){function t(n,r,o,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,c.gr=!1,c}return Z(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(te(a!==void 0),s.map(function(c){return function(f,d){var v=f.updateTime?Bt(f.updateTime):Bt(d);return v.isEqual(ue.min())&&(v=Bt(d)),new j3(v,f.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),o=Bt(n.commitTime);return this.listener.Tr(o,r)}return te(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=xl(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return zh(r.R,s)})};this.cr(o)},t}(sR),Qj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Z(t,e),t.prototype.br=function(){if(this.Rr)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(x.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(x.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Xj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(tt(n),this.Vr=!1):B("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Yj=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return F(s,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return Wi(this)?(B("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return F(this,void 0,void 0,function(){var d;return M(this,function(v){switch(v.label){case 0:return(d=z(f)).$r.add(4),[4,$u(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.$r.delete(4),[4,sc(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new Xj(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(r){switch(r.label){case 0:if(!Wi(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function $u(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ld(e,t){var n=z(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Pw(n)?xw(n):qu(n).er()&&Rw(n,t))}function Pl(e,t){var n=z(e),r=qu(n);n.Or.delete(t),r.er()&&uR(n,t),n.Or.size===0&&(r.er()?r.ir():Wi(n)&&n.Br.set("Unknown"))}function Rw(e,t){e.qr.U(t.targetId),qu(e).mr(t)}function uR(e,t){e.qr.U(t),qu(e).yr(t)}function xw(e){e.qr=new Q3({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),qu(e).start(),e.Br.Sr()}function Pw(e){return Wi(e)&&!qu(e).tr()&&e.Or.size>0}function Wi(e){return z(e).$r.size===0}function aR(e){e.qr=void 0}function Jj(e){return F(this,void 0,void 0,function(){return M(this,function(t){return e.Or.forEach(function(n,r){Rw(e,n)}),[2]})})}function Zj(e,t){return F(this,void 0,void 0,function(){return M(this,function(n){return aR(e),Pw(e)?(e.Br.Nr(t),xw(e)):e.Br.set("Unknown"),[2]})})}function e4(e,t,n){return F(this,void 0,void 0,function(){var r,o,s;return M(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof RA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,f){return F(this,void 0,void 0,function(){var d,v,y,g;return M(this,function(_){switch(_.label){case 0:d=f.cause,v=0,y=f.targetIds,_.label=1;case 1:return v<y.length?(g=y[v],c.Or.has(g)?[4,c.remoteSyncer.rejectListen(g,d)]:[3,3]):[3,5];case 2:_.sent(),c.Or.delete(g),c.qr.removeTarget(g),_.label=3;case 3:_.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Qh(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof th?e.qr.X(t):t instanceof AA?e.qr.rt(t):e.qr.et(t),n.isEqual(ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,tR(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(c,f){var d=c.qr.ut(f);return d.targetChanges.forEach(function(v,y){if(v.resumeToken.approximateByteSize()>0){var g=c.Or.get(y);g&&c.Or.set(y,g.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var y=c.Or.get(v);if(y){c.Or.set(v,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),uR(c,v);var g=new Dd(y.target,v,1,y.sequenceNumber);Rw(c,g)}}),c.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return B("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Qh(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Qh(e,t,n){return F(this,void 0,void 0,function(){var r=this;return M(this,function(o){switch(o.label){case 0:if(!ts(t))throw t;return e.$r.add(1),[4,$u(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return tR(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return F(r,void 0,void 0,function(){return M(this,function(s){switch(s.label){case 0:return B("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,sc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function lR(e,t){return t().catch(function(n){return Qh(e,n,t)})}function Bu(e){return F(this,void 0,void 0,function(){var t,n,r,o,s;return M(this,function(a){switch(a.label){case 0:t=z(e),n=$i(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Wi(c)&&c.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Pj(t.localStore,r)];case 3:return(o=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(c,f){c.kr.push(f);var d=$i(c);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,Qh(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cR(t)&&fR(t),[2]}})})}function cR(e){return Wi(e)&&!$i(e).tr()&&e.kr.length>0}function fR(e){$i(e).start()}function t4(e){return F(this,void 0,void 0,function(){return M(this,function(t){return $i(e).Ar(),[2]})})}function n4(e){return F(this,void 0,void 0,function(){var t,n,r,o;return M(this,function(s){for(t=$i(e),n=0,r=e.kr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function r4(e,t,n){return F(this,void 0,void 0,function(){var r,o;return M(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),o=dj.from(r,t,n),[4,lR(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Bu(e)];case 2:return s.sent(),[2]}})})}function i4(e,t){return F(this,void 0,void 0,function(){return M(this,function(n){switch(n.label){case 0:return t&&$i(e).pr?[4,function(r,o){return F(this,void 0,void 0,function(){var s,a;return M(this,function(c){switch(c.label){case 0:return NA(a=o.code)&&a!==x.ABORTED?(s=r.kr.shift(),$i(r).sr(),[4,lR(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return c.sent(),[4,Bu(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cR(e)&&fR(e),[2]}})})}function Dy(e,t){return F(this,void 0,void 0,function(){var n;return M(this,function(r){switch(r.label){case 0:return n=z(e),t?(n.$r.delete(2),[4,sc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,$u(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function qu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=z(n);return s.br(),new Gj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:Jj.bind(null,e),Ri:Zj.bind(null,e),_r:e4.bind(null,e)}),e.Mr.push(function(n){return F(t,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Pw(e)?xw(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),aR(e),r.label=3;case 3:return[2]}})})})),e.Ur}function $i(e){var t=this;return e.Qr||(e.Qr=function(n,r,o){var s=z(n);return s.br(),new Wj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:t4.bind(null,e),Ri:i4.bind(null,e),Ir:n4.bind(null,e),Tr:r4.bind(null,e)}),e.Mr.push(function(n){return F(t,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Bu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(B("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var o4=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function zu(e,t){if(tt("AsyncQueue",t+": "+e),ts(e))return new j(x.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Y.comparator(n.key,r.key)}:function(n,r){return Y.comparator(n.key,r.key)},this.keyedMap=Ay(),this.sortedSet=new Pt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),ub=function(){function e(){this.Kr=new Pt(Y.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):X():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Xh=function(){function e(t,n,r,o,s,a,c,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,hR.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),s4=function(){this.Wr=void 0,this.listeners=[]},u4=function(){this.queries=new Vu(function(e){return gA(e)},tc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(e,t){return F(this,void 0,void 0,function(){var n,r,o,s,a,c,f;return M(this,function(d){switch(d.label){case 0:if(n=z(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new s4),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return c=d.sent(),f=zu(c,"Initialization of query '"+Ny(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Lw(n),[2]}})})}function Ow(e,t){return F(this,void 0,void 0,function(){var n,r,o,s,a;return M(this,function(c){return n=z(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function a4(e,t){for(var n=z(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],c=a.query,f=n.queries.get(c);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(r=!0);f.Wr=a}}r&&Lw(n)}function l4(e,t,n){var r=z(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function Lw(e){e.Gr.forEach(function(t){t.next()})}var Mw=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Xh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Xh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dR=function(e){this.key=e},pR=function(e){this.key=e},vR=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ne(),this.mutatedKeys=Ne(),this.lo=yA(t),this.fo=new hR(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new ub,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,f=!1,d=Zf(this.query)&&s.size===this.query.limit?s.last():null,v=qh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,_){var S=s.get(g),T=nc(r.query,_)?_:null,C=!!S&&r.mutatedKeys.has(S.key),I=!!T&&(T.hasLocalMutations||r.mutatedKeys.has(T.key)&&T.hasCommittedMutations),E=!1;S&&T?S.data.isEqual(T.data)?C!==I&&(o.track({type:3,doc:T}),E=!0):r.yo(S,T)||(o.track({type:2,doc:T}),E=!0,(d&&r.lo(T,d)>0||v&&r.lo(T,v)<0)&&(f=!0)):!S&&T?(o.track({type:0,doc:T}),E=!0):S&&!T&&(o.track({type:1,doc:S}),E=!0,(d||v)&&(f=!0)),E&&(T?(c=c.add(T),a=I?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),Zf(this.query)||qh(this.query))for(;c.size>this.query.limit;){var y=Zf(this.query)?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),o.track({type:1,doc:y})}return{fo:c,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(v,y){return function(g,_){var S=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return S(g)-S(_)}(v.type,y.type)||o.lo(v.doc,y.doc)}),this.po(r);var c=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Xh(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ub,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ne(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new pR(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new dR(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ne();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Xh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),c4=function(e,t,n){this.query=e,this.targetId=t,this.view=n},f4=function(e){this.key=e,this.bo=!1},h4=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Vu(function(c){return gA(c)},tc),this.Vo=new Map,this.So=new Set,this.Do=new Pt(Y.comparator),this.Co=new Map,this.No=new Cw,this.xo={},this.Fo=new Map,this.ko=Kh.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function d4(e,t){return F(this,void 0,void 0,function(){var n,r,o,s,a,c;return M(this,function(f){switch(f.label){case 0:return n=$w(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Gh(n.localStore,kr(t))];case 2:return a=f.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Fw(n,t,r,c==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Ld(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Fw(e,t,n,r){return F(this,void 0,void 0,function(){var o,s,a,c,f,d;return M(this,function(v){switch(v.label){case 0:return e.$o=function(y,g,_){return function(S,T,C,I){return F(this,void 0,void 0,function(){var E,k,A;return M(this,function(L){switch(L.label){case 0:return E=T.view._o(C),E.Nn?[4,Wh(S.localStore,T.query,!1).then(function(R){var O=R.documents;return T.view._o(O,E)})]:[3,2];case 1:E=L.sent(),L.label=2;case 2:return k=I&&I.targetChanges.get(T.targetId),A=T.view.applyChanges(E,S.isPrimaryClient,k),[2,(Oy(S,T.targetId,A.To),A.snapshot)]}})})}(e,y,g,_)},[4,Wh(e.localStore,t,!0)];case 1:return o=v.sent(),s=new vR(t,o.Bn),a=s._o(o.documents),c=Ew.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,c),Oy(e,n,f.To),d=new c4(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function p4(e,t){return F(this,void 0,void 0,function(){var n,r,o;return M(this,function(s){switch(s.label){case 0:return n=z(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!tc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ru(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Pl(n.remoteStore,r.targetId),xu(n,r.targetId)}).catch(ns)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return xu(n,r.targetId),[4,Ru(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function v4(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a;return M(this,function(c){switch(c.label){case 0:r=Bw(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(f,d){var v,y=z(f),g=sn.now(),_=d.reduce(function(S,T){return S.add(T.key)},Ne());return y.persistence.runTransaction("Locally write mutations","readwrite",function(S){return y.Mn.pn(S,_).next(function(T){v=T;for(var C=[],I=0,E=d;I<E.length;I++){var k=E[I],A=$3(k,v.get(k.key));A!=null&&C.push(new Gi(k.key,A,dA(A.toProto().mapValue),Nt.exists(!0)))}return y._n.addMutationBatch(S,g,C,d)})}).then(function(S){return S.applyToLocalDocumentSet(v),{batchId:S.batchId,changes:v}})}(r.localStore,t)];case 2:return o=c.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var y=f.xo[f.currentUser.toKey()];y||(y=new Pt(ce)),y=y.insert(d,v),f.xo[f.currentUser.toKey()]=y}(r,o.batchId,n),[4,Qi(r,o.changes)];case 3:return c.sent(),[4,Bu(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=zu(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function mR(e,t){return F(this,void 0,void 0,function(){var n,r;return M(this,function(o){switch(o.label){case 0:n=z(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Rj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?te(c.bo):s.removedDocuments.size>0&&(te(c.bo),c.bo=!1))}),[4,Qi(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,ns(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ab(e,t,n){var r=z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var c=a.view.zr(t);c.snapshot&&o.push(c.snapshot)}),function(s,a){var c=z(s);c.onlineState=a;var f=!1;c.queries.forEach(function(d,v){for(var y=0,g=v.listeners;y<g.length;y++)g[y].zr(a)&&(f=!0)}),f&&Lw(c)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function m4(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a,c,f;return M(this,function(d){switch(d.label){case 0:return(r=z(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new Pt(Y.comparator)).insert(s,xt.newNoDocument(s,ue.min())),c=Ne().add(s),f=new _w(ue.min(),new Map,new at(ce),a,c),[4,mR(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Vw(r),[3,4];case 2:return[4,Ru(r.localStore,t,!1).then(function(){return xu(r,t,n)}).catch(ns)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function g4(e,t){return F(this,void 0,void 0,function(){var n,r,o;return M(this,function(s){switch(s.label){case 0:n=z(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Aj(n.localStore,t)];case 2:return o=s.sent(),jw(n,r,null),Uw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qi(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function y4(e,t,n){return F(this,void 0,void 0,function(){var r,o;return M(this,function(s){switch(s.label){case 0:r=z(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var f=z(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,c).next(function(y){return te(y!==null),v=y.keys(),f._n.removeMutationBatch(d,y)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(r.localStore,t)];case 2:return o=s.sent(),jw(r,t,n),Uw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Qi(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,ns(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function w4(e,t){return F(this,void 0,void 0,function(){var n,r,o,s,a;return M(this,function(c){switch(c.label){case 0:Wi((n=z(e)).remoteStore)||B("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(f){var d=z(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((o=n.Fo.get(r)||[]).push(t),n.Fo.set(r,o),[3,4]);case 3:return s=c.sent(),a=zu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Uw(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function jw(e,t,n){var r=z(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function xu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||gR(e,a)})}function gR(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Pl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Vw(e))}function Oy(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof dR?(e.No.addReference(s.key,t),_4(e,s)):s instanceof pR?(B("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||gR(e,s.key)):X()}}function _4(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(B("SyncEngine","New document in limbo: "+n),e.So.add(r),Vw(e))}function Vw(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Y(ye.fromString(t)),r=e.ko.next();e.Co.set(r,new f4(n)),e.Do=e.Do.insert(n,r),Ld(e.remoteStore,new Dd(kr(ec(n.path)),r,2,gn.o))}}function Qi(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a;return M(this,function(c){switch(c.label){case 0:return r=z(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){a.push(r.$o(d,t,n).then(function(v){if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var y=Nj.Pn(d.targetId,v);s.push(y)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(o),[4,function(f,d){return F(this,void 0,void 0,function(){var v,y,g,_,S,T,C,I,E;return M(this,function(k){switch(k.label){case 0:v=z(f),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(A){return V.forEach(d,function(L){return V.forEach(L.bn,function(R){return v.persistence.referenceDelegate.addReference(A,L.targetId,R)}).next(function(){return V.forEach(L.vn,function(R){return v.persistence.referenceDelegate.removeReference(A,L.targetId,R)})})})})];case 2:return k.sent(),[3,4];case 3:if(!ts(y=k.sent()))throw y;return B("LocalStore","Failed to update sequence numbers: "+y),[3,4];case 4:for(g=0,_=d;g<_.length;g++)S=_[g],T=S.targetId,S.fromCache||(C=v.Fn.get(T),I=C.snapshotVersion,E=C.withLastLimboFreeSnapshotVersion(I),v.Fn=v.Fn.insert(T,E));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function E4(e,t){return F(this,void 0,void 0,function(){var n,r;return M(this,function(o){switch(o.label){case 0:return(n=z(e)).currentUser.isEqual(t)?[3,3]:(B("SyncEngine","User change. New user:",t.toKey()),[4,eR(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(c){c.forEach(function(f){f.reject(new j(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Qi(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function S4(e,t){var n=z(e),r=n.Co.get(t);if(r&&r.bo)return Ne().add(r.key);var o=Ne(),s=n.Vo.get(t);if(!s)return o;for(var a=0,c=s;a<c.length;a++){var f=c[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function I4(e,t){return F(this,void 0,void 0,function(){var n,r,o;return M(this,function(s){switch(s.label){case 0:return[4,Wh((n=z(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Oy(n,t.targetId,o.To),o)]}})})}function T4(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){return[2,rR((t=z(e)).localStore).then(function(r){return Qi(t,r)})]})})}function b4(e,t,n,r){return F(this,void 0,void 0,function(){var o,s;return M(this,function(a){switch(a.label){case 0:return[4,function(c,f){var d=z(c),v=z(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(y){return v.jt(y,f).next(function(g){return g?d.Mn.pn(y,g):V.resolve(null)})})}((o=z(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Bu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(jw(o,t,r||null),Uw(o,t),function(c,f){z(z(c)._n).Gt(f)}(o.localStore,t)):X(),a.label=4;case 4:return[4,Qi(o,s)];case 5:return a.sent(),[3,7];case 6:B("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function k4(e,t){return F(this,void 0,void 0,function(){var n,r,o,s,a,c,f,d;return M(this,function(v){switch(v.label){case 0:return $w(n=z(e)),Bw(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,lb(n,r.toArray())]);case 1:return o=v.sent(),n.Oo=!0,[4,Dy(n.remoteStore,!0)];case 2:for(v.sent(),s=0,a=o;s<a.length;s++)c=a[s],Ld(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(y,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):d=d.then(function(){return xu(n,g),Ru(n.localStore,g,!0)}),Pl(n.remoteStore,g)}),[4,d]);case 4:return v.sent(),[4,lb(n,f)];case 5:return v.sent(),function(y){var g=z(y);g.Co.forEach(function(_,S){Pl(g.remoteStore,S)}),g.No.ts(),g.Co=new Map,g.Do=new Pt(Y.comparator)}(n),n.Oo=!1,[4,Dy(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function lb(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a,c,f,d,v,y,g,_,S,T,C;return M(this,function(I){switch(I.label){case 0:r=z(e),o=[],s=[],a=0,c=t,I.label=1;case 1:return a<c.length?(f=c[a],d=void 0,(v=r.Vo.get(f))&&v.length!==0?[4,Gh(r.localStore,kr(v[0]))]:[3,7]):[3,13];case 2:d=I.sent(),y=0,g=v,I.label=3;case 3:return y<g.length?(_=g[y],S=r.Po.get(_),[4,I4(r,S)]):[3,6];case 4:(T=I.sent()).snapshot&&s.push(T.snapshot),I.label=5;case 5:return y++,[3,3];case 6:return[3,11];case 7:return[4,nR(r.localStore,f)];case 8:return C=I.sent(),[4,Gh(r.localStore,C)];case 9:return d=I.sent(),[4,Fw(r,yR(C),f,!1)];case 10:I.sent(),I.label=11;case 11:o.push(d),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function yR(e){return vA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function N4(e){var t=z(e);return z(z(t.localStore).persistence).fn()}function C4(e,t,n,r){return F(this,void 0,void 0,function(){var o,s,a;return M(this,function(c){switch(c.label){case 0:return(o=z(e)).Oo?(B("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rR(o.localStore)];case 3:return s=c.sent(),a=_w.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Qi(o,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Ru(o.localStore,t,!0)];case 6:return c.sent(),xu(o,t,r),[3,8];case 7:X(),c.label=8;case 8:return[2]}})})}function A4(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a,c,f,d,v,y,g;return M(this,function(_){switch(_.label){case 0:if(!(r=$w(e)).Oo)return[3,10];o=0,s=t,_.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(B("SyncEngine","Adding an already active target "+a),[3,5]):[4,nR(r.localStore,a)]):[3,6];case 2:return c=_.sent(),[4,Gh(r.localStore,c)];case 3:return f=_.sent(),[4,Fw(r,yR(c),f.targetId,!1)];case 4:_.sent(),Ld(r.remoteStore,f),_.label=5;case 5:return o++,[3,1];case 6:d=function(S){return M(this,function(T){switch(T.label){case 0:return r.Vo.has(S)?[4,Ru(r.localStore,S,!1).then(function(){Pl(r.remoteStore,S),xu(r,S)}).catch(ns)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},v=0,y=n,_.label=7;case 7:return v<y.length?(g=y[v],[5,d(g)]):[3,10];case 8:_.sent(),_.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function $w(e){var t=z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=m4.bind(null,t),t.vo._r=a4.bind(null,t.eventManager),t.vo.Mo=l4.bind(null,t.eventManager),t}function Bw(e){var t=z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=y4.bind(null,t),t}var wR=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return F(this,void 0,void 0,function(){return M(this,function(n){switch(n.label){case 0:return this.R=Od(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return ZA(this.persistence,new JA,t.initialUser,this.R)},e.prototype.qo=function(t){return new jj($j.bs,this.R)},e.prototype.Bo=function(t){return new iR},e.prototype.terminate=function(){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),_R=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Z(t,e),t.prototype.initialize=function(n){return F(this,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,Dj(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,Bw(this.Ko.syncEngine)];case 4:return r.sent(),[4,Bu(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return ZA(this.persistence,new JA,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new _j(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Nw(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new kj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,oR(),nh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new iR},t}(wR),R4=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Ko=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Z(t,e),t.prototype.initialize=function(n){return F(this,void 0,void 0,function(){var r,o=this;return M(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof fg?(this.sharedClientState.syncEngine={ui:b4.bind(null,r),ai:C4.bind(null,r),hi:A4.bind(null,r),fn:N4.bind(null,r),ci:T4.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return F(o,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return[4,k4(this.Ko.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=oR();if(!fg.yt(r))throw new j(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Nw(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new fg(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(_R),Ly=function(){function e(){}return e.prototype.initialize=function(t,n){return F(this,void 0,void 0,function(){var r=this;return M(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return ab(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),[4,Dy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new u4},e.prototype.createDatastore=function(t){var n,r=Od(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new Kj(n));return function(s,a,c){return new Qj(s,a,c)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,c=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return ab(c.syncEngine,f,0)},a=sb.yt()?new sb:new qj,new Yj(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,c,f,d){var v=new h4(r,o,s,a,c,f);return d&&(v.Oo=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return F(this,void 0,void 0,function(){var n;return M(this,function(r){switch(r.label){case 0:return n=z(t),B("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,$u(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Md=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),x4=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return F(this,void 0,void 0,function(){var n,r=this;return M(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return F(this,void 0,void 0,function(){var c,f,d,v,y,g;return M(this,function(_){switch(_.label){case 0:return c=z(s),f=xl(c.R)+"/documents",d={documents:a.map(function(S){return Rl(c.R,S)})},[4,c.Oi("BatchGetDocuments",f,d)];case 1:return v=_.sent(),y=new Map,v.forEach(function(S){var T=function(C,I){return"found"in I?function(E,k){te(!!k.found),k.found.name,k.found.updateTime;var A=$r(E,k.found.name),L=Bt(k.found.updateTime),R=new vn({mapValue:{fields:k.found.fields}});return xt.newFoundDocument(A,L,R)}(C,I):"missing"in I?function(E,k){te(!!k.missing),te(!!k.readTime);var A=$r(E,k.missing),L=Bt(k.readTime);return xt.newNoDocument(A,L)}(C,I):X()}(c.R,S);y.set(T.key.toString(),T)}),g=[],[2,(a.forEach(function(S){var T=y.get(S.toString());te(!!T),g.push(T)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new oc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return F(this,void 0,void 0,function(){var t,n=this;return M(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=Y.fromPath(s);n.mutations.push(new ww(a,n.precondition(a)))}),[4,function(o,s){return F(this,void 0,void 0,function(){var a,c,f;return M(this,function(d){switch(d.label){case 0:return a=z(o),c=xl(a.R)+"/documents",f={writes:s.map(function(v){return zh(a.R,v)})},[4,a.Ni("Commit",c,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw X();n=ue.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Nt.updateTime(n):Nt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ue.min()))throw new j(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(n)}return Nt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),P4=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Aw(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return F(t,void 0,void 0,function(){var n,r,o=this;return M(this,function(s){return n=new x4(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(c){o.ic(c)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!es(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!NA(n)}return!1},e}(),D4=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zt.UNAUTHENTICATED,this.clientId=uA.u(),this.credentialListener=function(){},this.receivedInitialUser=new Tn,this.credentials.setChangeListener(function(s){B("FirestoreClient","Received user=",s.uid),o.user=s,o.credentialListener(s),o.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(x.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return F(t,void 0,void 0,function(){var r,o;return M(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=zu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(e,t){return F(this,void 0,void 0,function(){var n,r,o=this;return M(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return F(o,void 0,void 0,function(){return M(this,function(c){switch(c.label){case 0:return[4,eR(t.localStore,a)];case 1:return c.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function SR(e,t){return F(this,void 0,void 0,function(){var n,r;return M(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,qw(e)];case 1:return n=o.sent(),B("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,c){return F(this,void 0,void 0,function(){var f,d;return M(this,function(v){switch(v.label){case 0:return(f=z(a)).asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials"),d=Wi(f),f.$r.add(3),[4,$u(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(c)];case 2:return v.sent(),f.$r.delete(3),[4,sc(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function qw(e){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(B("FirestoreClient","Using default OfflineComponentProvider"),[4,ER(e,new wR)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Fd(e){return F(this,void 0,void 0,function(){return M(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(B("FirestoreClient","Using default OnlineComponentProvider"),[4,SR(e,new Ly)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function cb(e){return qw(e).then(function(t){return t.persistence})}function IR(e){return qw(e).then(function(t){return t.localStore})}function fb(e){return Fd(e).then(function(t){return t.remoteStore})}function TR(e){return Fd(e).then(function(t){return t.syncEngine})}function Pu(e){return F(this,void 0,void 0,function(){var t,n;return M(this,function(r){switch(r.label){case 0:return[4,Fd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=d4.bind(null,t.syncEngine),n.onUnlisten=p4.bind(null,t.syncEngine),n)]}})})}function hb(e,t,n){var r=this;n===void 0&&(n={});var o=new Tn;return e.asyncQueue.enqueueAndForget(function(){return F(r,void 0,void 0,function(){var s;return M(this,function(a){switch(a.label){case 0:return s=function(c,f,d,v,y){var g=new Md({next:function(S){f.enqueueAndForget(function(){return Ow(c,_)});var T=S.docs.has(d);!T&&S.fromCache?y.reject(new j(x.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&S.fromCache&&v&&v.source==="server"?y.reject(new j(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),_=new Mw(ec(d.path),g,{includeMetadataChanges:!0,so:!0});return Dw(c,_)},[4,Pu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function db(e,t,n){var r=this;n===void 0&&(n={});var o=new Tn;return e.asyncQueue.enqueueAndForget(function(){return F(r,void 0,void 0,function(){var s;return M(this,function(a){switch(a.label){case 0:return s=function(c,f,d,v,y){var g=new Md({next:function(S){f.enqueueAndForget(function(){return Ow(c,_)}),S.fromCache&&v.source==="server"?y.reject(new j(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:function(S){return y.reject(S)}}),_=new Mw(d,g,{includeMetadataChanges:!0,so:!0});return Dw(c,_)},[4,Pu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var O4=function(e,t,n,r,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a},Yh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),pb=new Map,bR=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},vb=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(Zt.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),L4=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),M4=function(){function e(t){var n=this;this.oc=null,this.currentUser=Zt.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(B("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(te(typeof o.accessToken=="string"),new bR(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new Zt(t)},e}(),F4=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),U4=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new F4(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(Zt.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(e,t,n){if(!n)throw new j(x.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Hw(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(x.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kR(e,t,n,r){if(t===!0&&r===!0)throw new j(x.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function mb(e){if(!Y.isDocumentKey(e))throw new j(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function gb(e){if(Y.isDocumentKey(e))throw new j(x.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ud(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":X()}function we(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ud(e);throw new j(x.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function yb(e,t){if(t<=0)throw new j(x.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wb=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,kR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),Dl=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,t instanceof Yh?(this._databaseId=t,this._credentials=new vb):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(r.options.projectId)}(t),this._credentials=new M4(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new vb;switch(n.type){case"gapi":var r=n.client;return te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new U4(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(x.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=pb.get(t))&&(B("ComponentProvider","Removing Datastore"),pb.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ve=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Oi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),_n=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Oi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,ec(o))||this)._path=o,s.type="collection",s}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ve(this.firestore,null,new Y(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(_n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=Te(e),zw("collection","path",t),e instanceof Dl)return gb(n=ye.fromString.apply(ye,Oe([t],r))),new Oi(e,null,n);if(!(e instanceof Ve||e instanceof Oi))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gb(n=ye.fromString.apply(ye,Oe([e.path],r)).child(ye.fromString(t))),new Oi(e.firestore,null,n)}function rh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=Te(e),arguments.length===1&&(t=uA.u()),zw("doc","path",t),e instanceof Dl)return mb(n=ye.fromString.apply(ye,Oe([t],r))),new Ve(e,null,new Y(n));if(!(e instanceof Ve||e instanceof Oi))throw new j(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mb(n=e._path.child(ye.fromString.apply(ye,Oe([t],r)))),new Ve(e.firestore,e instanceof Oi?e.converter:null,new Y(n))}function CR(e,t){return e=Te(e),t=Te(t),(e instanceof Ve||e instanceof Oi)&&(t instanceof Ve||t instanceof Oi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function AR(e,t){return e=Te(e),t=Te(t),e instanceof _n&&t instanceof _n&&e.firestore===t.firestore&&tc(e._query,t._query)&&e.converter===t.converter}var j4=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Aw(this,"async_queue_retry"),this.Ec=function(){var r=nh();r&&B("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=nh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=nh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return F(this,void 0,void 0,function(){var t,n=this;return M(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!ts(t=r.sent()))throw t;return B("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(o){throw n.mc=o,n.yc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.yc=!1,o})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=o4.createAndSchedule(this,t,n,r,function(a){return o.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&X()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,o=n._c;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Du(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var V4=-1,st=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new j4,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Z(t,e),t.prototype._terminate=function(){return this._firestoreClient||RR(this),this._firestoreClient.terminate()},t}(Dl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(e){return e._firestoreClient||RR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function RR(e){var t,n=e._freezeSettings(),r=function(o,s,a,c){return new O4(o,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new D4(e._credentials,e._queue,r)}function _b(e,t,n){var r=this,o=new Tn;return e.asyncQueue.enqueue(function(){return F(r,void 0,void 0,function(){var s;return M(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,ER(e,n)];case 1:return a.sent(),[4,SR(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===x.FAILED_PRECONDITION||c.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Eb(e){if(e._initialized||e._terminated)throw new j(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Xo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(un.fromBase64String(t))}catch(n){throw new j(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(un.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),rs=function(e){this._methodName=e},jd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ce(this._lat,t._lat)||ce(this._long,t._long)},e}(),$4=/^__.*__$/,B4=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms):new ic(t,this.data,n,this.fieldTransforms)},e}(),xR=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Gi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var DR=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Fc(t),o},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Cc({path:r,xc:!1});return o.Sc(),o},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return Jh(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(PR(this.Dc)&&$4.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),q4=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Od(t)}return e.prototype.Bc=function(t,n,r,o){return o===void 0&&(o=!1),new DR({Dc:t,methodName:n,Lc:r,path:jn.emptyPath(),xc:!1,Mc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function is(e){var t=e._freezeSettings(),n=Od(e._databaseId);return new q4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vd(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,o);Qw("Data must be an object, but it was:",a,r);var c,f,d=MR(r,a);if(s.merge)c=new wu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var v=[],y=0,g=s.mergeFields;y<g.length;y++){var _=My(t,g[y],n);if(!a.contains(_))throw new j(x.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");UR(v,_)||v.push(_)}c=new wu(v),f=a.fieldTransforms.filter(function(S){return c.covers(S.field)})}else c=null,f=a.fieldTransforms;return new B4(new vn(d),c,f)}var Kw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(rs);function OR(e,t,n){return new DR({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var z4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype._toFieldTransform=function(n){return new rc(n.path,new Iu)},t.prototype.isEqual=function(n){return n instanceof t},t}(rs),H4=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return Z(t,e),t.prototype._toFieldTransform=function(n){var r=OR(this,n,!0),o=this.qc.map(function(a){return os(a,r)}),s=new Wo(o);return new rc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(rs),K4=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).qc=r,o}return Z(t,e),t.prototype._toFieldTransform=function(n){var r=OR(this,n,!0),o=this.qc.map(function(a){return os(a,r)}),s=new Qo(o);return new rc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(rs),G4=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Uc=r,o}return Z(t,e),t.prototype._toFieldTransform=function(n){var r=new Tu(n.R,EA(n.R,this.Uc));return new rc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(rs);function Gw(e,t,n,r){var o=e.Bc(1,t,n);Qw("Data must be an object, but it was:",o,r);var s=[],a=vn.empty();Jl(r,function(f,d){var v=Xw(t,f,n);d=Te(d);var y=o.kc(v);if(d instanceof Kw)s.push(v);else{var g=os(d,y);g!=null&&(s.push(v),a.set(v,g))}});var c=new wu(s);return new xR(a,c,o.fieldTransforms)}function Ww(e,t,n,r,o,s){var a=e.Bc(1,t,n),c=[My(t,r,n)],f=[o];if(s.length%2!=0)throw new j(x.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)c.push(My(t,s[d])),f.push(s[d+1]);for(var v=[],y=vn.empty(),g=c.length-1;g>=0;--g)if(!UR(v,c[g])){var _=c[g],S=f[g];S=Te(S);var T=a.kc(_);if(S instanceof Kw)v.push(_);else{var C=os(S,T);C!=null&&(v.push(_),y.set(_,C))}}var I=new wu(v);return new xR(y,I,a.fieldTransforms)}function LR(e,t,n,r){return r===void 0&&(r=!1),os(n,e.Bc(r?4:3,t))}function os(e,t){if(FR(e=Te(e)))return Qw("Unsupported field value:",t,e),MR(e,t);if(e instanceof rs)return function(n,r){if(!PR(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,c=n;a<c.length;a++){var f=os(c[a],r.Oc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=Te(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EA(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=sn.fromDate(n);return{timestampValue:Al(r.R,o)}}if(n instanceof sn)return o=new sn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Al(r.R,o)};if(n instanceof jd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xo)return{bytesValue:xA(r.R,n._byteString)};if(n instanceof Ve){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Sw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+Ud(n))}(e,t)}function MR(e,t){var n={};return lA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jl(e,function(r,o){var s=os(o,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function FR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof sn||e instanceof jd||e instanceof Xo||e instanceof Ve||e instanceof rs)}function Qw(e,t,n){if(!FR(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=Ud(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function My(e,t,n){if((t=Te(t))instanceof Ir)return t._internalPath;if(typeof t=="string")return Xw(e,t);throw Jh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var W4=new RegExp("[~\\*/\\[\\]]");function Xw(e,t,n){if(t.search(W4)>=0)throw Jh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ir.bind.apply(Ir,Oe([void 0],t.split("."))))()._internalPath}catch{throw Jh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Jh(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new j(x.INVALID_ARGUMENT,(c+=". ")+e+f)}function UR(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ol=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ve(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Zh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Q4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ol);function Zh(e,t){return typeof t=="string"?Xw(e,t):t instanceof Ir?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),qr=function(e){function t(n,r,o,s,a,c){var f=this;return(f=e.call(this,n,r,o,s,c)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Z(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(Zh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Ol),nl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(qr),_i=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new nl(r._firestore,r._userDataWriter,o.key,o,new Ro(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){var f=new nl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ro(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return o||c.type!==3}).map(function(c){var f=new nl(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ro(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,v=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(v=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:X4(c.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function X4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}function jR(e,t){return e instanceof qr&&t instanceof qr?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _i&&t instanceof _i&&e._firestore===t._firestore&&AR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(e){if(qh(e)&&e.explicitOrderBy.length===0)throw new j(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uc=function(){};function fi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var Y4=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=o,s.type="where",s}return Z(t,e),t.prototype._apply=function(n){var r=is(n.firestore),o=function(s,a,c,f,d,v,y){var g;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new j(x.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){kb(y,v);for(var _=[],S=0,T=y;S<T.length;S++){var C=T[S];_.push(bb(f,s,C))}g={arrayValue:{values:_}}}else g=bb(f,s,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||kb(y,v),g=LR(c,"where",y,v==="in"||v==="not-in");var I=yn.create(d,v,g);return function(E,k){if(k.g()){var A=gw(E);if(A!==null&&!A.isEqual(k.field))throw new j(x.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+A.toString()+"' and '"+k.field.toString()+"'");var L=mw(E);L!==null&&BR(E,k.field,L)}var R=function(O,P){for(var Q=0,N=O.filters;Q<N.length;Q++){var _e=N[Q];if(P.indexOf(_e.op)>=0)return _e.op}return null}(E,function(O){switch(O){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(R!==null)throw R===k.op?new j(x.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new j(x.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+R.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new _n(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new Xr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(uc),J4=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Qc=n,o.Wc=r,o.type="orderBy",o}return Z(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new j(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new j(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new lu(s,a);return function(f,d){if(mw(f)===null){var v=gw(f);v!==null&&BR(f,v,d.field)}}(o,c),c}(n._query,this.Qc,this.Wc);return new _n(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new Xr(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(uc),Sb=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=o,s}return Z(t,e),t.prototype._apply=function(n){return new _n(n.firestore,n.converter,mA(n._query,this.Gc,this.zc))},t}(uc),Ib=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Z(t,e),t.prototype._apply=function(n){var r=$R(n,this.type,this.Hc,this.Jc);return new _n(n.firestore,n.converter,function(o,s){return new Xr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(uc),Tb=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Z(t,e),t.prototype._apply=function(n){var r=$R(n,this.type,this.Hc,this.Jc);return new _n(n.firestore,n.converter,function(o,s){return new Xr(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(uc);function $R(e,t,n,r){if(n[0]=Te(n[0]),n[0]instanceof Ol)return function(s,a,c,f,d){if(!f)throw new j(x.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var v=[],y=0,g=Su(s);y<g.length;y++){var _=g[y];if(_.field.isKeyField())v.push(Vh(a,f.key));else{var S=f.data.field(_.field);if(dw(S))throw new j(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){var T=_.field.canonicalString();throw new j(x.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}v.push(S)}}return new Cl(v,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=is(e.firestore);return function(s,a,c,f,d,v){var y=s.explicitOrderBy;if(d.length>y.length)throw new j(x.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],_=0;_<d.length;_++){var S=d[_];if(y[_].field.isKeyField()){if(typeof S!="string")throw new j(x.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof S);if(!yw(s)&&S.indexOf("/")!==-1)throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+S+"' contains a slash.");var T=s.path.child(ye.fromString(S));if(!Y.isDocumentKey(T))throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var C=new Y(T);g.push(Vh(a,C))}else{var I=LR(c,f,S);g.push(I)}}return new Cl(g,v)}(e._query,e.firestore._databaseId,o,t,n,r)}function bb(e,t,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yw(t)&&n.indexOf("/")!==-1)throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(ye.fromString(n));if(!Y.isDocumentKey(r))throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vh(e,new Y(r))}if(n instanceof Ve)return Vh(e,n._key);throw new j(x.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ud(n)+".")}function kb(e,t){if(!Array.isArray(e)||e.length===0)throw new j(x.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(x.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function BR(e,t,n){if(!n.isEqual(t))throw new j(x.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yw=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Vi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_u(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw X()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Jl(t.fields||{},function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new jd(Ze(t.latitude),Ze(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=fA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ji(t);return new sn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=ye.fromString(t);te(jA(r));var o=new Yh(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return o.isEqual(n)||tt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Z4=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Z(t,e),t.prototype.convertBytes=function(n){return new Xo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ve(this.firestore,null,r)},t}(Yw),eV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=is(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Ei(t,this._firestore),s=$d(o.converter,n,r),a=Vd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,Nt.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,c=Ei(t,this._firestore);return a=typeof(n=Te(n))=="string"||n instanceof Ir?Ww(this._dataReader,"WriteBatch.update",c._key,n,r,o):Gw(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,Nt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Ei(t,this._firestore);return this._mutations=this._mutations.concat(new oc(n._key,Nt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){if((e=Te(e)).firestore!==t)throw new j(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Z(t,e),t.prototype.convertBytes=function(n){return new Xo(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ve(this.firestore,null,r)},t}(Yw);function Nb(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=we(e,Ve);var s=we(e.firestore,st),a=is(s);return Ll(s,[(typeof(t=Te(t))=="string"||t instanceof Ir?Ww(a,"updateDoc",e._key,t,n,r):Gw(a,"updateDoc",e._key,t)).toMutation(e._key,Nt.exists(!0))])}function qR(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=Te(e);var a={includeMetadataChanges:!1},c=0;typeof o[c]!="object"||Du(o[c])||(a=o[c],c++);var f,d,v,y={includeMetadataChanges:a.includeMetadataChanges};if(Du(o[c])){var g=o[c];o[c]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[c+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[c+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof Ve)d=we(e.firestore,st),v=ec(e._key.path),f={next:function(T){o[c]&&o[c](Fy(d,e,T))},error:o[c+1],complete:o[c+2]};else{var _=we(e,_n);d=we(_.firestore,st),v=_._query;var S=new Lo(d);f={next:function(T){o[c]&&o[c](new _i(d,S,_,T))},error:o[c+1],complete:o[c+2]},VR(e._query)}return function(T,C,I,E){var k=this,A=new Md(E),L=new Mw(C,A,I);return T.asyncQueue.enqueueAndForget(function(){return F(k,void 0,void 0,function(){var R;return M(this,function(O){switch(O.label){case 0:return R=Dw,[4,Pu(T)];case 1:return[2,R.apply(void 0,[O.sent(),L])]}})})}),function(){A.Wo(),T.asyncQueue.enqueueAndForget(function(){return F(k,void 0,void 0,function(){var R;return M(this,function(O){switch(O.label){case 0:return R=Ow,[4,Pu(T)];case 1:return[2,R.apply(void 0,[O.sent(),L])]}})})})}}(kt(d),v,y,f)}function Ll(e,t){return function(n,r){var o=this,s=new Tn;return n.asyncQueue.enqueueAndForget(function(){return F(o,void 0,void 0,function(){var a;return M(this,function(c){switch(c.label){case 0:return a=v4,[4,TR(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(kt(e),t)}function Fy(e,t,n){var r=n.docs.get(t._key),o=new Lo(e);return new qr(e,o,t._key,r,new Ro(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Z(t,e),t.prototype.get=function(n){var r=this,o=Ei(n,this._firestore),s=new Lo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new qr(r._firestore,s,o._key,a._document,new Ro(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=is(t)}return e.prototype.get=function(t){var n=this,r=Ei(t,this._firestore),o=new Z4(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return X();var a=s[0];if(a.isFoundDocument())return new Ol(n._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new Ol(n._firestore,o,r._key,null,r.converter);throw X()})},e.prototype.set=function(t,n,r){var o=Ei(t,this._firestore),s=$d(o.converter,n,r),a=Vd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,c=Ei(t,this._firestore);return a=typeof(n=Te(n))=="string"||n instanceof Ir?Ww(this._dataReader,"Transaction.update",c._key,n,r,o):Gw(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=Ei(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){if(typeof Uint8Array>"u")throw new j(x.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ab(){if(typeof atob>"u")throw new j(x.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zR=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return Ab(),new e(Xo.fromBase64String(t))},e.fromUint8Array=function(t){return Cb(),new e(Xo.fromUint8Array(t))},e.prototype.toBase64=function(){return Ab(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Cb(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),nV=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){Eb(r=we(r,st));var s=kt(r),a=r._freezeSettings(),c=new Ly;return _b(s,c,new _R(c,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Eb(n=we(n,st));var r=kt(n),o=n._freezeSettings(),s=new Ly;return _b(r,s,new R4(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Tn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return F(r,void 0,void 0,function(){var s;return M(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return F(this,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return Nu.yt()?(f=c+"main",[4,Nu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Nw(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),HR=function(){function e(t,n,r){var o=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Yh||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,a,c){c===void 0&&(c={});var f=(o=we(o,Dl))._getSettings();if(f.host!=="firestore.googleapis.com"&&f.host!==s&&Iy("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},f),{host:s+":"+a,ssl:!1})),c.mockUserToken){var d=NF(c.mockUserToken),v=c.mockUserToken.sub||c.mockUserToken.user_id;if(!v)throw new j(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o._credentials=new L4(new bR(d,new Zt(v)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var r,o;return M(this,function(s){switch(s.label){case 0:return[4,cb(t)];case 1:return r=s.sent(),[4,fb(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=z(a);return c.$r.delete(0),sc(c)}(o))]}})})})}(kt(we(this._delegate,st)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return F(n,void 0,void 0,function(){var r,o;return M(this,function(s){switch(s.label){case 0:return[4,cb(t)];case 1:return r=s.sent(),[4,fb(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return F(this,void 0,void 0,function(){var c;return M(this,function(f){switch(f.label){case 0:return(c=z(a)).$r.add(0),[4,$u(c)];case 1:return f.sent(),c.Br.set("Offline"),[2]}})})}(o))]}})})})}(kt(we(this._delegate,st)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&kR("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Tn;return t.asyncQueue.enqueueAndForget(function(){return F(n,void 0,void 0,function(){var o;return M(this,function(s){switch(s.label){case 0:return o=w4,[4,TR(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(kt(we(this._delegate,st)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,c=new Md(s);return o.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return f=function(v,y){z(v).Gr.add(y),y.next()},[4,Pu(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})}),function(){c.Wo(),o.asyncQueue.enqueueAndForget(function(){return F(a,void 0,void 0,function(){var f;return M(this,function(d){switch(d.label){case 0:return f=function(v,y){z(v).Gr.delete(y)},[4,Pu(o)];case 1:return[2,f.apply(void 0,[d.sent(),c])]}})})})}}(kt(n=we(n,st)),Du(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new j(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ed(this,NR(this._delegate,t))}catch(n){throw Ft(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Mo(this,rh(this._delegate,t))}catch(n){throw Ft(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zd(this,function(n,r){if(n=we(n,Dl),zw("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(x.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _n(n,null,function(o){return new Xr(ye.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Ft(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var c=this,f=new Tn;return s.asyncQueue.enqueueAndForget(function(){return F(c,void 0,void 0,function(){var d;return M(this,function(v){switch(v.label){case 0:return[4,function(y){return Fd(y).then(function(g){return g.datastore})}(s)];case 1:return d=v.sent(),new P4(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(kt(r),function(s){return o(new tV(r,s))})}(this._delegate,function(r){return t(new KR(n,r))})},e.prototype.batch=function(){var t=this;return kt(this._delegate),new GR(new eV(this._delegate,function(n){return Ll(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(x.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(x.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Bd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Z(t,e),t.prototype.convertBytes=function(n){return new zR(new Xo(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Mo.Zc(r,this.firestore,null)},t}(Yw);function rV(e){var t;t=e,rr.setLogLevel(t)}var KR=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Bd(t)}return e.prototype.get=function(t){var n=this,r=xo(t);return this._delegate.get(r).then(function(o){return new Ml(n._firestore,new qr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=xo(t);return r?(Hw("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=xo(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Oe([c,n,r],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e}(),GR=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=xo(t);return r?(Hw("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=xo(t);return arguments.length===2?this._delegate.update(c,n):(o=this._delegate).update.apply(o,Oe([c,n,r],s)),this},e.prototype.delete=function(t){var n=xo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),qd=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new nl(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fl(this._firestore,r),n!=null?n:{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Bd(t),n),o.set(n,s)),s},e}();qd.eu=new WeakMap;var Mo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Bd(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new j(x.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ve(n._delegate,r,new Y(t)))},e.Zc=function(t,n,r){return new e(n,new Ve(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ed(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ed(this.firestore,NR(this._delegate,t))}catch(n){throw Ft(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Te(t))instanceof Ve&&CR(this._delegate,t)},e.prototype.set=function(t,n){n=Hw("DocumentReference.set",n);try{return function(r,o,s){r=we(r,Ve);var a=we(r.firestore,st),c=$d(r.converter,o,s);return Ll(a,[Vd(is(a),"setDoc",r._key,c,r.converter!==null,s).toMutation(r._key,Nt.none())])}(this._delegate,t,n)}catch(r){throw Ft(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?Nb(this._delegate,t):Nb.apply(void 0,Oe([this._delegate,t,n],r))}catch(s){throw Ft(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ll(we((t=this._delegate).firestore,st),[new oc(t._key,Nt.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=WR(n),s=QR(n,function(a){return new Ml(t.firestore,new qr(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return qR(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=we(r,Ve);var o=we(r.firestore,st),s=kt(o),a=new Lo(o);return function(c,f){var d=this,v=new Tn;return c.asyncQueue.enqueueAndForget(function(){return F(d,void 0,void 0,function(){var y;return M(this,function(g){switch(g.label){case 0:return y=function(_,S,T){return F(this,void 0,void 0,function(){var C,I;return M(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,function(k,A){var L=z(k);return L.persistence.runTransaction("read document","readonly",function(R){return L.Mn.mn(R,A)})}(_,S)];case 1:return(I=E.sent()).isFoundDocument()?T.resolve(I):I.isNoDocument()?T.resolve(null):T.reject(new j(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=E.sent(),I=zu(C,"Failed to get document '"+S+" from cache"),T.reject(I),[3,3];case 3:return[2]}})})},[4,IR(c)];case 1:return[2,y.apply(void 0,[g.sent(),f,v])]}})})}),v.promise}(s,r._key).then(function(c){return new qr(o,a,r._key,c,new Ro(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=we(r,Ve);var o=we(r.firestore,st);return hb(kt(o),r._key,{source:"server"}).then(function(s){return Fy(o,r,s)})}(this._delegate):function(r){r=we(r,Ve);var o=we(r.firestore,st);return hb(kt(o),r._key).then(function(s){return Fy(o,r,s)})}(this._delegate)).then(function(r){return new Ml(n.firestore,new qr(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qd.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Ft(e,t,n){return e.message=e.message.replace(t,n),e}function WR(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Du(r))return r}return{}}function QR(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Du(e[0])?e[0]:Du(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Ml=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return jR(this._delegate,t._delegate)},e}(),Fl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ml),zd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Bd(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,fi(this._delegate,function(o,s,a){var c=s,f=Zh("where",o);return new Y4(f,c,a)}(t,n,r)))}catch(o){throw Ft(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,fi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=Zh("orderBy",r);return new J4(a,s)}(t,n)))}catch(r){throw Ft(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,fi(this._delegate,function(n){return yb("limit",n),new Sb("limit",n,"F")}(t)))}catch(n){throw Ft(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,fi(this._delegate,function(n){return yb("limitToLast",n),new Sb("limitToLast",n,"L")}(t)))}catch(n){throw Ft(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new Ib("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Ft(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new Ib("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Ft(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new Tb("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Ft(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fi(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new Tb("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Ft(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return AR(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=we(r,_n);var o=we(r.firestore,st),s=kt(o),a=new Lo(o);return function(c,f){var d=this,v=new Tn;return c.asyncQueue.enqueueAndForget(function(){return F(d,void 0,void 0,function(){var y;return M(this,function(g){switch(g.label){case 0:return y=function(_,S,T){return F(this,void 0,void 0,function(){var C,I,E,k,A;return M(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Wh(_,S,!0)];case 1:return A=L.sent(),C=new vR(S,A.Bn),I=C._o(A.documents),E=C.applyChanges(I,!1),T.resolve(E.snapshot),[3,3];case 2:return k=L.sent(),A=zu(k,"Failed to execute query '"+S+" against cache"),T.reject(A),[3,3];case 3:return[2]}})})},[4,IR(c)];case 1:return[2,y.apply(void 0,[g.sent(),f,v])]}})})}),v.promise}(s,r._query).then(function(c){return new _i(o,a,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=we(r,_n);var o=we(r.firestore,st),s=kt(o),a=new Lo(o);return db(s,r._query,{source:"server"}).then(function(c){return new _i(o,a,r,c)})}(this._delegate):function(r){r=we(r,_n);var o=we(r.firestore,st),s=kt(o),a=new Lo(o);return VR(r._query),db(s,r._query).then(function(c){return new _i(o,a,r,c)})}(this._delegate)).then(function(r){return new Uy(n.firestore,new _i(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=WR(n),s=QR(n,function(a){return new Uy(t.firestore,new _i(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return qR(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(qd.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),iV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Fl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Uy=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new zd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Fl(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new iV(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Fl(r._firestore,o))})},e.prototype.isEqual=function(t){return jR(this._delegate,t._delegate)},e}(),ed=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Z(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Mo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Mo(this.firestore,n===void 0?rh(this._delegate):rh(this._delegate,n))}catch(r){throw Ft(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=we(o.firestore,st),c=rh(o),f=$d(o.converter,s);return Ll(a,[Vd(is(o.firestore),"addDoc",c._key,f,o.converter!==null,{}).toMutation(c._key,Nt.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(o){return new Mo(r.firestore,o)})},t.prototype.isEqual=function(n){return CR(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(qd.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(zd);function xo(e){return we(e,Ve)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oV=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ir.bind.apply(Ir,Oe([void 0],t)))}return e.documentId=function(){return new e(jn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Te(t))instanceof Ir&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),sV=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new z4("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Kw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new H4("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new K4("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new G4("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),uV={Firestore:HR,GeoPoint:jd,Timestamp:sn,Blob:zR,Transaction:KR,WriteBatch:GR,DocumentReference:Mo,DocumentSnapshot:Ml,Query:zd,QueryDocumentSnapshot:Fl,QuerySnapshot:Uy,CollectionReference:ed,FieldPath:oV,FieldValue:sV,setLogLevel:rV,CACHE_SIZE_UNLIMITED:V4};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(e){(function(t,n){t.INTERNAL.registerComponent(new zl("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},uV)))})(e,function(t,n){return new HR(t,new st(t,n),new nV)}),e.registerVersion("@firebase/firestore","2.3.0")}aV(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR="firebasestorage.googleapis.com",YR="storageBucket",lV=2*60*1e3,cV=10*60*1e3,nt=function(e){Z(t,e);function t(n,r){var o=e.call(this,hg(n),"Firebase Storage: "+r+" ("+hg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return hg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(JN);function hg(e){return"storage/"+e}function Jw(){var e="An unknown error occurred, please check the error payload for server response.";return new nt("unknown",e)}function fV(e){return new nt("object-not-found","Object '"+e+"' does not exist.")}function hV(e){return new nt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nt("unauthenticated",e)}function pV(){return new nt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function vV(e){return new nt("unauthorized","User does not have permission to access '"+e+"'.")}function mV(){return new nt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function JR(){return new nt("canceled","User canceled the upload/download.")}function gV(e){return new nt("invalid-url","Invalid URL '"+e+"'.")}function yV(e){return new nt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function wV(){return new nt("no-default-bucket","No default bucket found. Did you set the '"+YR+"' property when initializing the app?")}function ZR(){return new nt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _V(){return new nt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function EV(){return new nt("no-download-url","The given file does not have any download URLs.")}function Fo(e){return new nt("invalid-argument",e)}function ex(){return new nt("app-deleted","The Firebase app was deleted.")}function tx(e){return new nt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rl(e,t){return new nt("invalid-format","String does not match format '"+e+"': "+t)}function Mf(e){throw new nt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function nx(e,t){switch(e){case On.RAW:return new dg(rx(t));case On.BASE64:case On.BASE64URL:return new dg(ix(e,t));case On.DATA_URL:return new dg(IV(t),TV(t))}throw Jw()}function rx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function SV(e){var t;try{t=decodeURIComponent(e)}catch{throw rl(On.DATA_URL,"Malformed data URL.")}return rx(t)}function ix(e,t){switch(e){case On.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw rl(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case On.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw rl(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(t)}catch{throw rl(e,"Invalid character found")}for(var f=new Uint8Array(c.length),d=0;d<c.length;d++)f[d]=c.charCodeAt(d);return f}var ox=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw rl(On.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=bV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function IV(e){var t=new ox(e);return t.base64?ix(On.BASE64,t.rest):SV(t.rest)}function TV(e){var t=new ox(e);return t.contentType}function bV(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kV={STATE_CHANGED:"state_changed"},Ut={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pg(e){switch(e){case"running":case"pausing":case"canceling":return Ut.RUNNING;case"paused":return Ut.PAUSED;case"success":return Ut.SUCCESS;case"canceled":return Ut.CANCELED;case"error":return Ut.ERROR;default:return Ut.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NV=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Uo.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Uo.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw Mf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Mf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Mf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Mf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CV=function(){function e(){}return e.prototype.createXhrIo=function(){return new NV},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw yV(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(Q){Q.path_=decodeURIComponent(Q.path)}for(var v="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp("^https?://"+y+"/"+v+"/b/"+o+"/o"+g,"i"),S={bucket:1,path:3},T=n===XR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",I=new RegExp("^https?://"+T+"/"+o+"/"+C,"i"),E={bucket:1,path:2},k=[{regex:c,indices:f,postModify:s},{regex:_,indices:S,postModify:d},{regex:I,indices:E,postModify:d}],A=0;A<k.length;A++){var L=k[A],R=L.regex.exec(t);if(R){var O=R[L.indices.bucket],P=R[L.indices.path];P||(P=""),r=new e(O,P),L.postModify(r);break}}if(r==null)throw gV(t);return r},e}(),AV=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(e,t,n){var r=1,o=null,s=!1,a=0;function c(){return a===2}var f=!1;function d(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];f||(f=!0,t.apply(null,S))}function v(S){o=setTimeout(function(){o=null,e(y,c())},S)}function y(S){for(var T=[],C=1;C<arguments.length;C++)T[C-1]=arguments[C];if(!f){if(S){d.call.apply(d,Oe([null,S],T));return}var I=c()||s;if(I){d.call.apply(d,Oe([null,S],T));return}r<64&&(r*=2);var E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,v(E)}}var g=!1;function _(S){g||(g=!0,!f&&(o!==null?(S||(a=2),clearTimeout(o),v(0)):S||(a=1)))}return v(0),setTimeout(function(){s=!0,_(!0)},n),_}function xV(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(e){return e!==void 0}function DV(e){return typeof e=="function"}function OV(e){return typeof e=="object"&&!Array.isArray(e)}function Hd(e){return typeof e=="string"||e instanceof String}function Rb(e){return Zw()&&e instanceof Blob}function Zw(){return typeof Blob<"u"}function jy(e,t,n,r){if(r<t)throw Fo("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Fo("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function sx(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LV=function(){function e(t,n,r,o,s,a,c,f,d,v,y){var g=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=f,this.progressCallback_=v,this.timeout_=d,this.pool_=y,this.promise_=new Promise(function(_,S){g.resolve_=_,g.reject_=S,g.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Ff(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function c(f){var d=f.loaded,v=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,v)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(f){t.progressCallback_!==null&&f.removeUploadProgressListener(c),t.pendingXhr_=null,f=f;var d=f.getErrorCode()===Uo.NO_ERROR,v=f.getStatus();if(!d||t.isRetryStatusCode_(v)){var y=f.getErrorCode()===Uo.ABORT;o(!1,new Ff(!1,null,y));return}var g=t.successCodes_.indexOf(v)!==-1;o(!0,new Ff(g,f))})}function r(o,s){var a=t.resolve_,c=t.reject_,f=s.xhr;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());PV(d)?a(d):a()}catch(y){c(y)}else if(f!==null){var v=Jw();v.serverResponse=f.getResponseText(),t.errorCallback_?c(t.errorCallback_(f,v)):c(v)}else if(s.canceled){var v=t.appDelete_?ex():JR();c(v)}else{var v=mV();c(v)}}this.canceled_?r(!1,new Ff(!1,null,!0)):this.backoffId_=RV(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xV(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Ff=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function MV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function FV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function UV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function jV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function VV(e,t,n,r,o,s){var a=sx(e.urlParams),c=e.url+a,f=Object.assign({},e.headers);return UV(f,t),MV(f,n),FV(f,s),jV(f,r),new LV(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$V();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Zw())return new Blob(e);throw new nt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function qV(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e1=function(){function e(t,n){var r=0,o="";Rb(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Rb(this.data_)){var r=this.data_,o=qV(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Zw()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(BV.apply(null,r))}else{var o=t.map(function(f){return Hd(f)?nx(On.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),c=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[c++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(e){var t;try{t=JSON.parse(e)}catch{return null}return OV(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function HV(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function ux(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(e,t){return t}var Lt=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||KV}return e}(),Uf=null;function GV(e){return!Hd(e)||e.length<2?e:ux(e)}function Kd(){if(Uf)return Uf;var e=[];e.push(new Lt("bucket")),e.push(new Lt("generation")),e.push(new Lt("metageneration")),e.push(new Lt("name","fullPath",!0));function t(s,a){return GV(a)}var n=new Lt("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var o=new Lt("size");return o.xform=r,e.push(o),e.push(new Lt("timeCreated")),e.push(new Lt("updated")),e.push(new Lt("md5Hash",null,!0)),e.push(new Lt("cacheControl",null,!0)),e.push(new Lt("contentDisposition",null,!0)),e.push(new Lt("contentEncoding",null,!0)),e.push(new Lt("contentLanguage",null,!0)),e.push(new Lt("contentType",null,!0)),e.push(new Lt("metadata","customMetadata",!0)),Uf=e,Uf}function WV(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new Ln(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function QV(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return WV(r,e),r}function ax(e,t,n){var r=t1(t);if(r===null)return null;var o=r;return QV(e,o,n)}function XV(e,t,n){var r=t1(t);if(r===null||!Hd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),c=a.map(function(f){var d=e.bucket,v=e.fullPath,y="/b/"+s(d)+"/o/"+s(v),g=Xi(y,n),_=sx({alt:"media",token:f});return g+_});return c[0]}function n1(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xb="prefixes",Pb="items";function YV(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[xb])for(var o=0,s=n[xb];o<s.length;o++){var a=s[o],c=a.replace(/\/$/,""),f=e._makeStorageReference(new Ln(t,c));r.prefixes.push(f)}if(n[Pb])for(var d=0,v=n[Pb];d<v.length;d++){var y=v[d],f=e._makeStorageReference(new Ln(t,y.name));r.items.push(f)}return r}function JV(e,t,n){var r=t1(n);if(r===null)return null;var o=r;return YV(e,t,o)}var Yr=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e){if(!e)throw Jw()}function Gd(e,t){function n(r,o){var s=ax(e,o,t);return Tr(s!==null),s}return n}function ZV(e,t){function n(r,o){var s=JV(e,t,o);return Tr(s!==null),s}return n}function e$(e,t){function n(r,o){var s=ax(e,o,t);return Tr(s!==null),XV(s,o,e.host)}return n}function Hu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=pV():o=dV():n.getStatus()===402?o=hV(e.bucket):n.getStatus()===403?o=vV(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function Wd(e){var t=Hu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=fV(e.path)),s.serverResponse=o.serverResponse,s}return n}function lx(e,t,n){var r=t.fullServerUrl(),o=Xi(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new Yr(o,s,Gd(e,n),a);return c.errorHandler=Wd(t),c}function t$(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),c=Xi(a,e.host),f="GET",d=e.maxOperationRetryTime,v=new Yr(c,f,ZV(e,t.bucket),d);return v.urlParams=s,v.errorHandler=Hu(t),v}function n$(e,t,n){var r=t.fullServerUrl(),o=Xi(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new Yr(o,s,e$(e,n),a);return c.errorHandler=Wd(t),c}function r$(e,t,n,r){var o=t.fullServerUrl(),s=Xi(o,e.host),a="PATCH",c=n1(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,v=new Yr(s,a,Gd(e,r),d);return v.headers=f,v.body=c,v.errorHandler=Wd(t),v}function i$(e,t){var n=t.fullServerUrl(),r=Xi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var c=new Yr(r,o,a,s);return c.successCodes=[200,204],c.errorHandler=Wd(t),c}function o$(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function cx(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=o$(null,t)),r}function s$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var k="",A=0;A<2;A++)k=k+Math.random().toString().slice(2);return k}var f=c();a["Content-Type"]="multipart/related; boundary="+f;var d=cx(t,r,o),v=n1(d,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+f+"--",_=e1.getBlob(y,r,g);if(_===null)throw ZR();var S={name:d.fullPath},T=Xi(s,e.host),C="POST",I=e.maxUploadRetryTime,E=new Yr(T,C,Gd(e,n),I);return E.urlParams=S,E.headers=a,E.body=_.uploadData(),E.errorHandler=Hu(t),E}var td=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function r1(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Tr(!1)}var r=t||["active"];return Tr(!!n&&r.indexOf(n)!==-1),n}function u$(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a=cx(t,r,o),c={name:a.fullPath},f=Xi(s,e.host),d="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},y=n1(a,n),g=e.maxUploadRetryTime;function _(T){r1(T);var C;try{C=T.getResponseHeader("X-Goog-Upload-URL")}catch{Tr(!1)}return Tr(Hd(C)),C}var S=new Yr(f,d,_,g);return S.urlParams=c,S.headers=v,S.body=y,S.errorHandler=Hu(t),S}function a$(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var v=r1(d,["active","final"]),y=null;try{y=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tr(!1)}y||Tr(!1);var g=Number(y);return Tr(!isNaN(g)),new td(g,r.size(),v==="final")}var a="POST",c=e.maxUploadRetryTime,f=new Yr(n,a,s,c);return f.headers=o,f.errorHandler=Hu(t),f}var Db=256*1024;function l$(e,t,n,r,o,s,a,c){var f=new td(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw _V();var d=f.total-f.current,v=d;o>0&&(v=Math.min(v,o));var y=f.current,g=y+v,_=v===d?"upload, finalize":"upload",S={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":f.current},T=r.slice(y,g);if(T===null)throw ZR();function C(A,L){var R=r1(A,["active","final"]),O=f.current+v,P=r.size(),Q;return R==="final"?Q=Gd(t,s)(A,L):Q=null,new td(O,P,R==="final",Q)}var I="POST",E=t.maxUploadRetryTime,k=new Yr(n,I,C,E);return k.headers=S,k.body=T.uploadData(),k.progressCallback=c||null,k.errorHandler=Hu(e),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c$=function(){function e(t,n,r){var o=DV(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fx=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Kd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=u$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=a$(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=Db*this._chunkMultiplier,r=new td(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=l$(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(c,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=Db*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=lx(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=s$(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=JR(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=pg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,a=new c$(n,r,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(pg(this._state)){case Ut.SUCCESS:Ls(this._resolve.bind(null,this.snapshot))();break;case Ut.CANCELED:case Ut.ERROR:var n=this._reject;Ls(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=pg(this._state);switch(n){case Ut.RUNNING:case Ut.PAUSED:t.next&&Ls(t.next.bind(t,this.snapshot))();break;case Ut.SUCCESS:t.complete&&Ls(t.complete.bind(t))();break;case Ut.CANCELED:case Ut.ERROR:t.error&&Ls(t.error.bind(t,this._error))();break;default:t.error&&Ls(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qd=function(){function e(t,n){this._service=t,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Ln(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return ux(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=zV(this._location.path);if(t===null)return null;var n=new Ln(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw tx(t)},e}();function f$(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fx(e,new e1(t),n)}function h$(e){var t={prefixes:[],items:[]};return hx(e,t).then(function(){return t})}function hx(e,t,n){return F(this,void 0,void 0,function(){var r,o,s,a;return M(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,dx(e,r)];case 1:return o=c.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,hx(e,t,o.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function dx(e,t){return F(this,void 0,void 0,function(){var n,r;return M(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&jy("options.maxResults",1,1e3,t.maxResults),n=t||{},r=t$(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function d$(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=lx(e.storage,e._location,Kd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function p$(e,t){return F(this,void 0,void 0,function(){var n;return M(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=r$(e.storage,e._location,t,Kd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function v$(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=n$(e.storage,e._location,Kd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw EV();return r})]}})})}function m$(e){return F(this,void 0,void 0,function(){var t;return M(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=i$(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function px(e,t){var n=HV(e._location.path,t),r=new Ln(e._location.bucket,n);return new Qd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e){return/^[A-Za-z]+:\/\//.test(e)}function g$(e,t){return new Qd(e,t)}function vx(e,t){if(e instanceof Xd){var n=e;if(n._bucket==null)throw wV();var r=new Qd(n,n._bucket);return t!=null?vx(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Fo('`path` param cannot contain ".."');return px(e,t)}else return e}function y$(e,t){if(t&&Vy(t)){if(e instanceof Xd)return g$(e,t);throw Fo("To use ref(service, url), the first argument must be a Storage instance.")}else return vx(e,t)}function Ob(e,t){var n=t==null?void 0:t[YR];return n==null?null:Ln.makeFromBucketSpec(n,e)}function w$(e,t,n){e.host="http://"+t+":"+n}var Xd=function(){function e(t,n,r,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=XR,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lV,this._maxUploadRetryTime=cV,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=Ob(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,t):this._bucket=Ob(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){jy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){jy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return F(this,void 0,void 0,function(){var t,n;return M(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return F(this,void 0,void 0,function(){var t,n;return M(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Qd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new AV(ex());var s=VV(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return F(this,void 0,void 0,function(){var n,r,o;return M(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(e,t,n){return e=Te(e),f$(e,t,n)}function E$(e){return e=Te(e),d$(e)}function S$(e,t){return e=Te(e),p$(e,t)}function I$(e,t){return e=Te(e),dx(e,t)}function T$(e){return e=Te(e),h$(e)}function b$(e){return e=Te(e),v$(e)}function k$(e){return e=Te(e),m$(e)}function Lb(e,t){return e=Te(e),y$(e,t)}function N$(e,t){return px(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mb=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new jf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new jf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new jf(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new jf(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)},e}(),Fb=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Ul(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Ul(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=N$(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new Mb(_$(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=On.RAW),this._throwIfRoot("putString");var o=nx(n,t),s=zo({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new Mb(new fx(this._delegate,new e1(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return T$(this._delegate).then(function(n){return new Fb(n,t.storage)})},e.prototype.list=function(t){var n=this;return I$(this._delegate,t||void 0).then(function(r){return new Fb(r,n.storage)})},e.prototype.getMetadata=function(){return E$(this._delegate)},e.prototype.updateMetadata=function(t){return S$(this._delegate,t)},e.prototype.getDownloadURL=function(){return b$(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),k$(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw tx(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C$=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Vy(t))throw Fo("ref() expected a child path but got a URL, use refFromURL instead.");return new Ul(Lb(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Vy(t))throw Fo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ln.makeFromUrl(t,this._delegate.host)}catch{throw Fo("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ul(Lb(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){w$(this._delegate,t,n)},e}(),A$="@firebase/storage",R$="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x$="storage";function P$(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new C$(r,new Xd(r,o,s,new CV,n,ee.SDK_VERSION));return a}function D$(e){var t={TaskState:Ut,TaskEvent:kV,StringFormat:On,Storage:Xd,Reference:Ul};e.INTERNAL.registerComponent(new zl(x$,P$,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(A$,R$)}D$(ee);const O$={apiKey:"AIzaSyDoosXb_VeZpiVa3nRD3MsQniYg4SuLTyk",authDomain:"project-manager-a1379.firebaseapp.com",projectId:"project-manager-a1379",storageBucket:"project-manager-a1379.appspot.com",messagingSenderId:"1005875101008",appId:"1:1005875101008:web:c4b9097d65b02c5a7e4055"};ee.initializeApp(O$);const L$=ee.firestore(),mx=ee.auth(),M$=ee.storage();ee.firestore.Timestamp;const gx=fe.exports.createContext(),F$=(e,t)=>{switch(t.type){case"LOGIN":return{...e,user:t.payload};case"LOGOUT":return{...e,user:null};case"AUTH_IS_READY":return{user:t.payload,authIsReady:!0};default:return e}},U$=({children:e})=>{const[t,n]=fe.exports.useReducer(F$,{user:null,authIsReady:!1});return fe.exports.useEffect(()=>{const r=mx.onAuthStateChanged(o=>{n({type:"AUTH_IS_READY",payload:o}),r()})},[]),console.log("AuthContext state:",t),pe(gx.Provider,{value:{...t,dispatch:n},children:e})},j$=()=>{const e=fe.exports.useContext(gx);if(!e)throw Error("useAuthContext must be used inside an AuthContextProvider");return e},V$=()=>{const[e,t]=fe.exports.useState(!1),[n,r]=fe.exports.useState(null),[o,s]=fe.exports.useState(!1),{dispatch:a}=j$(),c=async(f,d,v,y)=>{r(null),s(!0);try{const g=await mx.createUserWithEmailAndPassword(f,d);if(!g)throw new Error("Could not complete signup");const _=`thumbnails/${g.user.uid}/${y.name}`,T=await(await M$.ref(_).put(y)).ref.getDownloadURL();await g.user.updateProfile({displayName:v,photoURL:T}),await L$.collection("users").doc(g.user.uid).set({online:!0,displayName:v,photoURL:T}),a({type:"LOGIN",payload:g.user}),e||(s(!1),r(null))}catch(g){e||(r(g.message),s(!1))}};return fe.exports.useEffect(()=>()=>t(!0),[]),{signup:c,error:n,isPending:o}},$$=()=>{const[e,t]=fe.exports.useState(""),[n,r]=fe.exports.useState(""),[o,s]=fe.exports.useState(""),[a,c]=fe.exports.useState(null),[f,d]=fe.exports.useState(null),{signup:v,isPending:y,error:g}=V$();return Fs("form",{onSubmit:async T=>{T.preventDefault(),v(e,n,o,a)},children:[pe("h2",{children:"Sign Up"}),Fs("label",{children:[pe("span",{children:"email"}),pe("input",{required:!0,type:"email",value:e,onChange:T=>t(T.target.value)})]}),Fs("label",{children:[pe("span",{children:"password"}),pe("input",{required:!0,type:"password",value:n,onChange:T=>r(T.target.value)})]}),Fs("label",{children:[pe("span",{children:"display name"}),pe("input",{required:!0,type:"text",value:o,onChange:T=>s(T.target.value)})]}),Fs("label",{children:[pe("span",{children:"choose a thumbnail:"}),pe("input",{required:!0,type:"file",onChange:T=>{c(null);let C=T.target.files[0];if(!C){d("Please select a file");return}if(!C.type.includes("image")){d("Please select an image file");return}if(C.size>1e6){d("Please select a file less than 1MB");return}d(null),c(C),console.log("thumbnail updated")}}),f&&pe("p",{children:f})]}),!y&&pe("button",{children:"Sign Up"}),y&&pe("p",{children:"Loading..."}),g&&pe("p",{children:g})]})};function B$(){return fe.exports.useState(0),pe("div",{className:"App",children:pe(fF,{children:Fs(cF,{children:[pe(Ms,{path:"/",element:pe(yF,{})}),pe(Ms,{path:"/create",element:pe(wF,{})}),pe(Ms,{path:"/login",element:pe(_F,{})}),pe(Ms,{path:"/signup",element:pe($$,{})}),pe(Ms,{path:"/projects/:id",element:pe(EF,{})})]})})})}vg.createRoot(document.getElementById("root")).render(pe(U2.StrictMode,{children:pe(U$,{children:pe(B$,{})})}));
